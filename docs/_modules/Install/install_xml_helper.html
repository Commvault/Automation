

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Install.install_xml_helper &mdash; Commvault Automation 11.24 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Commvault Automation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"></div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Commvault Automation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>Install.install_xml_helper</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for Install.install_xml_helper</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># --------------------------------------------------------------------------</span>
<span class="c1"># Copyright Commvault Systems, Inc.</span>
<span class="c1"># See LICENSE.txt in the project root for</span>
<span class="c1"># license information.</span>
<span class="c1"># --------------------------------------------------------------------------</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This module provides the function or operations for silent install</span>

<span class="sd">InstallXMLGenerator</span>
<span class="sd">===================</span>

<span class="sd">    __init__()                          --  initialize instance of the silent install class</span>
<span class="sd">    write_xml_to_file                   --  Write an Elemet Tree to an XML file</span>
<span class="sd">    silent_install_xml                    --  Helps to generate XML for fresh installations</span>
<span class="sd">    install_flags                       --  Installer Flags required for the client installation</span>
<span class="sd">    firewall_install_flag               --  Firewall Configuration required for generating XML</span>
<span class="sd">    create_xml_file_for_remote          --  Writes root object of the Element Tree to an XML file</span>

<span class="sd">    _set_client_auth_node               --  Details for the client authenticaion on XML for silent install</span>
<span class="sd">    _set_commserve_info_xml             --  Details for the commserve registration on XML for silent install</span>
<span class="sd">    _client_composition_node            --  Consist the information of the client info and packages to be installed</span>
<span class="sd">    _client_info_node                   --  Client group_name and log location info</span>
<span class="sd">    _client_node                        --  Fills XML with Client install directory, os info, certificate</span>
<span class="sd">    _components_node                    --  Fills the xml with list of packages to be installed and their depedencies</span>
<span class="sd">    _create_commserve_node              --  Sets the commserve information on the XML</span>
<span class="sd">    _oem_info_node                      --  Sets the OEM information on the XML</span>
<span class="sd">    _cs_db_info                         --  Sets the commserve Database information on the XML</span>
<span class="sd">    _cvsql_admin_node                   --  Sets the SQL databse sa password</span>
<span class="sd">    _dr_path_node                       --  Sets the Distaster Recovery Path</span>
<span class="sd">    _ftp_location_node                  -- FTP location of where the CS is being installed from</span>
<span class="sd">    _create_index_cache_dir             --  Sets the index store location for the media agent</span>
<span class="sd">    _create_dm2_webservice_node         --  Sets the flags and dump location for the DM2 Webservice</span>
<span class="sd">    _create_commcell_console_node       --  Sets the commcell information/flags on the XML</span>
<span class="sd">    _create_web_console_node            --  Sets the webconsole information/flags on the XML</span>
<span class="sd">    _configure_for_laptop_backups_node  --  Sets the laptop backups information on the XML</span>
<span class="sd">    _selected_subclient_policy_node     --  Sets the subclient policy information on the XM</span>
<span class="sd">    _create_workflow_engine_node        --  Sets the workflow information on the XML</span>
<span class="sd">    _create_cdr_logdir                  --  Sets the ContinuousDataReplicator information on the XML</span>
<span class="sd">    _create_tsa_login_node              --  Sets the Tivoli System Automation(TSA) information on the XML</span>
<span class="sd">    _create_obj_server_node             --  Sets the obj server node information on the XML</span>
<span class="sd">    _create_db2_path                    --  Sets the db2 node information on the XML</span>
<span class="sd">    _create_edc_groups                  --  Sets the edc group node information on the XML</span>
<span class="sd">    _create_oracle_sap_node             --  Sets the oracle sap node information on the XML</span>
<span class="sd">    _common_info_node                   --  Sets the common info/flags information on the XML</span>
<span class="sd">    _client_roles_node                  --  Sets the client roles node information on the XML</span>
<span class="sd">    _installer_flags_unix               --  Installer flags for Unix Installation</span>
<span class="sd">    _installer_flags_windows            --  Installer flags for Windows Installations</span>
<span class="sd">    _sql_install_node                   --  Sets the sql install node information on the XML</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">xml.dom</span> <span class="kn">import</span> <span class="n">minidom</span>
<span class="kn">from</span> <span class="nn">xml.etree.ElementTree</span> <span class="kn">import</span> <span class="n">Element</span><span class="p">,</span> <span class="n">SubElement</span><span class="p">,</span> <span class="n">tostring</span>
<span class="kn">from</span> <span class="nn">AutomationUtils</span> <span class="kn">import</span> <span class="n">logger</span>
<span class="kn">from</span> <span class="nn">AutomationUtils</span> <span class="kn">import</span> <span class="n">constants</span>
<span class="kn">from</span> <span class="nn">AutomationUtils</span> <span class="kn">import</span> <span class="n">config</span>


<div class="viewcode-block" id="InstallXMLGenerator"><a class="viewcode-back" href="../../source/Install.html#Install.install_xml_helper.InstallXMLGenerator">[docs]</a><span class="k">class</span> <span class="nc">InstallXMLGenerator</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">,</span> <span class="n">machine_obj</span><span class="p">,</span> <span class="n">inputs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Initialize instance of the InstallXMLGenerator class.</span>
<span class="sd">                Args:</span>
<span class="sd">                    client_name -- Client Name provided for installation</span>

<span class="sd">                    machine_obj -- machine object</span>

<span class="sd">                    inputs (dict)</span>
<span class="sd">                    --  Inputs for Installation should be in a dictionary</span>
<span class="sd">                        Supported key / value for inputs:</span>

<span class="sd">                            Mandatory:</span>
<span class="sd">                                csClientName        (str)        Commserve Client Name</span>
<span class="sd">                                csHostname          (str)        Commserve Hostname</span>
<span class="sd">                                commservePassword:  (str)        Commserve encrypted login password</span>

<span class="sd">                            Optional:</span>
<span class="sd">                                oemId               (str)        OEM id to be installed</span>
<span class="sd">                                commserveUsername   (str)        Commserve Username</span>
<span class="sd">                                useExistingDump     (str)        Use existing dump for Dm2 / Workflow Engine</span>
<span class="sd">                                useExsitingCSdump   (str)        Use CS dump (&quot;0&quot; or &quot;1&quot;)</span>
<span class="sd">                                CommservDumpPath    (str)        Dump path for Commserve</span>
<span class="sd">                                install32base       (str)        install 32bit software on 64bit Machine</span>
<span class="sd">                                restoreOnlyAgents   (str)       &quot;0 or &quot;1&quot;</span>
<span class="sd">                                DM2DumpPath         (str)        Dump path for DM2 webservice</span>
<span class="sd">                                WFEngineDumpPath    (str)        Dump path for Workflow Engine</span>
<span class="sd">                                decoupledInstall    (str)        &quot;0 or &quot;1&quot;</span>
<span class="sd">                                enableFirewallConfig (str)       &quot;0 or &quot;1&quot;</span>
<span class="sd">                                firewallConnectionType (str)     &quot;1&quot; or &quot;2&quot;</span>
<span class="sd">                                httpProxyConfigurationType(str)  &quot;0&quot; or &quot;1&quot; or &quot;2&quot;</span>
<span class="sd">                                httpProxyPortNumber (str)        Port Number eg: &quot;6256&quot;</span>
<span class="sd">                                httpProxyHostName   (str)        Hostname of the proxy machine</span>
<span class="sd">                                portNumber          (str)        Port number to connect to the CVD eg:8410</span>
<span class="sd">                                enableProxyClient   (str)        Enable Client as a proxy &quot;0&quot; or &quot;1&quot;</span>
<span class="sd">                                proxyClientName     (str)        Proxy Client Name / Client Name on the commcell</span>
<span class="sd">                                proxyHostname       (str)        Proxy Client Hostname</span>
<span class="sd">                                proxyPortNumber     (str)        Proxy client Port Number to be used</span>
<span class="sd">                                sqlSaPassword       (str)        Sa (user) password for SQL access</span>
<span class="sd">                                installDirectoryUnix(str)        Path on which software to be installed on Unix Client</span>
<span class="sd">                                installDirectoryWindows(str)     Path on which software to be installed on Win Client</span>
<span class="sd">                                mediaPath           (str)        Filer Path required for Unix installations</span>
<span class="sd">                                                                         (Path till CVMedia)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">logger</span><span class="o">.</span><span class="n">get_log</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span> <span class="o">=</span> <span class="n">inputs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span> <span class="o">=</span> <span class="n">client_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">machine_obj</span> <span class="o">=</span> <span class="n">machine_obj</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">os_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">machine_obj</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config_json</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>

<div class="viewcode-block" id="InstallXMLGenerator.write_xml_to_file"><a class="viewcode-back" href="../../source/Install.html#Install.install_xml_helper.InstallXMLGenerator.write_xml_to_file">[docs]</a>    <span class="k">def</span> <span class="nf">write_xml_to_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;install_XML.xml&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Module that helps to write the generated XML to file (file.xml)</span>
<span class="sd">        :param</span>
<span class="sd">            element: (root) -- Root Node of an XMl / ELement Tree</span>

<span class="sd">        :return:</span>
<span class="sd">            Path of the XML  file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">rough_string</span> <span class="o">=</span> <span class="n">tostring</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
            <span class="n">reparsed</span> <span class="o">=</span> <span class="n">minidom</span><span class="o">.</span><span class="n">parseString</span><span class="p">(</span><span class="n">rough_string</span><span class="p">)</span>
            <span class="n">parsed_string</span> <span class="o">=</span> <span class="p">(</span><span class="n">reparsed</span><span class="o">.</span><span class="n">toprettyxml</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
                <span class="s1">&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;&#39;</span><span class="p">)</span>
            <span class="n">final_xml_string</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">parsed_string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()])</span>
            <span class="n">xml_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_xml_file_for_remote</span><span class="p">(</span><span class="n">final_xml_string</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">xml_path</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in writing XML to a file&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="InstallXMLGenerator.get_xml_flags"><a class="viewcode-back" href="../../source/Install.html#Install.install_xml_helper.InstallXMLGenerator.get_xml_flags">[docs]</a>    <span class="k">def</span> <span class="nf">get_xml_flags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;windows&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_type</span><span class="p">:</span>
            <span class="n">flags</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;Focus&quot;</span><span class="p">:</span> <span class="s2">&quot;New&quot;</span><span class="p">,</span>
                <span class="s2">&quot;LocaleID&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Operationtype&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;requestType&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;requestFlags&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;oemId&quot;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oemId&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oemId&quot;</span><span class="p">),</span>
                <span class="s2">&quot;RemoteClient&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;byteOrder&quot;</span><span class="p">:</span> <span class="s2">&quot;Little-endian&quot;</span><span class="p">,</span>
                <span class="s2">&quot;installDirectory&quot;</span><span class="p">:</span>
                    <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;installDirectoryWindows&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;installDirectoryWindows&quot;</span><span class="p">),</span>
                <span class="s2">&quot;GalaxyBuildNumber&quot;</span><span class="p">:</span> <span class="s2">&quot;BUILD80&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ReleaseString&quot;</span><span class="p">:</span> <span class="s2">&quot;11.0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;OSName&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;OSBuild&quot;</span><span class="p">:</span> <span class="s2">&quot;9200&quot;</span><span class="p">,</span>
                <span class="s2">&quot;cvdPort&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;jobResultsPath&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;%InstallFolder%\iDataAgent\JobResults&quot;</span><span class="p">,</span>
                <span class="s2">&quot;cvSQLPassword&quot;</span><span class="p">:</span> <span class="s2">&quot;||#05!M2Y5ZDc0YzM1OGZlMTk0MjUyYjRlMmVhMmI3NGM2MmE4MmQ0MDljODU4NjAy&quot;</span> <span class="o">+</span>
                                 <span class="s2">&quot;ZTQ4YTU4NzIxOTIyOGE5YzRhNDhhMWNiNWU3ZjY0Yzg4MWE3NzU1N2Q3NGI2MmRlZmE0ZQ==&quot;</span><span class="p">,</span>
                <span class="s2">&quot;drPath&quot;</span><span class="p">:</span> <span class="s2">&quot;c:</span><span class="se">\\</span><span class="s2">DR&quot;</span><span class="p">,</span>
                <span class="s2">&quot;indexCachePath&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;%InstallFolder%\IndexCache&quot;</span><span class="p">,</span>
                <span class="s2">&quot;xmlViewWebAlias&quot;</span><span class="p">:</span> <span class="s2">&quot;xmlview&quot;</span><span class="p">,</span>
                <span class="s2">&quot;searchSvcWebAlias&quot;</span><span class="p">:</span> <span class="s2">&quot;&#39;SearchSvc&quot;</span><span class="p">,</span>
                <span class="s2">&quot;dm2WebSitePort&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;apachePortNumber&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;dm2DataFileInstallPath&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;%InstallFolder%\Data\Data&quot;</span><span class="p">,</span>
                <span class="s2">&quot;webConsoleURL&quot;</span><span class="p">:</span> <span class="s2">&quot;http://:0/webconsole/clientDetails/fsDetails.do?clientName=CLIENTNAME&quot;</span><span class="p">,</span>
                <span class="s2">&quot;webConsolePort&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;webURL&quot;</span><span class="p">:</span> <span class="s2">&quot;http://:0/webconsole&quot;</span><span class="p">,</span>
                <span class="s2">&quot;webServerClientId&quot;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueAMQPPort&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueDataDir&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueWebconsolePort&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueTCPPort&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueMaxJvm&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueMinJvm&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueMQTTPort&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueWSPort&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;commonInfoGlobalFilters&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;useExistingStoragePolicy&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;storagePolicyId&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;storagePolicyName&quot;</span><span class="p">:</span> <span class="s2">&quot;CV_DEFAULT&quot;</span>
            <span class="p">}</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">flags</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;Focus&quot;</span><span class="p">:</span> <span class="s2">&quot;New&quot;</span><span class="p">,</span>
                <span class="s2">&quot;LocaleID&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Operationtype&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;requestType&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;requestFlags&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;oemId&quot;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oemId&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oemId&quot;</span><span class="p">),</span>
                <span class="s2">&quot;RemoteClient&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;logFilesLocation&quot;</span><span class="p">:</span> <span class="s2">&quot;/var/log&quot;</span><span class="p">,</span>
                <span class="s2">&quot;installDirectory&quot;</span><span class="p">:</span>
                    <span class="s2">&quot;/opt&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;installDirectoryUnix&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;installDirectoryUnix&quot;</span><span class="p">),</span>
                <span class="s2">&quot;clientcertificate&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;cvdPort&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;evmgrcPort&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;jobResultsPath&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;indexCachePath&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;xmlViewWebAlias&quot;</span><span class="p">:</span> <span class="s2">&quot;xmlview&quot;</span><span class="p">,</span>
                <span class="s2">&quot;searchSvcWebAlias&quot;</span><span class="p">:</span> <span class="s2">&quot;&#39;SearchSvc&quot;</span><span class="p">,</span>
                <span class="s2">&quot;dm2WebSitePort&quot;</span><span class="p">:</span> <span class="s2">&quot;5000&quot;</span><span class="p">,</span>
                <span class="s2">&quot;apachePortNumber&quot;</span><span class="p">:</span> <span class="s2">&quot;80&quot;</span><span class="p">,</span>
                <span class="s2">&quot;dm2DataFileInstallPath&quot;</span><span class="p">:</span> <span class="s2">&quot;opt/Data/DM2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;webConsoleURL&quot;</span><span class="p">:</span> <span class="s2">&quot;http://:0/webconsole/clientDetails/fsDetails.do?clientName=CLIENTNAME&quot;</span><span class="p">,</span>
                <span class="s2">&quot;webConsolePort&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;webURL&quot;</span><span class="p">:</span> <span class="s2">&quot;http://:0/webconsole&quot;</span><span class="p">,</span>
                <span class="s2">&quot;webServerClientId&quot;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueAMQPPort&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueDataDir&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueWebconsolePort&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueTCPPort&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueMaxJvm&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueMinJvm&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueMQTTPort&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueWSPort&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;messagequeueStompPort&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;commonInfoGlobalFilters&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;useExistingStoragePolicy&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;storagePolicyId&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;storagePolicyName&quot;</span><span class="p">:</span> <span class="s2">&quot;CV_DEFAULT&quot;</span>
            <span class="p">}</span>

        <span class="k">return</span> <span class="n">flags</span></div>

<div class="viewcode-block" id="InstallXMLGenerator.silent_install_xml"><a class="viewcode-back" href="../../source/Install.html#Install.install_xml_helper.InstallXMLGenerator.silent_install_xml">[docs]</a>    <span class="k">def</span> <span class="nf">silent_install_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pkg_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Helps to generate XML for fresh installations</span>
<span class="sd">                :param</span>
<span class="sd">                    pkg_dict: Dictionary of packages to be installed and which is to be written on XML</span>

<span class="sd">                :return:</span>
<span class="sd">                    root - (root)  -- root of an XML generated by Element Tree Module</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_xml_flags</span><span class="p">()</span>
            <span class="n">root</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;CVInstallManager_ClientSetup&#39;</span><span class="p">)</span>
            <span class="n">root</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;Focus&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Focus&quot;</span><span class="p">))</span>
            <span class="n">root</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;LocaleID&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;LocaleID&quot;</span><span class="p">))</span>
            <span class="n">root</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;Operationtype&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Operationtype&quot;</span><span class="p">))</span>
            <span class="n">root</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;requestType&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;requestType&quot;</span><span class="p">))</span>
            <span class="n">root</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;requestFlags&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;requestFlags&quot;</span><span class="p">))</span>
            <span class="n">root</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;OEMID&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oemId&quot;</span><span class="p">))</span>
            <span class="n">root</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;RemoteClient&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;RemoteClient&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Root Element Created Successfully&quot;</span><span class="p">)</span>
            <span class="n">install_new_cs</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="s2">&quot;20&quot;</span> <span class="ow">in</span> <span class="n">pkg_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">or</span> <span class="s2">&quot;1020&quot;</span> <span class="ow">in</span> <span class="n">pkg_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">install_new_cs</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="n">root</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_set_client_auth_node</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Client Authentication Node is done&quot;</span><span class="p">)</span>
            <span class="n">root</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_set_commserve_info_xml</span><span class="p">(</span><span class="n">fresh_cs_install</span><span class="o">=</span><span class="n">install_new_cs</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Commserve Info Node is done&quot;</span><span class="p">)</span>
            <span class="n">root</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client_composition_node</span><span class="p">(</span><span class="n">pkg_dict</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Client Composition Node is done&quot;</span><span class="p">)</span>
            <span class="n">root</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">install_flags</span><span class="p">())</span>
            <span class="k">if</span> <span class="s2">&quot;windows&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_type</span><span class="p">:</span>
                <span class="n">usernode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>
                <span class="n">usernode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;userId&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>
                <span class="n">root</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">usernode</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Install Flags Node is done&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">root</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;An Exception occurred while generating an XML&quot;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_set_client_auth_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Details for the client authenticaion on XML for silent install</span>
<span class="sd">        :return:</span>
<span class="sd">            Client Authentication Element Tree Node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">client_auth_node</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;ClientAuthentication&#39;</span><span class="p">)</span>
            <span class="n">client_auth_info_node</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">client_auth_node</span><span class="p">,</span> <span class="s1">&#39;userAccountToLogin&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;commserveUsername&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">client_auth_info_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;userName&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;commserveUsername&quot;</span><span class="p">))</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">client_auth_info_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;userName&quot;</span><span class="p">,</span> <span class="s2">&quot;admin&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="s2">&quot;commservePassword&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">client_auth_info_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;commservePassword&quot;</span><span class="p">))</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;commservePassword not found. PLease provide commservePassword input&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">client_auth_node</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Client Authentication failed&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_commserve_info_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fresh_cs_install</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Details for the commserve registration on XML for silent install</span>
<span class="sd">        :return:</span>
<span class="sd">            Commserve creds Element Tree Node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">commserve_info</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;CommServeInfo&#39;</span><span class="p">)</span>
            <span class="n">commserve_host</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">commserve_info</span><span class="p">,</span> <span class="s1">&#39;CommserveHostInfo&#39;</span><span class="p">)</span>
            <span class="n">cs_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;csClientName&quot;</span><span class="p">)</span>
            <span class="n">cs_hostname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;csHostname&quot;</span><span class="p">)</span>
            <span class="n">commserve_host</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;clientName&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span> <span class="k">if</span> <span class="n">fresh_cs_install</span> <span class="k">else</span> <span class="n">cs_name</span><span class="p">)</span>
            <span class="n">commserve_host</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;hostName&#39;</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">machine_obj</span><span class="o">.</span><span class="n">machine_name</span> <span class="k">if</span> <span class="n">fresh_cs_install</span> <span class="k">else</span> <span class="n">cs_hostname</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">fresh_cs_install</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">cs_name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">cs_hostname</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Failed to fetch Commserve Details - CS Client Name and Hostname&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">commserve_info</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating Commserve Info XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_client_composition_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pkg_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Node which consists of the information of the client info and as well as what packages are to be installed</span>
<span class="sd">        :param pkg_dict: Dictionary of packages to installed (eg:- 1 : File System Core)</span>
<span class="sd">        :return:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">clientcompositionnode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;clientComposition&#39;</span><span class="p">)</span>
        <span class="n">clientcompositionnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client_info_node</span><span class="p">())</span>
        <span class="n">clientcompositionnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;overWriteClientHostName&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>
        <span class="n">clientcompositionnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_components_node</span><span class="p">(</span><span class="n">pkg_dict</span><span class="p">))</span>
        <span class="n">clientcompositionnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client_roles_node</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">clientcompositionnode</span>

    <span class="k">def</span> <span class="nf">_client_info_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Client group_name and log location info</span>
<span class="sd">        :return:</span>
<span class="sd">            client info node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">clientinfonode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;clientInfo&#39;</span><span class="p">)</span>
            <span class="n">clientpropsnode</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">clientinfonode</span><span class="p">,</span> <span class="s1">&#39;clientProps&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;unix&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_type</span><span class="p">:</span>
                <span class="n">clientpropsnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;logFilesLocation&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;logFilesLocation&quot;</span><span class="p">))</span>
                <span class="n">clientinfonode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client_node</span><span class="p">())</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">clientpropsnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;ClientInterface&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="n">proc_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">machine_obj</span><span class="o">.</span><span class="n">execute_command</span><span class="p">(</span><span class="s1">&#39;(gwmi win32_computersystem).SystemType&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">formatted_output</span>

                <span class="k">if</span> <span class="s2">&quot;x64-based&quot;</span> <span class="ow">in</span> <span class="n">proc_type</span><span class="p">:</span>
                    <span class="n">clientpropsnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;BinarySetID&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">clientpropsnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;BinarySetID&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>

                <span class="n">clientinfonode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client_node</span><span class="p">(</span><span class="n">proc_type</span><span class="p">))</span>
                <span class="n">clientpropsnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;byteOrder&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;byteOrder&quot;</span><span class="p">))</span>

            <span class="n">clientgroupsnode</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">clientinfonode</span><span class="p">,</span> <span class="s1">&#39;clientGroups&#39;</span><span class="p">)</span>
            <span class="n">clientgroupsnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;clientGroupName&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">clientinfonode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating Client Info XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_client_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">proc_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Fills XML with Client install directory, os info, certificate</span>
<span class="sd">        :param proc_type: 32bit and 64bit Processor</span>
<span class="sd">        :return: Client node which contains the infomation in Element Tree object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">clientnode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;client&#39;</span><span class="p">)</span>
            <span class="n">clientnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;installDirectory&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;installDirectory&quot;</span><span class="p">))</span>

            <span class="k">if</span> <span class="s2">&quot;unix&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_type</span><span class="p">:</span>
                <span class="n">clientnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;clientcertificate&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="n">clientnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;evmgrcPort&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;evmgrcPort&quot;</span><span class="p">))</span>

            <span class="k">elif</span> <span class="s2">&quot;windows&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_type</span><span class="p">:</span>
                <span class="n">versioninfonode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;versionInfo&#39;</span><span class="p">)</span>
                <span class="n">versioninfonode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;GalaxyBuildNumber&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;GalaxyBuildNumber&quot;</span><span class="p">))</span>
                <span class="n">releasenode</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">versioninfonode</span><span class="p">,</span> <span class="s1">&#39;GalaxyRelease&#39;</span><span class="p">)</span>
                <span class="n">releasenode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;ReleaseString&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ReleaseString&quot;</span><span class="p">))</span>
                <span class="n">clientnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">versioninfonode</span><span class="p">)</span>
                <span class="n">osinfo</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;osInfo&#39;</span><span class="p">)</span>
                <span class="n">osdisplaynode</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">osinfo</span><span class="p">,</span> <span class="s1">&#39;OsDisplayInfo&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="s2">&quot;x64-based&quot;</span> <span class="ow">in</span> <span class="n">proc_type</span><span class="p">:</span>
                    <span class="n">osinfo</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;PlatformType&#39;</span><span class="p">,</span> <span class="s1">&#39;X64&#39;</span><span class="p">)</span>
                    <span class="n">osdisplaynode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;ProcessorType&#39;</span><span class="p">,</span> <span class="s1">&#39;WinX64&#39;</span><span class="p">)</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="n">osinfo</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;PlatformType&#39;</span><span class="p">,</span> <span class="s1">&#39;X86&#39;</span><span class="p">)</span>
                    <span class="n">osdisplaynode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;ProcessorType&#39;</span><span class="p">,</span> <span class="s1">&#39;Win32&#39;</span><span class="p">)</span>

                <span class="n">osdisplaynode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;OSName&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;OSName&quot;</span><span class="p">))</span>
                <span class="n">osdisplaynode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;OSBuild&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;OSBuild&quot;</span><span class="p">))</span>
                <span class="n">clientnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">osinfo</span><span class="p">)</span>
                <span class="n">clientnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;clientPassword&quot;</span><span class="p">,</span> <span class="s2">&quot;3e063aba7c1693bf34026114bfea2006ff26698aef707031095f69758&quot;</span> <span class="o">+</span>
                               <span class="s2">&quot;bab9a2710527370618067f09e1ec0633fee6e63e&quot;</span><span class="p">)</span>

            <span class="n">clientnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;cvdPort&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cvdPort&quot;</span><span class="p">))</span>
            <span class="n">cliententitynode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">)</span>
            <span class="n">cliententitynode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;clientName&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;force_ipv4&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">cliententitynode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;hostName&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_json</span><span class="o">.</span><span class="n">Install</span><span class="o">.</span><span class="n">unix_client</span><span class="o">.</span><span class="n">ip6address</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cliententitynode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;hostName&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">machine_obj</span><span class="o">.</span><span class="n">machine_name</span><span class="p">)</span>
            <span class="n">clientnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cliententitynode</span><span class="p">)</span>
            <span class="n">jobresultsdirnode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;jobResulsDir&#39;</span><span class="p">)</span>
            <span class="n">jobresultsdirnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;jobResultsPath&quot;</span><span class="p">))</span>
            <span class="n">clientnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">jobresultsdirnode</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">clientnode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating Commserve Info XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_components_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pkg_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Fills the xml with list of packages to be installed and their depedencies</span>
<span class="sd">        :param pkg_dict: Dictionary of packahes with their names</span>
<span class="sd">        :return:</span>
<span class="sd">            Element Tree - components node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">componentsnode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;components&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">pkgid</span> <span class="ow">in</span> <span class="n">pkg_dict</span><span class="p">:</span>

                <span class="n">componentinfonode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;componentInfo&#39;</span><span class="p">)</span>
                <span class="n">componentinfonode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;ComponentId&#39;</span><span class="p">,</span> <span class="n">pkgid</span><span class="p">)</span>
                <span class="n">componentinfonode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;ComponentName&#39;</span><span class="p">,</span> <span class="n">pkg_dict</span><span class="p">[</span><span class="n">pkgid</span><span class="p">])</span>
                <span class="n">componentinfonode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;consumeLicense&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="s2">&quot;unix&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_type</span><span class="p">:</span>
                    <span class="n">componentinfonode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;osType&#39;</span><span class="p">,</span> <span class="s1">&#39;Unix&#39;</span><span class="p">)</span>
                <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">componentinfonode</span><span class="p">)</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">1020</span><span class="p">]:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_commserve_node</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">51</span><span class="p">,</span> <span class="mi">1301</span><span class="p">]:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_index_cache_dir</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">252</span><span class="p">,</span> <span class="mi">1174</span><span class="p">]:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_dm2_webservice_node</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">23</span><span class="p">:</span>
                    <span class="n">dump_file_path</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;useExistingDump&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;useExistingDump&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;WFEngineDumpPath&quot;</span><span class="p">):</span>
                            <span class="n">dump_file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;WFEngineDumpPath&quot;</span><span class="p">)</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_workflow_engine_node</span><span class="p">(</span><span class="n">dump_file_path</span><span class="p">))</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">701</span><span class="p">,</span> <span class="mi">1118</span><span class="p">]:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_commcell_console_node</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">726</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_web_console_node</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">952</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mongodb_node</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">263</span><span class="p">,</span> <span class="mi">1156</span><span class="p">]:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_configure_index_gateway_node</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">954</span><span class="p">,</span> <span class="mi">1602</span><span class="p">]:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_message_queue_node</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">809</span><span class="p">:</span>
                    <span class="n">diagnosticserver</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;diagnosticsAndUsageServer&quot;</span><span class="p">)</span>
                    <span class="n">diagnosticserver</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;commservMetricsReportingServerEnabled&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">diagnosticserver</span><span class="p">)</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1135</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_command_center_info</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1002</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_configure_for_laptop_backups_node</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1051</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_domino_partition_node</span><span class="p">(</span><span class="s2">&quot;DB&quot;</span><span class="p">))</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1052</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_domino_partition_node</span><span class="p">(</span><span class="s1">&#39;Doc&#39;</span><span class="p">))</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1053</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_domino_partition_node</span><span class="p">(</span><span class="s1">&#39;DataArchiver&#39;</span><span class="p">))</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1114</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_cdr_logdir</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1124</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_tsa_login_node</span><span class="p">(</span><span class="s1">&#39;novellFS&#39;</span><span class="p">))</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1129</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_obj_server_node</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1207</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_db2_path</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1204</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_edc_groups</span><span class="p">(</span><span class="s1">&#39;9&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1205</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_oracle_sap_node</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pkgid</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1128</span><span class="p">:</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_edc_groups</span><span class="p">(</span><span class="s1">&#39;8&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
                    <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_edc_groups</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>

            <span class="n">componentsnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_common_info_node</span><span class="p">(</span><span class="n">pkg_dict</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">componentsnode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating Commserve Info XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_commserve_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the Commserve database information</span>
<span class="sd">        :return:</span>
<span class="sd">            Element Tree - CSDB Node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">commserveNode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;commserve&#39;</span><span class="p">)</span>
        <span class="n">commserveNode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cs_db_info</span><span class="p">())</span>
        <span class="n">commserveNode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_oem_info_node</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">commserveNode</span>

    <span class="k">def</span> <span class="nf">_oem_info_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the OEM information</span>
<span class="sd">        :return:</span>
<span class="sd">            Element Tree - OEM info Node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">oemInfoNode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;oemInfo&#39;</span><span class="p">)</span>
        <span class="n">oemInfoNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;OEMId&#39;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oemId&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oemId&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">oemInfoNode</span>

    <span class="k">def</span> <span class="nf">_cs_db_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the Commserve database information</span>
<span class="sd">        :return:</span>
<span class="sd">            Element Tree - CSDB Node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">csdb_info_node</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;csdbInfo&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;unix&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_type</span><span class="p">:</span>
            <span class="n">commserve_dump</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;commservDumpPath&quot;</span><span class="p">)</span>
            <span class="n">csdb_info_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;CommservDBdumpPath&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">commserve_dump</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">commserve_dump</span><span class="p">)</span>
            <span class="n">csdb_info_node</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_user_node</span><span class="p">())</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">csdb_info_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;CommcellPasswordExists&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
            <span class="n">csdb_info_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;CommservSurveyEnabled&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>
            <span class="n">install_mode</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;useExsitingCSdump&quot;</span><span class="p">):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;CommservDumpPath&quot;</span><span class="p">):</span>
                    <span class="n">csdb_info_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;useDBDump&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>
                    <span class="n">csdb_info_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;dumpFilePath&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;CommservDumpPath&quot;</span><span class="p">))</span>
                    <span class="n">install_mode</span> <span class="o">=</span> <span class="s1">&#39;2&#39;</span>
            <span class="n">csdb_info_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;installMode&#39;</span><span class="p">,</span> <span class="n">install_mode</span><span class="p">)</span>
            <span class="n">csdb_info_node</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_user_node</span><span class="p">())</span>
            <span class="n">csdb_info_node</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cvsql_admin_node</span><span class="p">())</span>
            <span class="n">csdb_info_node</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dr_path_node</span><span class="p">())</span>
            <span class="n">csdb_info_node</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ftp_location_node</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">csdb_info_node</span>

    <span class="k">def</span> <span class="nf">_commcell_user_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the commserve user information</span>
<span class="sd">        :return:</span>
<span class="sd">            Element Tree - Commcell user Node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">commcellUserNode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;CommCellUser&#39;</span><span class="p">)</span>
        <span class="n">commcellUserNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;userName&#39;</span><span class="p">,</span> <span class="s1">&#39;admin&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;commservePassword&quot;</span><span class="p">):</span>
            <span class="n">commcellUserNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;commservePassword&quot;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">commcellUserNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="s1">&#39;3bee62aff88ee7e864029c0a007a7fa53b18a24e4ac702843&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">commcellUserNode</span>

    <span class="k">def</span> <span class="nf">_cvsql_admin_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the SQL information</span>
<span class="sd">        :return:</span>
<span class="sd">            Element Tree - SQL Database Node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cvSQLAdminNode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;cvSQLAdmin&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cvSQLAdminPassword&quot;</span><span class="p">):</span>
                <span class="n">cvSQLAdminNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cvSQLAdminPassword&quot;</span><span class="p">))</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">cvSQLAdminNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="s1">&#39;||#05!M2Y5ZDc0YzM1OGZlMTk0MjUyYjRlMmVhMmI3NGM2MmE4MmQ0MDljODU4NjAy&#39;</span> <span class="o">+</span>
                                   <span class="s1">&#39;ZTQ4YTU4NzIxOTIyOGE5YzRhNDhhMWNiNWU3ZjY0Yzg4MWE3NzU1N2Q3NGI2MmRlZmE0ZQ==&#39;</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">cvSQLAdminNode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exp</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">exp</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating CV SQL Info XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_dr_path_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the Disaster Recovery Path for the Commserve</span>
<span class="sd">        :return:</span>
<span class="sd">            Element Tree - DR Node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">erPathNode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;ERPath&#39;</span><span class="p">)</span>
            <span class="n">erPathNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;c:</span><span class="se">\\</span><span class="s1">DR&#39;</span><span class="p">)</span>
            <span class="n">userAccountNode</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">erPathNode</span><span class="p">,</span> <span class="s1">&#39;userAccount&#39;</span><span class="p">)</span>
            <span class="n">userAccountNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">userAccountNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;userName&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">erPathNode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exp</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">exp</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating Disaster Recovery Info XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_ftp_location_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the FTP location for the Commserve installation</span>
<span class="sd">        :return:</span>
<span class="sd">                   Element Tree - FTP Node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ftp_location</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;FTPLocation&quot;</span><span class="p">)</span>
            <span class="n">ftp_location</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">ftp_location</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exp</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">exp</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating Disaster Recovery Info XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_index_cache_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the index store location for the media agent</span>
<span class="sd">        :return:</span>
<span class="sd">            Element Tree - mediaAgent node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ma_node</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;mediaAgent&#39;</span><span class="p">)</span>
        <span class="n">indexcachedirnode</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">ma_node</span><span class="p">,</span> <span class="s1">&#39;indexCacheDirectory&#39;</span><span class="p">)</span>
        <span class="n">indexcachedirnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;indexCachePath&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ma_node</span>

    <span class="k">def</span> <span class="nf">_create_dm2_webservice_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the flags and dump location for the DM2 Webservice</span>
<span class="sd">            :return:</span>
<span class="sd">                Element Tree - dm2_webservice node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">dm2_webservice</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;dm2WebService&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;useExistingDump&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DM2DumpPath&quot;</span><span class="p">):</span>
                    <span class="n">dm2_webservice</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;useDBDump&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>
                    <span class="n">dm2_webservice</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;dumpFilePath&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DM2DumpPath&quot;</span><span class="p">))</span>
    
            <span class="n">dm2_webservice</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;xmlViewWebAlias&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;xmlViewWebAlias&quot;</span><span class="p">))</span>
            <span class="n">dm2_webservice</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;searchSvcWebAlias&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;searchSvcWebAlias&quot;</span><span class="p">))</span>
            <span class="n">dm2_webservice</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;dm2WebSitePort&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dm2WebSitePort&quot;</span><span class="p">))</span>
            <span class="n">dm2_webservice</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;apachePortNumber&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;apachePortNumber&quot;</span><span class="p">))</span>
            <span class="n">dm2_webservice</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;dm2DataFileInstallPath&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dm2DataFileInstallPath&quot;</span><span class="p">))</span>
            <span class="n">sqlServerInfoNode</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">dm2_webservice</span><span class="p">,</span> <span class="s1">&#39;sqlServerInfo&#39;</span><span class="p">)</span>
            <span class="n">sqlServerInfoNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;pAccess&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">sqlServerInfoNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;sqlServerName&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">dm2_webservice</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating DM2 WebService Node - XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_commcell_console_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the commcell information/flags on the XML</span>
<span class="sd">        :return:</span>
<span class="sd">            Element Tree - commcell console node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">commcell_console_node</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;commcellConsole&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;unix&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_type</span><span class="p">:</span>
                <span class="n">commcell_console_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;configureWebAlias&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>
                <span class="n">commcell_console_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;reportsWebAliasURL&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="n">commcell_console_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;webAliasURL&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">commcell_console_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;configureWebAlias&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">commcell_console_node</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating Commcell Console Node - XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_web_console_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                Sets the webconsole information on the XML</span>
<span class="sd">        :return:</span>
<span class="sd">                Element Tree - web console node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">webconsolenode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;webConsole&#39;</span><span class="p">)</span>
            <span class="n">webconsolenode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;webConsoleURL&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;webConsoleURL&quot;</span><span class="p">))</span>
            <span class="n">webconsolenode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;webConsolePort&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;webConsolePort&quot;</span><span class="p">))</span>
            <span class="n">webconsolenode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;webURL&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;webURL&quot;</span><span class="p">))</span>
            <span class="n">webconsolenode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;webServerClientId&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;webServerClientId&quot;</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">webconsolenode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating WebConsole Node - XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_mongodb_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">mongodbinfo</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;mongoDBInfo&#39;</span><span class="p">)</span>
        <span class="n">mongodbinfo</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;nMongoPort&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">mongodbinfo</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;sMongoInstance&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">machine_obj</span><span class="o">.</span><span class="n">machine_name</span><span class="p">)</span>
        <span class="n">mongodbinfo</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;pMongoAccess&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mongodbinfo</span>

    <span class="k">def</span> <span class="nf">_configure_index_gateway_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">indexgateway</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;indexGateway&#39;</span><span class="p">)</span>
            <span class="n">indexgateway</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;webAliasName&#39;</span><span class="p">,</span> <span class="s1">&#39;IndexGateway&#39;</span><span class="p">)</span>
            <span class="n">indexgateway</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;webSitePort&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">indexgateway</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating indexGateway Node - XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_message_queue_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">messagequeue</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;messageQueue&quot;</span><span class="p">)</span>
        <span class="n">messagequeue</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;messagequeueAMQPPort&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;messagequeueAMQPPort&quot;</span><span class="p">))</span>
        <span class="n">messagequeue</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;messagequeueDataDir&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;messagequeueDataDir&quot;</span><span class="p">))</span>
        <span class="n">messagequeue</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;messagequeueWebconsolePort&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;messagequeueWebconsolePort&quot;</span><span class="p">))</span>
        <span class="n">messagequeue</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;messagequeueTCPPort&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;messagequeueTCPPort&quot;</span><span class="p">))</span>
        <span class="n">messagequeue</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;messagequeueMaxJvm&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;messagequeueMaxJvm&quot;</span><span class="p">))</span>
        <span class="n">messagequeue</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;messagequeueMinJvm&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;messagequeueMinJvm&quot;</span><span class="p">))</span>
        <span class="n">messagequeue</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;messagequeueMQTTPort&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;messagequeueMQTTPort&quot;</span><span class="p">))</span>
        <span class="n">messagequeue</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;messagequeueWSPort&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;messagequeueWSPort&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="s2">&quot;unix&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_type</span><span class="p">:</span>
            <span class="n">messagequeue</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;messagequeueStompPort&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;messagequeueStompPort&quot;</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">messagequeue</span>

    <span class="k">def</span> <span class="nf">_command_center_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">webservers</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;availableWebServers&quot;</span><span class="p">)</span>
        <span class="n">webservers</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;webSitePortNumber&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">dm2webserver</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">webservers</span><span class="p">,</span> <span class="s2">&quot;dm2WebServer&quot;</span><span class="p">)</span>
        <span class="n">dm2webserver</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;clientName&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">)</span>
        <span class="n">dm2webserver</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;hostName&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">machine_obj</span><span class="o">.</span><span class="n">machine_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">webservers</span>

    <span class="k">def</span> <span class="nf">_configure_for_laptop_backups_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the laptop backups information on the XML</span>
<span class="sd">         :return:</span>
<span class="sd">            Element Tree - laptopbackup node</span>
<span class="sd">         &quot;&quot;&quot;</span>
        <span class="n">filesystemnode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;fileSystem&#39;</span><span class="p">)</span>
        <span class="n">filesystemnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;configureForLaptopBackups&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
        <span class="n">filesystemnode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_selected_subclient_policy_node</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">filesystemnode</span>

    <span class="k">def</span> <span class="nf">_selected_subclient_policy_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the subclient policy information on the XML</span>
<span class="sd">        :return:</span>
<span class="sd">                Element Tree - subclient policy node</span>
<span class="sd">         &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">selectedsubclientpolicynode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;selectedSubclientPolicy&#39;</span><span class="p">)</span>
            <span class="n">selectedsubclientpolicynode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;subclientPolicyId&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">selectedsubclientpolicynode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;subclientPolicyName&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">selectedsubclientpolicynode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating subclient policy Node - XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_workflow_engine_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exisiting_dump_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the workflow information on the XML</span>
<span class="sd">        :return:</span>
<span class="sd">            Element Tree - Workflow Engine node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">workflowenginenode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;workflowEngine&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">exisiting_dump_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">workflowenginenode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;useDBDump&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>
                <span class="n">workflowenginenode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;dumpFilePath&#39;</span><span class="p">,</span> <span class="n">exisiting_dump_path</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">workflowenginenode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating WorkFlow Engine Node - XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_domino_partition_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lotusnotesagent_type</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">dpnode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;lotusNotes&#39;</span> <span class="o">+</span> <span class="n">lotusnotesagent_type</span><span class="p">)</span>
            <span class="n">instancenode</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">dpnode</span><span class="p">,</span> <span class="s1">&#39;instanceList&#39;</span><span class="p">)</span>
            <span class="n">instancenode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;binaryPath&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">instancenode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;instanceName&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">instancenode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">dpnode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating domino partition Node - XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_cdr_logdir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the ContinuousDataReplicator information on the XML</span>
<span class="sd">            :return:</span>
<span class="sd">                Element Tree - cdrdriver node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cdrdrivernode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;cdrDriver&#39;</span><span class="p">)</span>
            <span class="n">cdrdrivernode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;logFileLocation&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">cdrdrivernode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;RolCacheMaxDiskSize&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">cdrdrivernode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating CDR LogicDir Node - XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_tsa_login_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agentnode</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the Tivoli System Automation(TSA) information on the XML</span>
<span class="sd">            :return:</span>
<span class="sd">                Element Tree - cdrdriver node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">tsaloginnode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="n">agentnode</span><span class="p">)</span>
            <span class="n">tsauseraccountnode</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">tsaloginnode</span><span class="p">,</span> <span class="s1">&#39;userAccount&#39;</span><span class="p">)</span>
            <span class="n">tsauseraccountnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;userName&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">tsauseraccountnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">agentnode</span> <span class="o">==</span> <span class="s1">&#39;novellDirectoryServices&#39;</span><span class="p">:</span>
                <span class="n">tsauseraccountnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;domainName&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">tsaloginnode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in generating TSA login Node - XML&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_obj_server_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the server node information on the XML</span>
<span class="sd">            :return:</span>
<span class="sd">                Element Tree - objectserver node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">objservernode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;objectServer&#39;</span><span class="p">)</span>
            <span class="n">objservernode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;objSrvWebServiceURL&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">objservernode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;objSrvWebServicePort&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">objservernode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Failed to insert Object Server Node&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_db2_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the db2 node information on the XML</span>
<span class="sd">            :return:</span>
<span class="sd">                Element Tree - db2 node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">db2node</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;db2&#39;</span><span class="p">)</span>
            <span class="n">db2node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;db2ArchivePath&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">db2node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;db2AuditErrorPath&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">db2node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;db2RetrievePath&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">db2node</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Failed to insert DB2 Node&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_edc_groups</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance_type</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the edc group node information on the XML</span>
<span class="sd">            :return:</span>
<span class="sd">                Element Tree - edc group node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">edcgroupnode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;edcGroups&#39;</span><span class="p">)</span>
            <span class="n">edcgroupnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;instanceType&#39;</span><span class="p">,</span> <span class="n">instance_type</span><span class="p">)</span>
            <span class="n">edcgroupnode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;instanceName&#39;</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">edcgroupnode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Failed to create EDC groups Node&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_oracle_sap_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the oracle sap node information on the XML</span>
<span class="sd">            :return:</span>
<span class="sd">                Element Tree - oracle sap node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">oracleSAPNode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;oracleSAP&#39;</span><span class="p">)</span>
            <span class="n">oracleSAPNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;sapExeDirectory&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">oracleSAPNode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Failed to create oracle SAP Node&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_common_info_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pkg_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the common info/flags information on the XML</span>
<span class="sd">            :return:</span>
<span class="sd">                Element Tree - common info node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">commoninfonode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;commonInfo&#39;</span><span class="p">)</span>
            <span class="n">commoninfonode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;globalFilters&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;commonInfoGlobalFilters&quot;</span><span class="p">))</span>
            <span class="n">commoninfonode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;useExistingStoragePolicy&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;useExistingStoragePolicy&quot;</span><span class="p">))</span>
            <span class="n">storagepolicytousenode</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;storagePolicyToUse&#39;</span><span class="p">)</span>
            <span class="n">storagepolicytousenode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;storagePolicyId&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;storagePolicyId&quot;</span><span class="p">))</span>
            <span class="n">storagepolicytousenode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;storagePolicyName&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_flags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;storagePolicyName&quot;</span><span class="p">))</span>
            <span class="n">commoninfonode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">storagepolicytousenode</span><span class="p">)</span>

            <span class="k">if</span> <span class="s2">&quot;726&quot;</span> <span class="ow">in</span> <span class="n">pkg_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">webservers</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;availableWebServers&quot;</span><span class="p">)</span>
                <span class="n">webservers</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;webSitePortNumber&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="n">dm2webserver</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">webservers</span><span class="p">,</span> <span class="s2">&quot;dm2WebServer&quot;</span><span class="p">)</span>
                <span class="n">dm2webserver</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;clientName&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">)</span>
                <span class="n">dm2webserver</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;hostName&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">machine_obj</span><span class="o">.</span><span class="n">machine_name</span><span class="p">)</span>
                <span class="n">commoninfonode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">webservers</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">commoninfonode</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Failed to commonInfo  Node&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_client_roles_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the client roles node information on the XML</span>
<span class="sd">            :return:</span>
<span class="sd">                Element Tree - common info node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client_roles_node</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;clientRoles&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bNetworkProxy&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="n">client_roles_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;bNetworkProxy&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">client_roles_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;bNetworkProxy&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>

        <span class="n">client_roles_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;bLaptopBackup&#39;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bLaptopBackup&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;1&quot;</span> <span class="k">else</span> <span class="s2">&quot;1&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">client_roles_node</span>

<div class="viewcode-block" id="InstallXMLGenerator.install_flags"><a class="viewcode-back" href="../../source/Install.html#Install.install_xml_helper.InstallXMLGenerator.install_flags">[docs]</a>    <span class="k">def</span> <span class="nf">install_flags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Common installer flags that has to be used for installation</span>
<span class="sd">        :return:</span>
<span class="sd">            Installer flag node where all the flags are mentioned under the xml</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">base_installer_flags</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;stopOracleServices&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;ignoreJobsRunning&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;unixOtherAccess&quot;</span><span class="p">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;useExsitingCSdump&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;install32Base&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;useNewOS&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;install64Base&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;disableOSFirewall&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;installLatestServicePac&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;upgradeMode&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;preferredIPFamily&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;forceReboot&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;deletePackagesAfterInstall&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;launchRegisterMe&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;allowMultipleInstances&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;autoRegister&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;decoupledInstall&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;unixGroupAccess&quot;</span><span class="p">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;overrideClientInfo&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;addToFirewallExclusion&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;restoreOnlyAgents&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;killBrowserProcesses&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;showFirewallConfigDialogs&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;sqlDataFilePath&quot;</span><span class="p">:</span> <span class="s2">&quot;%InstallFolder%&quot;</span><span class="p">}</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;install32base&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
                <span class="n">base_installer_flags</span><span class="p">[</span><span class="s1">&#39;install32Base&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;restoreOnlyAgents&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
                <span class="n">base_installer_flags</span><span class="p">[</span><span class="s1">&#39;restoreOnlyAgents&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>

            <span class="k">if</span> <span class="s2">&quot;useExsitingCSdump&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="c1"># Path has to be given along with the dump</span>
                <span class="k">if</span> <span class="s2">&quot;CommservDumpPath&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">if</span> <span class="s2">&quot;DM2DumpPath&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="k">if</span> <span class="s2">&quot;WFEngineDumpPath&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="n">base_installer_flags</span><span class="p">[</span><span class="s1">&#39;useExsitingCSdump&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;decoupledInstall&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
                <span class="n">base_installer_flags</span><span class="p">[</span><span class="s2">&quot;decoupledInstall&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>

            <span class="k">if</span> <span class="s2">&quot;unix&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_type</span><span class="p">:</span>
                <span class="n">install_flag_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_installer_flags_unix</span><span class="p">(</span><span class="n">base_installer_flags</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">install_flag_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_installer_flags_windows</span><span class="p">(</span><span class="n">base_installer_flags</span><span class="p">)</span>
                <span class="n">install_flag_node</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sql_install_node</span><span class="p">())</span>

            <span class="n">install_flag_node</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">firewall_install_flag</span><span class="p">())</span>
            <span class="k">return</span> <span class="n">install_flag_node</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Failed to insert Installer Flags Node&quot;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_installer_flags_unix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Installer flags for Unix Installations</span>

<span class="sd">            :arg</span>
<span class="sd">                installer_flags (dict) -- Dictionary of common installer flags used for installation</span>

<span class="sd">            :return:</span>
<span class="sd">                Install flag node where all the flags are mentioned under the xml</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">install_flag</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;installFlags&#39;</span><span class="p">)</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;install32Base&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;install32Base&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;install64Base&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;install64Base&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;decoupledInstall&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;decoupledInstall&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;allowNewerCommserve&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;allowMultipleInstances&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;allowMultipleInstances&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;numberOfStreams&#39;</span><span class="p">,</span> <span class="s1">&#39;10&#39;</span><span class="p">)</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;unixGroup&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;unixGroupAccess&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;unixGroupAccess&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;unixOtherAccess&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;unixOtherAccess&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;unixTempDirectory&#39;</span><span class="p">,</span> <span class="s1">&#39;/tmp/.gxsetup&#39;</span><span class="p">)</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;restoreOnlyAgents&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;restoreOnlyAgents&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;ignoreJobsRunning&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;ignoreJobsRunning&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;autoRegister&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;autoRegister&#39;</span><span class="p">])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;force_ipv4&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;forceIPV4&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;forceIPV4&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;singleInterfaceBinding&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;installLatestServicePack&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;loadWAToKernel&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;forceReboot&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;forceReboot&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;useNewOS&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;useNewOS&#39;</span><span class="p">])</span>
            <span class="c1"># install_flag.set(&#39;launchProcessManager&#39;, &#39;0&#39;)</span>
            <span class="c1"># $install_flag.set(&#39;hideApps&#39;, &#39;0&#39;)</span>
            <span class="k">return</span> <span class="n">install_flag</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Failed to insert Unix Installer Flags Node&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_installer_flags_windows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Installer flags for Windows Installations</span>

<span class="sd">            :arg</span>
<span class="sd">                installer_flags (dict) -- Dictionary of common installer flags used for installation</span>

<span class="sd">            :return:</span>
<span class="sd">                    Install flag node where all the flags are mentioned under the xml</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">install_flag</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;installFlags&#39;</span><span class="p">)</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;installLatestServicePack&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;showFirewallConfigDialogs&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;showFirewallConfigDialogs&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;autoRegister&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;autoRegister&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;unixGroupAccess&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;unixGroupAccess&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;allowMultipleInstances&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;allowMultipleInstances&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;useNewOS&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;useNewOS&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;restoreOnlyAgents&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;restoreOnlyAgents&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;killBrowserProcesses&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;killBrowserProcesses&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;install32Base&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;install32Base&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;disableOSFirewall&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;disableOSFirewall&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;decoupledInstall&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;decoupledInstall&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;RepairMode&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;launchConsole&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;deletePackagesAfterInstall&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;deletePackagesAfterInstall&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;useExistingDump&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;useExsitingCSdump&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;unixOtherAccess&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;unixOtherAccess&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;stopOracleServices&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;stopOracleServices&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;install64Base&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;install64Base&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;upgradeMode&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;upgradeMode&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;preferredIPFamily&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;preferredIPFamily&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;launchRegisterMe&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;launchRegisterMe&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;addToFirewallExclusion&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;addToFirewallExclusion&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;ignoreJobsRunning&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;ignoreJobsRunning&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;forceReboot&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;forceReboot&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;overrideClientInfo&#39;</span><span class="p">,</span> <span class="n">installer_flags</span><span class="p">[</span><span class="s1">&#39;overrideClientInfo&#39;</span><span class="p">])</span>
            <span class="n">install_flag</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;activateAllUserProfiles&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
            <span class="c1"># install_flag.set(&#39;launchProcessManager&#39;, &#39;0&#39;)</span>
            <span class="c1"># $install_flag.set(&#39;hideApps&#39;, &#39;0&#39;)</span>
            <span class="k">return</span> <span class="n">install_flag</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Failed to insert Windows Installer Flags Node&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="InstallXMLGenerator.firewall_install_flag"><a class="viewcode-back" href="../../source/Install.html#Install.install_xml_helper.InstallXMLGenerator.firewall_install_flag">[docs]</a>    <span class="k">def</span> <span class="nf">firewall_install_flag</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Helps to create an xml for Firewall configurations</span>
<span class="sd">            :return:</span>
<span class="sd">                Firewall node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">firewall_node</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;firewallInstall&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;enableFirewallConfig&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
                <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;enableFirewallConfig&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
                <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;certificatePath&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;firewallConnectionType&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
                <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;firewallConfigFile&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;proxyClientName&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;proxyHostName&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;portNumber&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;enableFirewallConfig&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="s2">&quot;firewallConnectionType&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;firewallConnectionType&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;firewallConnectionType&quot;</span><span class="p">)))</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;firewallConnectionType&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>

                <span class="k">if</span> <span class="s2">&quot;httpProxyConfigurationType&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;httpProxyConfigurationType&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;httpProxyConfigurationType&quot;</span><span class="p">)))</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;httpProxyConfigurationType&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>

                <span class="k">if</span> <span class="s2">&quot;httpProxyPortNumber&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;httpProxyPortNumber&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;httpProxyPortNumber&quot;</span><span class="p">)))</span>

                <span class="k">if</span> <span class="s2">&quot;httpProxyHostName&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;httpProxyHostName&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;httpProxyHostName&quot;</span><span class="p">)))</span>

                <span class="k">if</span> <span class="s2">&quot;portNumber&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;portNumber&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;portNumber&quot;</span><span class="p">)))</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="n">firewall_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;portNumber&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

                <span class="k">if</span> <span class="s2">&quot;enableProxyClient&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;enableProxyClient&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
                    <span class="n">proxyInfo</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;proxyInfo&#39;</span><span class="p">)</span>

                    <span class="k">if</span> <span class="s2">&quot;proxyHostname&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="n">proxyInfo</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;hostName&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proxyHostname&quot;</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">proxyInfo</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;hostName&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

                    <span class="k">if</span> <span class="s2">&quot;proxyPortNumber&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="n">proxyInfo</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;portNumber&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proxyPortNumber&quot;</span><span class="p">)))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">proxyInfo</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;portNumber&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                    <span class="n">firewall_node</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">proxyInfo</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">firewall_node</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Failed to Configure Firewall Node&quot;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_sql_install_node</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sets the sql install node information on the XML</span>
<span class="sd">                :return:</span>
<span class="sd">                    Element Tree - sql install node</span>
<span class="sd">         &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sql_install_node</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s1">&#39;sqlInstall&#39;</span><span class="p">)</span>
            <span class="n">sql_install_node</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;sqlDataFilePath&#39;</span><span class="p">,</span> <span class="s1">&#39;%InstallFolder%&#39;</span><span class="p">)</span>
            <span class="n">sqlSaUserAccountNode</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">sql_install_node</span><span class="p">,</span> <span class="s1">&#39;sqlSaUserAccount&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="s2">&quot;sqlSaPassword&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">sqlSaUserAccountNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sqlSaPassword&quot;</span><span class="p">)))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sqlSaUserAccountNode</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="s1">&#39;3fc6a1ae5e2a31de47e4143b439590b5f614fad96bf545daa&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">sql_install_node</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception in writing XML to a file&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="InstallXMLGenerator.create_xml_file_for_remote"><a class="viewcode-back" href="../../source/Install.html#Install.install_xml_helper.InstallXMLGenerator.create_xml_file_for_remote">[docs]</a>    <span class="k">def</span> <span class="nf">create_xml_file_for_remote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xml</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;install_XML.xml&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Writes root object of the Element Tree to an XML file</span>

<span class="sd">                Args:</span>
<span class="sd">                    xml     (root)  --  Element Tree Object</span>
<span class="sd">                        default: None</span>

<span class="sd">                    file_name    (str)   --  Name of the XML File</span>
<span class="sd">                        default: temp_installXML.xml</span>

<span class="sd">                Returns:</span>
<span class="sd">                    The File Path where XMl file is created.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">_path</span> <span class="o">=</span> <span class="n">constants</span><span class="o">.</span><span class="n">TEMP_DIR</span>
            <span class="n">xmlfilepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_path</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">xmlfilepath</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
                <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">xml</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Created xml file [</span><span class="si">{0}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">xmlfilepath</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">xmlfilepath</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Exception raised at createXMLfileForRemote: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">raise</span> <span class="n">err</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Commvault Systems Inc. All Rights Reserved

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>