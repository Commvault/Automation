
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Automation.Web.AdminConsole.AdminConsolePages.Plans &#8212; Commvault Automation 11.14 documentation</title>
    <link rel="stylesheet" href="../../../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for Automation.Web.AdminConsole.AdminConsolePages.Plans</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># --------------------------------------------------------------------------</span>
<span class="c1"># Copyright Commvault Systems, Inc.</span>
<span class="c1"># See LICENSE.txt in the project root for</span>
<span class="c1"># license information.</span>
<span class="c1"># --------------------------------------------------------------------------</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This module provides the function or operations that can be performed on the</span>
<span class="sd">plans page on the AdminConsole</span>

<span class="sd">Class:</span>

<span class="sd">    Plans() -&gt; AdminPage() -&gt; login_page() -&gt; AdminConsoleBase() -&gt; object</span>

<span class="sd">Functions:</span>

<span class="sd">_add_new_schedule_automatic()   -- add automatic schedule</span>
<span class="sd">_add_new_schedule_daily()       -- add daily schedule</span>
<span class="sd">_add_new_schedule_weekly()      -- add weekly schedule</span>
<span class="sd">_add_new_schedule_monthly()     -- add monthly schedule</span>
<span class="sd">_add_replication_details()      -- add replication details</span>
<span class="sd">create_replication_plan()       -- creates backup and replication plan</span>
<span class="sd">action_delete_plan()            -- deletes the plan with the given name</span>
<span class="sd">list_plans()                    -- lists all the plans</span>
<span class="sd">select_plan()                   -- selects the plan</span>
<span class="sd">_set_plan_name()                -- set the value of Plan_name</span>
<span class="sd">_set_retention_period()         -- set the value of retention period</span>
<span class="sd">_set_storage_pool()             -- set the value of Storage pool section</span>
<span class="sd">_set_rpo_hours()                -- set the value of rpo Hours</span>
<span class="sd">_set_backup_window()            -- set backup schedule for a plan</span>
<span class="sd">delete_plan                     -- deletes the plans given in the dictionary</span>
<span class="sd">_backup_content_selection()     -- select the data to be backed up</span>
<span class="sd">_exclusion_content_selection()  -- select the data to be excluded from back up</span>
<span class="sd">create_filesystem_plan()        -- create file system plan by entering necessary data</span>
<span class="sd">create_snap_plan()              -- create snap plan by entering necessary data</span>
<span class="sd">create_server_plan()            -- create server plan by entering necessary data</span>
<span class="sd">create_laptop_plan()            -- create laptop plan by entering necessary data</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">Web.AdminConsole.Helper.Imports</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.AdminConsolePages.AdminPage</span> <span class="k">import</span> <span class="n">AdminPage</span>


<div class="viewcode-block" id="Plans"><a class="viewcode-back" href="../../../../../Automation.Web.AdminConsole.AdminConsolePages.html#Automation.Web.AdminConsole.AdminConsolePages.Plans.Plans">[docs]</a><span class="k">class</span> <span class="nc">Plans</span><span class="p">(</span><span class="n">AdminPage</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Class for the Plans page &quot;&quot;&quot;</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_add_new_schedule_automatic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_options</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        schedule_options          :   dictionary of inputs from json</span>

<span class="sd">        inputs can be as follows-</span>
<span class="sd">        schedule_options[&quot;schedule_name&quot;]    :  name of the schedule</span>
<span class="sd">        schedule_options[&quot;schedule_min_hrs&quot;] :  minimum hours</span>
<span class="sd">        schedule_options[&quot;schedule_min_min&quot;] :  minimum minutes</span>
<span class="sd">        schedule_options[&quot;schedule_max_hrs&quot;] :  maximum hours</span>
<span class="sd">        schedule_options[&quot;schedule_min_min&quot;] :  maximum minutes</span>
<span class="sd">        schedule_options[&quot;schedule_backup_level&quot;]:  incremental, full or synth</span>
<span class="sd">                                                    full</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating a new automatic schedule&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//a[contains(text(),</span><span class="se">\</span>
<span class="s2">                                                            &#39;Add schedule&#39;)]&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s2">&quot;Add schedule&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//input[@name = &#39;name&#39;]&quot;</span><span class="p">)</span><span class="o">.</span>\
                                                                <span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_name&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;minBackupIntervalHours&#39;</span><span class="p">,</span>
                                 <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_min_hrs&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;minBackupIntervalMinutes&#39;</span><span class="p">,</span>
                                 <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_min_min&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;maxBackupIntervalHours&#39;</span><span class="p">,</span>
                                 <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_max_hrs&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;maxBackupIntervalHours&#39;</span><span class="p">,</span>
                                 <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_min_min&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//button[@type=&#39;submit&#39;]&quot;</span><span class="p">)</span><span class="o">.</span>\
                                                                    <span class="n">click</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;There is no Add Schedule option&quot;</span><span class="p">)</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_add_new_schedule_daily</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_options</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        schedule_options          :   dictionary of inputs from json</span>

<span class="sd">        inputs can be as follows-</span>
<span class="sd">        schedule_options[&quot;schedule_name&quot;]        :  name of the schedule</span>
<span class="sd">        schedule_options[&quot;schedule_time_hrs]     :  time in hours</span>
<span class="sd">        schedule_options[&quot;schedule_time_min&quot;]    :  time in minutes</span>
<span class="sd">        schedule_options[&quot;schedule_time_phase&quot;]  :  AM/PM</span>
<span class="sd">        schedule_options[&quot;schedule_repeat_days&quot;] :  number of repeat days</span>
<span class="sd">        schedule_options[&quot;schedule_rep_hrs&quot;]     :  repeat time hours</span>
<span class="sd">        schedule_options[&quot;schedule_rep_min&quot;]     :  repeat time minutes</span>
<span class="sd">        schedule_options[&quot;schedule_end_hrs&quot;]     :  end time in hours</span>
<span class="sd">        schedule_options[&quot;schedule_end_min&quot;]     :  end time in minutes</span>
<span class="sd">        schedule_options[&quot;schedule_backup_level&quot;]:  incremental, full or synth</span>
<span class="sd">                                                    full</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating a new daily schedule&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//a[contains(text(),</span><span class="se">\</span>
<span class="s2">                                                            &#39;Add schedule&#39;)]&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s2">&quot;Add schedule&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//*[@id=&#39;schedules-form&#39;]</span><span class="se">\</span>
<span class="s2">                                           /div[1]/div/div[3]/div/div/label&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//input[@name = &#39;name&#39;]&quot;</span><span class="p">)</span><span class="o">.</span>\
                                                    <span class="n">clear</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_name&quot;</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_backup_level&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Incremental&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;btIncremental&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_backup_level&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Full&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;btFull&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_backup_level&quot;</span><span class="p">]</span> <span class="o">==</span> \
                                                        <span class="s1">&#39;Synthetic Full&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;btSynthFull&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;ftDaily&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;scheduleTime&quot;]/</span><span class="se">\</span>
<span class="s1">                        tbody/tr[2]/td[1]/input&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span>\
                                    <span class="p">(</span><span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_time_hrs&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;scheduleTime&quot;]/</span><span class="se">\</span>
<span class="s1">                        tbody/tr[2]/td[3]/input&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">schedule_options</span>\
                        <span class="p">[</span><span class="s2">&quot;schedule_time_min&quot;</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_time_phase&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;AM&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;scheduleTime&quot;]</span><span class="se">\</span>
<span class="s1">                                            /tbody/tr[2]/td[6]/button&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;dayFrequency&#39;</span><span class="p">,</span> <span class="n">schedule_options</span>\
                                     <span class="p">[</span><span class="s2">&quot;schedule_repeat_days&quot;</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_repeat_every&quot;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span>\
                    <span class="p">(</span><span class="s1">&#39;//label[@for=&quot;repeat&quot;]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;repeatHours&#39;</span><span class="p">,</span> \
                                         <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_rep_hrs&quot;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;repeatMinutes&#39;</span><span class="p">,</span> \
                                         <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_rep_min&quot;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span>\
                    <span class="p">(</span><span class="s1">&#39;//*[@id=&quot;repeatTime&quot;]/tbody/tr[2]/td[1]/input&#39;</span><span class="p">)</span><span class="o">.</span>\
                    <span class="n">send_keys</span><span class="p">(</span><span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_end_hrs&quot;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;repeatTime&quot;]/</span><span class="se">\</span>
<span class="s1">                            tbody/tr[2]/td[3]/input&#39;</span><span class="p">)</span><span class="o">.</span>\
                                <span class="n">send_keys</span><span class="p">(</span><span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_end_min&quot;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_end_time_phase&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;AM&#39;</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span>\
                        <span class="p">(</span><span class="s1">&#39;//*[@id=&quot;repeatTime&quot;]/tbody/tr[2]/td[6]/button&#39;</span><span class="p">)</span><span class="o">.</span>\
                        <span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//button[@type=&#39;submit&#39;]&quot;</span><span class="p">)</span><span class="o">.</span>\
                <span class="n">click</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;There is no Add Schedule option&quot;</span><span class="p">)</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_add_new_schedule_weekly</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_options</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        schedule_options          :   dictionary of inputs from json</span>

<span class="sd">        inputs can be as follows-</span>
<span class="sd">        schedule_options[&quot;schedule_name&quot;]        :  name of the schedule</span>
<span class="sd">        schedule_options[&quot;schedule_time_hrs&quot;]    :  time in hours</span>
<span class="sd">        schedule_options[&quot;schedule_time_min&quot;]    :  time in minutes</span>
<span class="sd">        schedule_options[&quot;schedule_repeat_every&quot;]:  true/false</span>
<span class="sd">        schedule_options[&quot;schedule_repeat_days&quot;] :  number of repeat days</span>
<span class="sd">        schedule_options[&quot;schedule_rep_hrs&quot;]     :  repeat time hours</span>
<span class="sd">        schedule_options[&quot;schedule_rep_min&quot;]     :  repeat time in minutes</span>
<span class="sd">        schedule_options[&quot;schedule_end_hrs&quot;]     :  end time hours</span>
<span class="sd">        schedule_options[&quot;schedule_end_min&quot;]     :  end time minutes</span>
<span class="sd">        schedule_options[&quot;schedule_backup_level&quot;]:  incremental, full or synth</span>
<span class="sd">                                                    full</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating a new weekly schedule&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//a[contains(text(),</span><span class="se">\</span>
<span class="s2">                                                        &#39;Add schedule&#39;)]&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s2">&quot;Add schedule&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//input[@name = &#39;name&#39;]&quot;</span><span class="p">)</span><span class="o">.</span>\
                                                                <span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_name&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_backup_level&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Incremental&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;btIncremental&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_backup_level&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Full&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;btFull&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_backup_level&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Synthetic Full&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;btSynthFull&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;ftWeekly&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;scheduleTime&quot;]/tbody/</span><span class="se">\</span>
<span class="s1">                        tr[2]/td[1]/input&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">schedule_options</span>\
                        <span class="p">[</span><span class="s2">&quot;schedule_time_hrs&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;scheduleTime&quot;]/tbody/</span><span class="se">\</span>
<span class="s1">                                tr[2]/td[3]/input&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span>\
                                <span class="p">(</span><span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_time_min&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_time_phase&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;AM&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;scheduleTime&quot;]/</span><span class="se">\</span>
<span class="s1">                                        tbody/tr[2]/td[6]/button&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span>\
                      <span class="p">(</span><span class="s1">&#39;//*[@id=&quot;isteven-multi-select2&quot;]/span/button&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_days&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Monday&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[contains(text(),</span><span class="se">\</span>
<span class="s2">                                                        &#39;Monday&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_days&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[contains(text(),</span><span class="se">\</span>
<span class="s2">                                                        &#39;Tuesday&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_days&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[contains(text(),</span><span class="se">\</span>
<span class="s2">                                                        &#39;Wednesday&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_days&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[contains(text(),</span><span class="se">\</span>
<span class="s2">                                                        &#39;Thursday&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_days&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Friday&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[contains(text(),</span><span class="se">\</span>
<span class="s2">                                                        &#39;Friday&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_days&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[contains(text(),</span><span class="se">\</span>
<span class="s2">                                                        &#39;Saturday&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[contains(text(),</span><span class="se">\</span>
<span class="s2">                                                        &#39;Sunday&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span>\
            <span class="p">(</span><span class="s2">&quot;//*[@id=&#39;isteven-multi-select2&#39;]/span/div/div[1]/div[3]/div[2]&quot;</span><span class="p">)</span>\
            <span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;weekFrequency&#39;</span><span class="p">,</span> \
                                 <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_repeat_days&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_repeat_every&quot;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span>\
                <span class="p">(</span><span class="s1">&#39;//label[@for=&quot;repeat&quot;]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;repeatHours&#39;</span><span class="p">,</span> \
                                     <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_rep_hrs&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;repeatMinutes&#39;</span><span class="p">,</span> \
                                     <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_rep_min&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;repeatTime&quot;]/</span><span class="se">\</span>
<span class="s1">                                                  tbody/tr[2]/td[1]/input&#39;</span><span class="p">)</span><span class="o">.</span>\
                                                  <span class="n">send_keys</span><span class="p">(</span><span class="n">schedule_options</span>\
                                                        <span class="p">[</span><span class="s2">&quot;schedule_end_hrs&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;repeatTime&quot;]/</span><span class="se">\</span>
<span class="s1">                                                  tbody/tr[2]/td[3]/input&#39;</span><span class="p">)</span><span class="o">.</span>\
                                                  <span class="n">send_keys</span><span class="p">(</span><span class="n">schedule_options</span>\
                                                        <span class="p">[</span><span class="s2">&quot;schedule_end_min&quot;</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_end_time_phase&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;AM&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;repeatTime&quot;]/</span><span class="se">\</span>
<span class="s1">                                            tbody/tr[2]/td[6]/button&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//button[@type=&#39;submit&#39;]&quot;</span><span class="p">)</span><span class="o">.</span>\
                                                <span class="n">click</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;There is no Add Schedule option&quot;</span><span class="p">)</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_add_new_schedule_monthly</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_options</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        schedule_options          :   dictionary of inputs from json</span>

<span class="sd">        inputs can be as follows-</span>
<span class="sd">        schedule_options[&quot;schedule_name&quot;]        :  name of the schedule</span>
<span class="sd">        schedule_options[&quot;schedule_time_hrs&quot;]    :  time in hours</span>
<span class="sd">        schedule_options[&quot;schedule_time_min&quot;]    :  time in minutes</span>
<span class="sd">        schedule_options[&quot;schedule_day&quot;]         :  day of the month</span>
<span class="sd">        schedule_options[&quot;schedule_week_day&quot;]    :  week of month</span>
<span class="sd">        schedule_options[&quot;schedule_days&quot;]        :  day of the week</span>
<span class="sd">        schedule_options[&quot;schedule_repeat_days&quot;] :  repeat on which day</span>
<span class="sd">        schedule_options[&quot;schedule_rep_hrs&quot;]     :  repeat time in hours</span>
<span class="sd">        schedule_options[&quot;schedule_rep_min&quot;]     :  repeat time in minutes</span>
<span class="sd">        schedule_options[&quot;schedule_end_hrs&quot;]     :  end time hours</span>
<span class="sd">        schedule_options[&quot;schedule_end_min&quot;]     :  end time minutes</span>
<span class="sd">        schedule_options[&quot;schedule_backup_level&quot;]:  incremental, full or synth</span>
<span class="sd">                                                    full</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating a new monthly schedule&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//a[contains(text(),</span><span class="se">\</span>
<span class="s2">                                                            &#39;Add schedule&#39;)]&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s2">&quot;Add schedule&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//input[@name = &#39;name&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_name&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_backup_level&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Incremental&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;btIncremental&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_backup_level&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Full&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;btFull&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_backup_level&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Synthetic Full&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;btSynthFull&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;ftMonthly&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;scheduleTime&quot;]/</span><span class="se">\</span>
<span class="s1">                                              tbody/tr[2]/td[1]/input&#39;</span><span class="p">)</span><span class="o">.</span>\
                                              <span class="n">send_keys</span><span class="p">(</span><span class="n">schedule_options</span>\
                                                        <span class="p">[</span><span class="s2">&quot;schedule_time_hrs&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;scheduleTime&quot;]/</span><span class="se">\</span>
<span class="s1">                                              tbody/tr[2]/td[3]/input&#39;</span><span class="p">)</span><span class="o">.</span>\
                                              <span class="n">send_keys</span><span class="p">(</span><span class="n">schedule_options</span>\
                                                        <span class="p">[</span><span class="s2">&quot;schedule_time_min&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_time_phase&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;AM&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;scheduleTime&quot;]/</span><span class="se">\</span>
<span class="s1">                                                  tbody/tr[2]/td[6]/button&#39;</span><span class="p">)</span><span class="o">.</span>\
                                                  <span class="n">click</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_single_day&quot;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//input[@id=&quot;monthly&quot;]&#39;</span><span class="p">)</span><span class="o">.</span>\
                                                    <span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;dayOfMonth&#39;</span><span class="p">,</span> \
                                     <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_day&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_many_days&quot;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span>\
                <span class="p">(</span><span class="s1">&#39;//input[@id=&quot;monthly_relative&quot;]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s1">&#39;weekOfMonth&#39;</span><span class="p">,</span>\
                                        <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_week _day&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s1">&#39;dayOfWeek&#39;</span><span class="p">,</span>\
                                        <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_days&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;monthFrequency&#39;</span><span class="p">,</span> \
                                 <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_repeat_days&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_repeat_every&quot;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//label[@for=&quot;repeat&quot;]&#39;</span><span class="p">)</span><span class="o">.</span>\
                                                                        <span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;repeatHours&#39;</span><span class="p">,</span> \
                                     <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_rep_hrs&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;repeatMinutes&#39;</span><span class="p">,</span> \
                                     <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_rep_min&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;repeatTime&quot;]/</span><span class="se">\</span>
<span class="s1">                                                  tbody/tr[2]/td[1]/input&#39;</span><span class="p">)</span><span class="o">.</span>\
                                                  <span class="n">send_keys</span><span class="p">(</span><span class="n">schedule_options</span>\
                                                        <span class="p">[</span><span class="s2">&quot;schedule_end_hrs&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;repeatTime&quot;]/</span><span class="se">\</span>
<span class="s1">                                                  tbody/tr[2]/td[3]/input&#39;</span><span class="p">)</span><span class="o">.</span>\
                                                  <span class="n">send_keys</span><span class="p">(</span><span class="n">schedule_options</span>\
                                                        <span class="p">[</span><span class="s2">&quot;schedule_end_min&quot;</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">schedule_options</span><span class="p">[</span><span class="s2">&quot;schedule_end_time_phase&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;AM&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;repeatTime&quot;]/</span><span class="se">\</span>
<span class="s1">                                            tbody/tr[2]/td[6]/button&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span>\
            <span class="p">(</span><span class="s2">&quot;//button[@type=&#39;submit&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span>\
            <span class="p">(</span><span class="s2">&quot;//button[@type=&#39;submit&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;There is no Add Schedule option&quot;</span><span class="p">)</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">create_replication_plan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                <span class="n">plan</span><span class="p">,</span>
                                <span class="n">storage_name</span><span class="p">,</span>
                                <span class="n">storage_pool</span><span class="p">,</span>
                                <span class="n">retention</span><span class="p">,</span>
                                <span class="n">rpo</span><span class="p">,</span>
                                <span class="n">backup_window</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">secondary_storage_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">replication_details</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Creates a replication plan and associates it with the subclient</span>

<span class="sd">            Args:</span>
<span class="sd">                plan                     (basestring)   --  name of the vsa backup plan</span>

<span class="sd">                storage_name             (basestring)   --  name of the primary storage</span>

<span class="sd">                storage_pool             (basestring)   --  name of the primary storage pool</span>

<span class="sd">                retention                (dict)  --  retention info</span>
<span class="sd">                        {   &#39;time&#39;:    30,</span>
<span class="sd">                            &#39;period&#39;:  &#39;day(s)&#39;</span>
<span class="sd">                        }</span>

<span class="sd">                rpo                      (int)   --  rpo frequency value</span>

<span class="sd">                backup_window            (dict)  --  the not run interval of the backups</span>

<span class="sd">                secondary_storage_list   (list)  --  list of all secondary storage to create</span>

<span class="sd">                    [{ &#39;name&#39;: &#39;secon1&#39;, &#39;storage_pool&#39;: &#39;pool2&#39;, &#39;retention&#39;: {&#39;time&#39;: 5,</span>
<span class="sd">                                                                                &#39;period&#39;: &#39;day(s)&#39;</span>
<span class="sd">                                                                                }},</span>
<span class="sd">                     { &#39;name&#39;: &#39;secon2&#39;, &#39;storage_pool&#39;: &#39;pool3&#39;, &#39;retention&#39;: {&#39;time&#39;: 15,</span>
<span class="sd">                                                                                &#39;period&#39;: &#39;day(s)&#39;</span>
<span class="sd">                                                                                }}</span>
<span class="sd">                    ]</span>

<span class="sd">                replication_details      (dict)  --  the replication related info for each copy</span>
<span class="sd">                        {&#39;replication&#39;: [</span>
<span class="sd">                                            {   &#39;Source&#39;: &#39;Primary&#39;, &#39;Target&#39;: &#39;abc&#39;,</span>
<span class="sd">                                                &#39;Advanced&#39;: {   &#39;Validate destination VM&#39;:  True,</span>
<span class="sd">                                                                &#39;OverwriteVM&#39;: True,</span>
<span class="sd">                                                                &#39;Recovery Points&#39;: 5,</span>
<span class="sd">                                                                &#39;Disk Prov&#39;:    &#39;Thin&#39;,</span>
<span class="sd">                                                                &#39;Transport&#39;:    &#39;Auto&#39;</span>
<span class="sd">                                                            }</span>
<span class="sd">                                            },</span>
<span class="sd">                                            {   &#39;Source&#39;: &#39;Aux&#39;, &#39;Target&#39;: &#39;xyz&#39;,</span>
<span class="sd">                                                &#39;Advanced&#39;: {   &#39;Validate destination VM&#39;:  True,</span>
<span class="sd">                                                                &#39;OverwriteVM&#39;: True,</span>
<span class="sd">                                                                &#39;Recovery Points&#39;: 5,</span>
<span class="sd">                                                                &#39;Disk Prov&#39;:    &#39;Thin&#39;,</span>
<span class="sd">                                                                &#39;Transport&#39;:    &#39;Auto&#39;</span>
<span class="sd">                                                            }</span>
<span class="sd">                                            }</span>
<span class="sd">                                        ]</span>
<span class="sd">                        }</span>

<span class="sd">            Raises:</span>
<span class="sd">                Exception:</span>
<span class="sd">                    if there is an error while creating a replication plan for VSA</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//a/span[contains(text(),&#39;Create plan&#39;)]&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;There is no option to create a plan. Please check if the&quot;</span>
                            <span class="s2">&quot;logged in user has sufficient permissions.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span><span class="s2">&quot;Create plan&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span><span class="s2">&quot;Replication&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;planName&quot;</span><span class="p">,</span> <span class="n">plan</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;storageName&quot;</span><span class="p">,</span> <span class="n">storage_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s2">&quot;storage&quot;</span><span class="p">,</span> <span class="n">storage_pool</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;retention&quot;</span><span class="p">,</span> <span class="n">retention</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
        <span class="n">Select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;plan-day-input&#39;]/select&quot;</span><span class="p">)</span>
              <span class="p">)</span><span class="o">.</span><span class="n">select_by_visible_text</span><span class="p">(</span><span class="n">retention</span><span class="p">[</span><span class="s1">&#39;period&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;rpo&quot;</span><span class="p">,</span> <span class="n">rpo</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">backup_window</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">backup_window_selection</span><span class="p">(</span><span class="n">backup_window</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">backup_window_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//ul[@class=&#39;&quot;</span>
                                                                   <span class="s2">&quot;backup-window-list&#39;]/li[1]&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">backup_window_list</span><span class="o">.</span><span class="n">text</span> <span class="o">==</span> <span class="s2">&quot;Not enabled&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Backup window is not enabled. Please select a window to run &quot;</span>
                                <span class="s2">&quot;backups. Otherwise the subclients associated with the plan can &quot;</span>
                                <span class="s2">&quot;never run backups.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">submit_form</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">):</span>
            <span class="n">error</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//form/div/button[1]/span&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">secondary_storage_list</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//form/div/button[1]/span&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">secondary_storage_list</span><span class="p">)):</span>
                    <span class="n">secondary</span> <span class="o">=</span> <span class="n">secondary_storage_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;storageName&quot;</span><span class="p">,</span> <span class="n">secondary</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s2">&quot;storage&quot;</span><span class="p">,</span> <span class="n">secondary</span><span class="p">[</span><span class="s1">&#39;storage_pool&#39;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;retention&quot;</span><span class="p">,</span> <span class="n">secondary</span><span class="p">[</span><span class="s1">&#39;retention&#39;</span><span class="p">][</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
                    <span class="n">Select</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;plan-day-input&#39;]/select&quot;</span><span class="p">)</span>
                        <span class="p">)</span><span class="o">.</span><span class="n">select_by_visible_text</span><span class="p">(</span><span class="n">secondary</span><span class="p">[</span><span class="s1">&#39;retention&#39;</span><span class="p">][</span><span class="s1">&#39;period&#39;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">submit_form</span><span class="p">()</span>

                    <span class="c1"># check if another secondary storage copy exists</span>
                    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">secondary_storage_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//form/div/button[2]/span&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//form/div/button[1]/span&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//form/div/button[2]/span&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Configuring replication&quot;</span><span class="p">)</span>

        <span class="n">replication_list</span> <span class="o">=</span> <span class="n">replication_details</span><span class="p">[</span><span class="s1">&#39;replication&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">replication_list</span><span class="p">)):</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">replication_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s2">&quot;backupSource&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;Source&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cvselect_from_dropdown</span><span class="p">(</span><span class="s2">&quot;Target&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">])</span>

            <span class="k">if</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;Advanced&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[contains(text(),&#39;Advanced options&#39;)]&quot;</span>
                                                 <span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

                <span class="n">validate_vm</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;Advanced&#39;</span><span class="p">][</span><span class="s1">&#39;Validate destination VM&#39;</span><span class="p">]</span>
                <span class="n">overwrite</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;Advanced&#39;</span><span class="p">][</span><span class="s1">&#39;OverwriteVM&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">validate_vm</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">checkbox_select</span><span class="p">(</span><span class="s2">&quot;powerOn&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">checkbox_deselect</span><span class="p">(</span><span class="s2">&quot;powerOn&quot;</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">overwrite</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">checkbox_select</span><span class="p">(</span><span class="s2">&quot;overwrite&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">checkbox_deselect</span><span class="p">(</span><span class="s2">&quot;overwrite&quot;</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;Advanced&#39;</span><span class="p">][</span><span class="s1">&#39;Recovery Points&#39;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;nMaxSnapshotsPerDRVM&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;Advanced&#39;</span><span class="p">][</span>
                        <span class="s1">&#39;Recovery Points&#39;</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;Advanced&#39;</span><span class="p">][</span><span class="s1">&#39;Disk Prov&#39;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s2">&quot;diskProvOption&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;Advanced&#39;</span><span class="p">][</span>
                        <span class="s1">&#39;Disk Prov&#39;</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;Advanced&#39;</span><span class="p">][</span><span class="s1">&#39;Transport&#39;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s2">&quot;transportMode&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;Advanced&#39;</span><span class="p">][</span>
                        <span class="s1">&#39;Transport&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">submit_form</span><span class="p">()</span>

            <span class="c1"># check if another replication copy exists</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">replication_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//form/div/button[2]/span&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//form/div/button[1]/span&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">submit_form</span><span class="p">()</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">create_data_classification_plan</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">index_server</span><span class="p">,</span> <span class="n">content_analyzer</span><span class="p">,</span> <span class="n">entities_list</span><span class="o">=</span><span class="p">[],</span>\
            <span class="n">select_all</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a Data Classification plan</span>

<span class="sd">            Args:</span>
<span class="sd">                plan (str)           :   Name of the plan to be created</span>
<span class="sd">                index_server (str)        :   Index Server name</span>
<span class="sd">                content_analyzer (str)      :   Content Analyzer name</span>
<span class="sd">                entities_list (list)   :   List of entities</span>
<span class="sd">                    Values:</span>
<span class="sd">                        &quot;Credit card number&quot;,</span>
<span class="sd">                        &quot;Social security number&quot;,</span>
<span class="sd">                        &quot;Email&quot;</span>
<span class="sd">                select_all (bool)   :   True/False to select all entities</span>
<span class="sd">            &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating data classification plan with name: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">plan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s2">&quot;Create plan&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s2">&quot;Data classification&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Entering plan name&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;planName&quot;</span><span class="p">,</span> <span class="n">plan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Selecting Index Server&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s2">&quot;analyticsEngine&quot;</span><span class="p">,</span> <span class="n">index_server</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Clicking on Next&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_next</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Clicking on Enable&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//label[text()=&#39;Enable&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Selecting content analyzer&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//select[contains(@data-ng-model,</span><span class="se">\</span>
<span class="s2">        &#39;contentAnalyzer&#39;)]/option[text()=&#39;</span><span class="si">%s</span><span class="s2">&#39;]&quot;</span> <span class="o">%</span> <span class="n">content_analyzer</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Selecting Entities&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//isteven-multi-select[@id=&#39;entities&#39;]/span/button&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">select_all</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s1">&#39;//*[@id=&quot;entities&quot;]//div[1]/div[1]/button[1]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">entities_list</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//isteven-multi-select[@id=&#39;entities&#39;]</span><span class="se">\</span>
<span class="s2">                //input[@placeholder=&#39;Search&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Searching for entity: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">entity</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//isteven-multi-select[@id=&#39;entities&#39;]</span><span class="se">\</span>
<span class="s2">                //input[@placeholder=&#39;Search&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">entity</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Selecting the entity: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">entity</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                    <span class="s1">&#39;//*[@id=&quot;entities&quot;]/span/div/div[2]/div[2]/div[3]/label/span&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Clicking on OK&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//isteven-multi-select</span><span class="se">\</span>
<span class="s2">        //div[contains(@class,&#39;line-searchOk&#39;) and text() = &#39;OK&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Clicking on Save after the selection of the entities&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">submit_form</span><span class="p">()</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">action_delete_plan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plan</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Deletes the plan with the given name</span>
<span class="sd">            plan    :   a string, the name of the plan to be deleted</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deleting the plan with the given name&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">&quot;search-field&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">&quot;search-field&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">plan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">,</span> <span class="n">plan</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//a[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">plan</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]/../../../../&quot;</span>
                                                                               <span class="s2">&quot;div[4]/div/a/span&quot;</span>\
                                                                               <span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//a[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">plan</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]/../../../../&quot;</span>
                                              <span class="s2">&quot;div[4]/div/ul/li/a[&quot;</span>
                                              <span class="s2">&quot;contains(text(),&quot;</span>
                                              <span class="s2">&quot;&#39;Delete&#39;)]&quot;</span><span class="p">)</span>\
                <span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[3]/button[contains(text(),&#39;Yes&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//div[4]/div/div[@class=&#39;growl-item alert&quot;</span>
                                                    <span class="s2">&quot; ng-scope alert-error alert-danger&#39;]&quot;</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[4]/div/div[@class=&quot;</span>
                                                                  <span class="s2">&quot;&#39;growl-item alert ng-scope&quot;</span>
                                                                  <span class="s2">&quot;alert-error alert-danger&#39;]/&quot;</span>
                                                                  <span class="s2">&quot;div/div&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;There is no plan named &quot;</span> <span class="o">+</span> <span class="n">plan</span><span class="p">)</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">list_plans</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Lists all the plans</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Listing all the plans in the CS&quot;</span><span class="p">)</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;ui-grid-canvas&#39;]/div&quot;</span><span class="p">)</span>
        <span class="n">plans_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">plan_info</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
            <span class="n">plan_info</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./div/div[1]//a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">plan_info</span><span class="p">[</span><span class="s1">&#39;Type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./div/div[2]/div&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">plan_info</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./div/div[3]/span&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="n">plans_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">plan_info</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;The list of all plan details is &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">plans_list</span><span class="p">))</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_plan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plan</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects the given plan</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Selecting the plan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">search_for</span><span class="p">(</span><span class="n">plan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">,</span> <span class="n">plan</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="n">plan</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;There is no plan with the given name&quot;</span><span class="p">)</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_set_plan_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plan_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to set plan name</span>
<span class="sd">        Args:</span>
<span class="sd">            plan_name (str) : name of the plan</span>
<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;populating Plan Name&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;planName&quot;</span><span class="p">,</span> <span class="n">plan_name</span><span class="p">)</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_set_retention_period</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ret_period</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to set retention period</span>
<span class="sd">        Args:</span>
<span class="sd">            ret_period (int) : Retention period for storage pool</span>
<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;setting Retention Period&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;retention&quot;</span><span class="p">,</span> <span class="n">ret_period</span><span class="p">)</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_set_storage_pool</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">storage_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to set storage pool</span>
<span class="sd">        Args:</span>
<span class="sd">            None</span>
<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting Storage Pool&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s2">&quot;primaryStorage&quot;</span><span class="p">,</span> <span class="n">storage_name</span><span class="p">)</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_set_rpo_hours</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rpo_hours</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to set back up sla</span>
<span class="sd">        Args:</span>
<span class="sd">            rpo_hours (int): value of RPO Hours</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting RPO hours&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;rpo&quot;</span><span class="p">,</span> <span class="n">rpo_hours</span><span class="p">)</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_set_backup_window</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backup_day</span><span class="p">,</span> <span class="n">backup_time</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to set back up window</span>
<span class="sd">        Args:</span>
<span class="sd">            backup_day (dict): dictionary containing values of backup days for backup window</span>
<span class="sd">                Eg.- dict.fromkeys([&#39;1&#39;, &#39;2&#39;, &#39;3&#39;], 1)</span>
<span class="sd">                        backup days for schedule</span>
<span class="sd">                            1 : Monday</span>
<span class="sd">                            2: Tuesday and so on</span>
<span class="sd">            backup_time (dict): dictionary containing values of backup time for backup window</span>
<span class="sd">                Eg.- dict.fromkeys([&#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;], 1)</span>
<span class="sd">                    backup time for schedule</span>
<span class="sd">                        2 : 12:00am to 1:00 am</span>
<span class="sd">                        3 : 1:00am to 2:00 am</span>
<span class="sd">                        and so on..</span>
<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting up Backup window&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//a[@class=&#39;clear-link&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">key_day</span><span class="p">,</span> <span class="n">val_day</span> <span class="ow">in</span> <span class="n">backup_day</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">val_day</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">key_time</span><span class="p">,</span> <span class="n">val_time</span> <span class="ow">in</span> <span class="n">backup_time</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">val_time</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//table[@class=</span><span class="se">\</span>
<span class="s2">                    &#39;time-obj&#39;]/tbody/tr[&quot;</span> <span class="o">+</span> <span class="n">key_day</span> <span class="o">+</span> <span class="s2">&quot;]/td[&quot;</span> <span class="o">+</span> <span class="n">key_time</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span><span class="p">)</span>\
                    <span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//button[@class=&#39;btn btn-primary cvBusyOnAjax&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">delete_plan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plan_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to delete an existing plan</span>

<span class="sd">        Args:</span>
<span class="sd">            plan_name (str): Name of the plan to be deleted</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                -- if fails to delete plan</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deleting plan </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">plan_name</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">search_for</span><span class="p">(</span><span class="n">plan_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span>
                <span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//a[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">plan_name</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>
                <span class="s2">&quot;/ancestor::div[@class=&#39;ui-grid-row ng-scope&#39;]/div/div[4]/div/a&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//a[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">plan_name</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>
                <span class="s2">&quot;/ancestor::div[@class=&#39;ui-grid-row ng-scope&#39;]/div/div[4]/div/a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s2">&quot;Delete&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//button[contains(text(),&#39;Yes&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="s2">&quot;No plan </span><span class="si">{0}</span><span class="s2"> available to delete&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">plan_name</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_backup_content_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">content_backup</span><span class="p">,</span>
                                  <span class="n">content_library</span><span class="p">,</span>
                                  <span class="n">custom_content</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to select backup content for the plan</span>

<span class="sd">        Args:</span>
<span class="sd">            plan (str): Type of plan for which the backup content is to be selected</span>
<span class="sd">                    (FileSystem/Laptop)</span>
<span class="sd">            content_backup (list): List with folder names to be selected</span>
<span class="sd">                            for content backup</span>
<span class="sd">                Eg. - content_backup:[&quot;Content Library&quot;, &quot;Documents&quot;, &quot;Desktop&quot;,</span>
<span class="sd">                                        &quot;Office&quot;, &quot;Music&quot;, &quot;Pictures&quot;, &quot;Videos&quot;]</span>
<span class="sd">            content_library (list): List with content library values to be</span>
<span class="sd">                            selected for backup</span>
<span class="sd">                Eg. - content_library = [&#39;Content Library&#39;, &#39;GoogleDrive&#39;, &#39;Image&#39;,</span>
<span class="sd">                                         &#39;Office&#39;, &#39;OneDrive&#39;, &#39;System&#39;,</span>
<span class="sd">                                        &#39;Temporary Files&#39;, &#39;Text&#39;,</span>
<span class="sd">                                        &#39;Thumbnail Supported&#39;, &#39;Video&#39;,</span>
<span class="sd">                                        &#39;iCloudDrive&#39;]</span>
<span class="sd">            custom_content (str): path for custom(extra) content to be backed up</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                -- if fails to select Backup content</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting up backup content&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//div[@class=&#39;tab-pane ng-scope active&#39;]</span><span class="se">\</span>
<span class="s2">        //div[@id=&#39;backup-content-folders&#39;]//span[@class=&#39;page-action-item&#39;]</span><span class="se">\</span>
<span class="s2">        /a[contains(text(),&#39;Remove all&#39;)]&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;tab-pane ng-scope active&#39;]</span><span class="se">\</span>
<span class="s2">            //div[@id=&#39;backup-content-folders&#39;]//span[@class=&#39;page-action-item&#39;]</span><span class="se">\</span>
<span class="s2">            /a[contains(text(),&#39;Remove all&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;tab-pane ng-scope active&#39;]</span><span class="se">\</span>
<span class="s2">//div[@id=&#39;backup-content-folders&#39;]//a[contains(text(),&#39;Add&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">content_backup</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;Content Library&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//label[@for=&#39;&quot;</span><span class="o">+</span><span class="n">value</span><span class="o">+</span><span class="s2">&quot;&#39;]/../..//input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//label[@for=&#39;&quot;</span><span class="o">+</span><span class="n">value</span><span class="o">+</span><span class="s2">&quot;&#39;]/../..//input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;Library&#39;</span><span class="p">:</span>
                        <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//li[@class=</span><span class="se">\</span>
<span class="s2">                &#39;ivh-treeview-node ng-scope ng-isolate-scope ivh-treeview-node-collapsed&#39;]&quot;</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//li[@class=&#39;ivh-treeview-node ng-scope ng-isolate-scope ivh-treeview</span><span class="se">\</span>
<span class="s2">-node-collapsed&#39;]//span[@class=&#39;glyphicon glyphicon-chevron-right&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="k">for</span> <span class="n">value_lib</span> <span class="ow">in</span> <span class="n">content_library</span><span class="p">:</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                <span class="s2">&quot;//label[@for=&#39;&quot;</span><span class="o">+</span><span class="n">value</span><span class="o">+</span><span class="s2">&quot;&#39;]/../..//input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                <span class="s2">&quot;//label[@for=&#39;&quot;</span><span class="o">+</span><span class="n">value</span><span class="o">+</span><span class="s2">&quot;&#39;]/../..//input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                            <span class="k">if</span> <span class="n">value_lib</span> <span class="o">==</span> <span class="s1">&#39;Content Library&#39;</span><span class="p">:</span>
                                <span class="k">break</span>

        <span class="k">if</span> <span class="n">custom_content</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//a[contains(text(),&#39;Add custom content&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;folderName&quot;</span><span class="p">,</span> <span class="n">custom_content</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//button[@class=&#39;btn btn-primary cvBusyOnAjax&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//span[@class=&#39;help-block&#39;]&quot;</span><span class="p">):</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[@class=&#39;help-block&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">):</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_exclusion_content_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                     <span class="n">exclude_folder</span><span class="p">,</span>
                                     <span class="n">exclude_folder_library</span><span class="p">,</span>
                                     <span class="n">exclude_folder_custom_content</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to select content to be excluded from backup for the plan</span>

<span class="sd">        Args:</span>
<span class="sd">            plan (str): Type of plan for which the exclusion folders are to be provided</span>
<span class="sd">                    (FileSystem/Laptop)</span>
<span class="sd">            exclude_folder (list): List with folder names to be excluded</span>
<span class="sd">                            from backup</span>
<span class="sd">                Eg. - exclude_folder = [&#39;Content Library&#39;, &#39;Documents&#39;]</span>
<span class="sd">            exclude_folder_library (list): List with content library folders to be</span>
<span class="sd">                                excluded from backup</span>
<span class="sd">                Eg. - exclude_folder_library = [&#39;DropBox&#39;, &#39;EdgeDrive&#39;, &#39;Executable&#39;,</span>
<span class="sd">                                                &#39;GoogleDrive&#39;, &#39;Image&#39;, &#39;Office&#39;,</span>
<span class="sd">                                                &#39;OneDrive&#39;, &#39;Thumbnail Supported&#39;,</span>
<span class="sd">                                                &#39;Video&#39;, &#39;iCloudDrive&#39;]</span>
<span class="sd">            exclude_folder_custom_content (str): path for custom(extra) content to be</span>
<span class="sd">                                            excluded</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                -- if fails to provide exclusion values for the plan</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting up content to be excluded&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//div[@class=&#39;tab-pane ng-scope active&#39;]</span><span class="se">\</span>
<span class="s2">        //div[@id=&#39;exclude-folders&#39;]//span[@class=&#39;page-action-item ng-scope&#39;]</span><span class="se">\</span>
<span class="s2">        /a[contains(text(),&#39;Remove all&#39;)]&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;tab-pane ng-scope active&#39;]</span><span class="se">\</span>
<span class="s2">            //div[@id=&#39;exclude-folders&#39;]//span[@class=&#39;page-action-item ng-scope&#39;]</span><span class="se">\</span>
<span class="s2">            /a[contains(text(),&#39;Remove all&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;tab-pane ng-scope active&#39;]</span><span class="se">\</span>
<span class="s2">//div[@id=&#39;exclude-folders&#39;]//a[contains(text(),&#39;Add&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">exclude_folder</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;Content Library&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//label[@for=&#39;&quot;</span><span class="o">+</span><span class="n">value</span><span class="o">+</span><span class="s2">&quot;&#39;]/../..//input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//label[@for=&#39;&quot;</span><span class="o">+</span><span class="n">value</span><span class="o">+</span><span class="s2">&quot;&#39;]/../..//input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;Library&#39;</span><span class="p">:</span>
                        <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//li[@class=</span><span class="se">\</span>
<span class="s2">                &#39;ivh-treeview-node ng-scope ng-isolate-scope ivh-treeview-node-collapsed&#39;]&quot;</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//li[@class=&#39;ivh-treeview-node ng-scope ng-isolate-scope ivh-treeview</span><span class="se">\</span>
<span class="s2">-node-collapsed&#39;]//span[@class=&#39;glyphicon glyphicon-chevron-right&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="k">for</span> <span class="n">value_lib</span> <span class="ow">in</span> <span class="n">exclude_folder_library</span><span class="p">:</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                <span class="s2">&quot;//label[@for=&#39;&quot;</span><span class="o">+</span><span class="n">value</span><span class="o">+</span><span class="s2">&quot;&#39;]/../..//input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                <span class="s2">&quot;//label[@for=&#39;&quot;</span><span class="o">+</span><span class="n">value_lib</span><span class="o">+</span><span class="s2">&quot;&#39;]/../..//input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">exclude_folder_custom_content</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//a[contains(text(),&#39;Add custom content&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;folderName&quot;</span><span class="p">,</span> <span class="n">exclude_folder_custom_content</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//button[@class=&#39;btn btn-primary cvBusyOnAjax&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//span[@class=&#39;help-block&#39;]&quot;</span><span class="p">):</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[@class=&#39;help-block&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">):</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">create_filesystem_plan</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">plan_name</span><span class="p">,</span>
            <span class="n">storage_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">ret_period</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">rpo_hours</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">backup_data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">allow_override</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">backup_day</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">backup_duration</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">system_state</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">full_backup</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">vss</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to create FileSystem plan</span>

<span class="sd">        Args:</span>
<span class="sd">            plan_name (str) : Name of the plan to be created</span>
<span class="sd">            ret_period (int) : Retention period for storage pool</span>
<span class="sd">            rpo_hours (int) : RPO Hours value</span>
<span class="sd">            backup_data (Dictionary): Dictionary with data to be selected</span>
<span class="sd">                for backup or excluded from backup</span>
<span class="sd">                Eg. - backup_data = {&#39;file_system&#39;:[&quot;Mac&quot;, &quot;Unix&quot;, &quot;Windows&quot;],</span>
<span class="sd">                                    &#39;content_backup&#39;:[&quot;Content Library&quot;],</span>
<span class="sd">                                    &#39;content_library&#39;:[&#39;Content Library&#39;, &#39;GoogleDrive&#39;],</span>
<span class="sd">                                    &#39;custom_content&#39;:None,</span>
<span class="sd">                                    &#39;exclude_folder&#39;:[&#39;Content Library&#39;, &#39;Documents&#39;],</span>
<span class="sd">                                    &#39;exclude_folder_library&#39;:[&#39;DropBox&#39;, &#39;EdgeDrive&#39;, &#39;Executable&#39;]</span>
<span class="sd">                                    &#39;exclude_folder_custom_content&#39;:None</span>
<span class="sd">                                   }</span>
<span class="sd">            system_state (boolean): value, if &quot;Backup system state&quot; should be checked or not</span>
<span class="sd">            full_backup (boolean): value, if &quot;Only with full backup&quot; should be checked or not</span>
<span class="sd">            vss (boolean): value, if &quot;Use VSS for system state&quot; should be checked or not</span>
<span class="sd">            allow_override (dictionary): dictionary containing values for Override parameters</span>
<span class="sd">                Eg. - allow_override = {&quot;Storage_pool&quot;: &quot;Override required&quot;,</span>
<span class="sd">                                       &quot;RPO&quot;: &quot;Override optional&quot;,</span>
<span class="sd">                                       &quot;Folders_to_backup&quot;: &quot;Override not allowed&quot;}</span>
<span class="sd">            backup_day (dictionary): dictionary containing values of backup days for backup</span>
<span class="sd">                window</span>
<span class="sd">                Eg. - backup_day = dict.fromkeys([&#39;1&#39;, &#39;2&#39;, &#39;3&#39;], 1)</span>
<span class="sd">            backup_duration (dictionary): dictionary containing values of backup time for backup</span>
<span class="sd">                window</span>
<span class="sd">                Eg. - backup_duration = dict.fromkeys([&#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;], 1)</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                -- if fails to create the plan</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating File System Plan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//*[@id=&#39;wrapper&#39;]/div/div/span/cv-grid/div/div[1]/div/span[2]/span/</span><span class="se">\</span>
<span class="s2">            span/span/a/span[2]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;selecting File system option from Create Plan dropdown&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s2">&quot;File system&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_set_plan_name</span><span class="p">(</span><span class="n">plan_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">storage_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_storage_pool</span><span class="p">(</span><span class="n">storage_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ret_period</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_retention_period</span><span class="p">(</span><span class="n">ret_period</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">rpo_hours</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting up rpo hours&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[@is-open=&#39;status.openSla&#39; and @data-ng-init=</span><span class="se">\</span>
<span class="s2">                &#39;status.openSla=false&#39; and @class=</span><span class="se">\</span>
<span class="s2">                &#39;panel ng-isolate-scope panel-default&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_rpo_hours</span><span class="p">(</span><span class="n">rpo_hours</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//li[@class=&#39;ng-binding ng-scope&#39;]</span><span class="se">\</span>
<span class="s2">            &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">backup_day</span> <span class="ow">and</span> <span class="n">backup_duration</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_backup_window</span><span class="p">(</span><span class="n">backup_day</span><span class="p">,</span> <span class="n">backup_duration</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">backup_data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting up backup data&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[@is-open=&#39;status.folderToBackup&#39; and @class=</span><span class="se">\</span>
<span class="s2">                &#39;panel ng-isolate-scope panel-default&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Configuring File System&quot;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;file_system&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//ul[@class=&#39;nav nav-tabs nav-justified&#39;]</span><span class="se">\</span>
<span class="s2">//a[contains(text(),&#39;&quot;</span><span class="o">+</span><span class="n">value</span><span class="o">+</span><span class="s2">&quot;&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;Windows&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_backup_content_selection</span><span class="p">(</span>
                        <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;content_backup&#39;</span><span class="p">],</span>
                        <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;content_library&#39;</span><span class="p">],</span>
                        <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;custom_content&#39;</span><span class="p">])</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">_exclusion_content_selection</span><span class="p">(</span>
                        <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;exclude_folder&#39;</span><span class="p">],</span>
                        <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;exclude_folder_library&#39;</span><span class="p">],</span>
                        <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;exclude_folder_custom_content&#39;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_backup_content_selection</span><span class="p">(</span>
                        <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;content_backup&#39;</span><span class="p">],</span>
                        <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;content_library&#39;</span><span class="p">],</span>
                        <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;custom_content&#39;</span><span class="p">])</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">_exclusion_content_selection</span><span class="p">(</span>
                        <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;exclude_folder&#39;</span><span class="p">],</span>
                        <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;exclude_folder_library&#39;</span><span class="p">],</span>
                        <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;exclude_folder_custom_content&#39;</span><span class="p">])</span>

                    <span class="k">if</span> <span class="n">system_state</span><span class="p">:</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                <span class="s2">&quot;//input[@id=&#39;backupSystemState&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                <span class="s2">&quot;//label[@for=&#39;backupSystemState&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

                        <span class="k">if</span> <span class="n">full_backup</span><span class="p">:</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                    <span class="s2">&quot;//input[@id=&#39;backupSystemStateforFullBkpOnly&#39;]&quot;</span><span class="p">)</span>\
                                    <span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                    <span class="s2">&quot;//label[@for=&#39;backupSystemStateforFullBkpOnly&#39;]&quot;</span><span class="p">)</span>\
                                        <span class="o">.</span><span class="n">click</span><span class="p">()</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                    <span class="s2">&quot;//input[@id=&#39;backupSystemStateforFullBkpOnly&#39;]&quot;</span><span class="p">)</span>\
                                    <span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                    <span class="s2">&quot;//label[@for=&#39;backupSystemStateforFullBkpOnly&#39;]&quot;</span><span class="p">)</span>\
                                        <span class="o">.</span><span class="n">click</span><span class="p">()</span>

                        <span class="k">if</span> <span class="n">vss</span><span class="p">:</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                    <span class="s2">&quot;//input[@id=&#39;useVSSForSystemState&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                    <span class="s2">&quot;//label[@for=&#39;useVSSForSystemState&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                    <span class="s2">&quot;//input[@id=&#39;useVSSForSystemState&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                    <span class="s2">&quot;//label[@for=&#39;useVSSForSystemState&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                <span class="s2">&quot;//input[@id=&#39;backupSystemState&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                                <span class="s2">&quot;//label[@for=&#39;backupSystemState&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">allow_override</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting up override options&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[@class=&#39;panel ng-isolate-scope panel-default&#39;]/div/h4/a/</span><span class="se">\</span>
<span class="s2">                span/label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="n">dropdowns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[@data-ng-class=&#39;selectClass&#39;]&quot;</span><span class="p">)</span>

            <span class="n">storage_pool</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span>
                <span class="n">dropdowns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./select&quot;</span><span class="p">))</span>
            <span class="n">storage_pool</span><span class="o">.</span><span class="n">select_by_visible_text</span><span class="p">(</span>
                <span class="n">allow_override</span><span class="p">[</span><span class="s2">&quot;Storage_pool&quot;</span><span class="p">])</span>

            <span class="n">storage_pool</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span>
                <span class="n">dropdowns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./select&quot;</span><span class="p">))</span>
            <span class="n">storage_pool</span><span class="o">.</span><span class="n">select_by_visible_text</span><span class="p">(</span>
                <span class="n">allow_override</span><span class="p">[</span><span class="s2">&quot;RPO&quot;</span><span class="p">])</span>

            <span class="n">storage_pool</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span>
                <span class="n">dropdowns</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./select&quot;</span><span class="p">))</span>
            <span class="n">storage_pool</span><span class="o">.</span><span class="n">select_by_visible_text</span><span class="p">(</span>
                <span class="n">allow_override</span><span class="p">[</span><span class="s2">&quot;Folders_to_backup&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;All values entered, submitting form for plan creation&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//div[@class=&#39;button-container text-right&#39;]//button[@class=</span><span class="se">\</span>
<span class="s2">            &#39;btn btn-primary cvBusyOnAjax&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//span[@class=&#39;help-block&#39;]&quot;</span><span class="p">):</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[@class=&#39;help-block&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">):</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">create_snap_plan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                         <span class="n">plan_name</span><span class="p">,</span>
                         <span class="n">snap_recovery_points</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                         <span class="n">rpo_hours</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                         <span class="n">backup_day</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                         <span class="n">backup_duration</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                         <span class="n">storage_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to create Snap plan</span>

<span class="sd">        Args:</span>
<span class="sd">            plan_name : Name of the plan to be created</span>
<span class="sd">            snap_recovery_points : value of recovery points to be provided for snap</span>
<span class="sd">                                plan</span>
<span class="sd">            rpo_hours : RPO Hours value</span>
<span class="sd">            backup_day (dictionary): dictionary containing values of backup days for backup</span>
<span class="sd">                window</span>
<span class="sd">                Eg. - backup_day = dict.fromkeys([&#39;1&#39;, &#39;2&#39;, &#39;3&#39;], 1)</span>
<span class="sd">            backup_duration (dictionary): dictionary containing values of backup time for backup</span>
<span class="sd">                window</span>
<span class="sd">                Eg. - backup_duration = dict.fromkeys([&#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;], 1)</span>
<span class="sd">            storage_name (str) : name of the storage pool to be selected for plan</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                -- if fails to create the plan</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating Snap Plan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//*[@id=&#39;wrapper&#39;]/div/div/span/cv-grid/div/div[1]/div/span[2]/span</span><span class="se">\</span>
<span class="s2">            /span/span/a/span[2]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;selecting Snap option from Create Plan dropdown&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s2">&quot;Snap&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_set_plan_name</span><span class="p">(</span><span class="n">plan_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">storage_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_storage_pool</span><span class="p">(</span><span class="n">storage_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">snap_recovery_points</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;setting up snap recovery points&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;snapRecoveryPoints&quot;</span><span class="p">,</span> <span class="n">snap_recovery_points</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">rpo_hours</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_rpo_hours</span><span class="p">(</span><span class="n">rpo_hours</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">backup_day</span> <span class="ow">and</span> <span class="n">backup_duration</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;setting backup day and backup duration&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//li[contains(text(),</span><span class="se">\</span>
<span class="s2">            &#39;Not enabled&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_backup_window</span><span class="p">(</span><span class="n">backup_day</span><span class="p">,</span> <span class="n">backup_duration</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;All values entered, submitting form for plan creation&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//button[@class=&#39;btn btn-primary cvBusyOnAjax&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//span[@class=&#39;help-block&#39;]&quot;</span><span class="p">):</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[@class=&#39;help-block&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span>
                <span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">):</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">create_server_plan</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">plan_name</span><span class="p">,</span>
            <span class="n">storage_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">ret_period</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">rpo_hours</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">secondary_storage</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">sec_ret_period</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">allow_override</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">backup_day</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">backup_duration</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to create Server plan</span>

<span class="sd">        Args:</span>
<span class="sd">            plan_name (string): Name of the plan to be created</span>
<span class="sd">            storage_name (string) : name of the primary storage</span>
<span class="sd">            ret_period (integer): Retention period for primary storage</span>
<span class="sd">            rpo_hours (integer): RPO Hours value</span>
<span class="sd">            secondary_storage (string): name of the secondary storage</span>
<span class="sd">            sec_ret_period (integer): Retention period for secondary storage</span>
<span class="sd">            allow_override (dictionary): dictionary containing values for Override parameters</span>
<span class="sd">            backup_day (dictionary): dictionary containing values of backup days for backup</span>
<span class="sd">                window</span>
<span class="sd">                Eg. - backup_day = dict.fromkeys([&#39;1&#39;, &#39;2&#39;, &#39;3&#39;], 1)</span>
<span class="sd">            backup_duration (dictionary): dictionary containing values of backup time for backup</span>
<span class="sd">                window</span>
<span class="sd">                Eg. - backup_duration = dict.fromkeys([&#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;], 1)</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                -- if fails to create the plan</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating Server Plan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//*[@id=&#39;wrapper&#39;]/div/div/span/cv-grid/div/div[1]/div/span[2]/span</span><span class="se">\</span>
<span class="s2">            /span/span/a/span[2]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;selecting Server option from Create Plan dropdown&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s2">&quot;Server&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_set_plan_name</span><span class="p">(</span><span class="n">plan_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">storage_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;setting up primary storage&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[@class=&#39;ui-grid-row ng-scope&#39;]/div/div[4]/div/a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//a[contains(text(),&#39;Edit&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s2">&quot;storage&quot;</span><span class="p">,</span> <span class="n">storage_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ret_period</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;retention&quot;</span><span class="p">,</span> <span class="n">ret_period</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//button[@class=&#39;btn btn-primary cvBusyOnAjax ng-scope&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">secondary_storage</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;setting up secondary storage&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s2">&quot;Add copy&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;storageName&quot;</span><span class="p">,</span> <span class="s2">&quot;Secondary&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s1">&#39;storage&#39;</span><span class="p">,</span> <span class="n">secondary_storage</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">sec_ret_period</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;retention&#39;</span><span class="p">,</span> <span class="n">sec_ret_period</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//button[@class=&#39;btn btn-primary cvBusyOnAjax ng-scope&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">rpo_hours</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_rpo_hours</span><span class="p">(</span><span class="n">rpo_hours</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">backup_day</span> <span class="ow">and</span> <span class="n">backup_duration</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;setting up backup day and backup duration&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//li[@class=&#39;ng-binding ng-scope&#39;]&quot;</span><span class="p">)</span> <span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_backup_window</span><span class="p">(</span><span class="n">backup_day</span><span class="p">,</span> <span class="n">backup_duration</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">allow_override</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;setting up override options&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=</span><span class="se">\</span>
<span class="s2">            &#39;derive-accordion panel ng-isolate-scope panel-default&#39;]/div/h4/a</span><span class="se">\</span>
<span class="s2">            [@role=&#39;button&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=</span><span class="se">\</span>
<span class="s2">            &#39;panel ng-isolate-scope panel-default&#39;]/div/h4/a/span/label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="n">dropdowns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[@data-ng-class=&#39;selectClass&#39;]&quot;</span><span class="p">)</span>

            <span class="n">storage_pool</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span>
                <span class="n">dropdowns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./select&quot;</span><span class="p">))</span>
            <span class="n">storage_pool</span><span class="o">.</span><span class="n">select_by_visible_text</span><span class="p">(</span>
                <span class="n">allow_override</span><span class="p">[</span><span class="s2">&quot;Storage_pool&quot;</span><span class="p">])</span>

            <span class="n">storage_pool</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span>
                <span class="n">dropdowns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./select&quot;</span><span class="p">))</span>
            <span class="n">storage_pool</span><span class="o">.</span><span class="n">select_by_visible_text</span><span class="p">(</span>
                <span class="n">allow_override</span><span class="p">[</span><span class="s2">&quot;RPO&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;All values entered, submitting form for plan creation&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=</span><span class="se">\</span>
<span class="s2">        &#39;button-container&#39;]//button[@class=&#39;btn btn-primary cvBusyOnAjax&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//span[@class=&#39;help-block&#39;]&quot;</span><span class="p">):</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[@class=&#39;help-block&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span>
                <span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">):</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@adminconsole_handler</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">create_laptop_plan</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">plan_name</span><span class="p">,</span>
            <span class="n">allowed_features</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">audit_drive_operations</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">notification_for_shares</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">quota</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">archiving_rules</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">backup_data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">file_system_quota</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">storage_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">del_ret_period</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">secondary_storage</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">sec_ret_period</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">rpo_hours</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">throttle_send</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">throttle_receive</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">alerts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">allow_override</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to create Laptop plan</span>

<span class="sd">        Args:</span>
<span class="sd">            plan_name (string): Name of the plan to be created</span>
<span class="sd">            rpo_hours (integer): RPO Hours value</span>
<span class="sd">            allowed_features (dictionary): dictionary containing features to be enabled for the</span>
<span class="sd">                             plan</span>
<span class="sd">                Eg. - allowed_features = {&quot;Laptop&quot;: &quot;ON&quot;, &quot;Edge Drive&quot;: &quot;ON&quot;, &quot;DLP&quot;: &quot;ON&quot;,</span>
<span class="sd">                                         &quot;Archiving&quot;: &quot;ON&quot;}</span>
<span class="sd">            archiving_rules (dictionary): dictionary containing values for Archive Feature rules</span>
<span class="sd">                Eg. - archiving_rules = {&quot;do_edit&quot;: True, &quot;start_clean&quot;: &quot;40&quot;, &quot;stop_clean&quot;: &quot;90&quot;,</span>
<span class="sd">                                        &quot;file_access_time&quot;: &quot;85&quot;, &quot;file_modify_time&quot;: None,</span>
<span class="sd">                                        &quot;file_create_time&quot;: &quot;2&quot;, &quot;archive_file_size&quot;: None,</span>
<span class="sd">                                        &quot;max_file_size&quot;: None, &quot;archive_read_only&quot;: True,</span>
<span class="sd">                                        &quot;replace_file&quot;: None, &quot;delete_file&quot;: None}</span>
<span class="sd">            backup_data (dictionary) : Dictionary containing multiple lists with values for back</span>
<span class="sd">                up content to be selected and excluded while creating the plan</span>
<span class="sd">                Eg. - backup_data = {&#39;file_system&#39;:[&quot;Mac&quot;, &quot;Unix&quot;, &quot;Windows&quot;],</span>
<span class="sd">                                    &#39;content_backup&#39;:[&quot;Content Library&quot;],</span>
<span class="sd">                                    &#39;content_library&#39;:[&#39;Content Library&#39;, &#39;GoogleDrive&#39;],</span>
<span class="sd">                                    &#39;custom_content&#39;:None,</span>
<span class="sd">                                    &#39;exclude_folder&#39;:[&#39;Content Library&#39;, &#39;Documents&#39;],</span>
<span class="sd">                                    &#39;exclude_folder_library&#39;:[&#39;DropBox&#39;, &#39;EdgeDrive&#39;, &#39;Executable&#39;]</span>
<span class="sd">                                    &#39;exclude_folder_custom_content&#39;:None</span>
<span class="sd">                                   }</span>
<span class="sd">            file_system_quota (integer): Variable containing value for File system quota</span>
<span class="sd">            storage_name (string) : Name of the primary storage pool to be selected for plan</span>
<span class="sd">            del_ret_period (integer):  retention period for deleted items</span>
<span class="sd">            secondary_storage (string): Name of the secondary storage pool to be selected for plan</span>
<span class="sd">            sec_ret_period (integer): Retention period for secondary storage</span>
<span class="sd">            throttle_send (string or integer): Network Resource send parameter value</span>
<span class="sd">            throttle_receive (string or integer): Network Resource receive parameter value</span>
<span class="sd">            alerts (dictionary): Dictionary with values for determining whether alerts should</span>
<span class="sd">                be Enabled/Disabled</span>
<span class="sd">                Eg. - alerts = {&quot;Backup&quot; : &quot;No backup for last 4 days&quot;,</span>
<span class="sd">                        &quot;Jobfail&quot;: &quot;Restore Job failed&quot;,</span>
<span class="sd">                        &quot;edge_drive_quota&quot;:&quot;Edge drive quota alert&quot;,</span>
<span class="sd">                        &quot;edge_drive_operations&quot;:&quot;Edge drive/share operations alert&quot;}</span>
<span class="sd">            allow_override (dictionary): dictionary containing values for Override parameters</span>
<span class="sd">            quota (integer): variable containing value for Edge Drive quota</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                -- if fails to create the plan</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating Laptop Plan.....&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//*[@id=&#39;wrapper&#39;]/div/div</span><span class="se">\</span>
<span class="s2">/span/cv-grid/div/div[1]/div/span[2]/span/span/span/a/span[2]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;selecting laptop option from Create Plan dropdown&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s2">&quot;Laptop&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_set_plan_name</span><span class="p">(</span><span class="n">plan_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">allowed_features</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;setting plan features&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">allowed_features</span><span class="p">[</span><span class="s2">&quot;Laptop&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ON&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//input[@id=&#39;145&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//div[@class=&#39;setup-wrapper&#39;]/div/label[1]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//input[@id=&#39;145&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//div[@class=&#39;setup-wrapper&#39;]/div/label[1]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">allowed_features</span><span class="p">[</span><span class="s2">&quot;Edge Drive&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ON&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//input[@id=&#39;146&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//div[@class=&#39;setup-wrapper&#39;]/div/label[2]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;client&quot;</span><span class="p">):</span>
                    <span class="n">select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">&quot;client&quot;</span><span class="p">))</span>
                    <span class="n">select</span><span class="o">.</span><span class="n">select_by_index</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">&quot;mediaAgent&quot;</span><span class="p">))</span>
                    <span class="n">select</span><span class="o">.</span><span class="n">select_by_index</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;mountPath&quot;</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">&quot;browseIndexServer&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//span[@class=&#39;path-title ng-binding&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//button[@class=&#39;btn btn-default float-left&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;folder-name&#39;</span><span class="p">,</span> <span class="s2">&quot;IndexServer&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//button[@class=&#39;btn btn-primary cvBusyOnAjax&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//button[@class=&#39;btn btn-primary&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">audit_drive_operations</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s2">&quot;auditDriveActivities&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                            <span class="s2">&quot;//label[@for=&#39;auditDriveActivities&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s2">&quot;auditDriveActivities&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                            <span class="s2">&quot;//label[@for=&#39;auditDriveActivities&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">notification_for_shares</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s2">&quot;enableNotificationsForShares&quot;</span>
                                                           <span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                            <span class="s2">&quot;//label[@for=&#39;enableNotificationsForShares&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s2">&quot;enableNotificationsForShares&quot;</span>
                                                       <span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                            <span class="s2">&quot;//label[@for=&#39;enableNotificationsForShares&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">quota</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s2">&quot;isEdgeDriveQuotaEnabled&quot;</span>
                                                           <span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                            <span class="s2">&quot;//label[@for=&#39;isEdgeDriveQuotaEnabled&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;edgeDriveQuota&quot;</span><span class="p">,</span> <span class="n">quota</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s2">&quot;isEdgeDriveQuotaEnabled&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                            <span class="s2">&quot;//label[@for=&#39;isEdgeDriveQuotaEnabled&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//input[@id=&#39;146&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//div[@class=&#39;setup-wrapper&#39;]/div/label[2]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">allowed_features</span><span class="p">[</span><span class="s2">&quot;DLP&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ON&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//input[@id=&#39;148&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//div[@class=&#39;setup-wrapper&#39;]/div/label[3]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//input[@id=&#39;148&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//div[@class=&#39;setup-wrapper&#39;]/div/label[3]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">allowed_features</span><span class="p">[</span><span class="s2">&quot;Archiving&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ON&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//input[@id=&#39;215&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//div[@class=&#39;setup-wrapper&#39;]/div/label[4]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">archiving_rules</span><span class="p">[</span><span class="s2">&quot;do_edit&quot;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span>
                        <span class="s2">&quot;Edit&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                        <span class="s2">&quot;editing values for Archiving rule..........&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">archiving_rules</span><span class="p">[</span><span class="s2">&quot;start_clean&quot;</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;startCleanDisk&quot;</span><span class="p">,</span> <span class="n">archiving_rules</span>
                                             <span class="p">[</span><span class="s2">&quot;start_clean&quot;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">archiving_rules</span><span class="p">[</span><span class="s2">&quot;stop_clean&quot;</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;stopCleanDisk&quot;</span><span class="p">,</span> <span class="n">archiving_rules</span>
                                             <span class="p">[</span><span class="s2">&quot;stop_clean&quot;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">archiving_rules</span><span class="p">[</span><span class="s2">&quot;file_access_time&quot;</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;fileAccessTime&quot;</span><span class="p">,</span> <span class="n">archiving_rules</span>
                                             <span class="p">[</span><span class="s2">&quot;file_access_time&quot;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">archiving_rules</span><span class="p">[</span><span class="s2">&quot;file_modify_time&quot;</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;fileModifiedTime&quot;</span><span class="p">,</span> <span class="n">archiving_rules</span>
                                             <span class="p">[</span><span class="s2">&quot;file_modify_time&quot;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">archiving_rules</span><span class="p">[</span><span class="s2">&quot;file_create_time&quot;</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;fileCreatedTime&quot;</span><span class="p">,</span> <span class="n">archiving_rules</span>
                                             <span class="p">[</span><span class="s2">&quot;file_create_time&quot;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">archiving_rules</span><span class="p">[</span><span class="s2">&quot;archive_file_size&quot;</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;archiveFileSize&quot;</span><span class="p">,</span> <span class="n">archiving_rules</span>
                                             <span class="p">[</span><span class="s2">&quot;archive_file_size&quot;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">archiving_rules</span><span class="p">[</span><span class="s2">&quot;max_file_size&quot;</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;maxFileSize&quot;</span><span class="p">,</span> <span class="n">archiving_rules</span>
                                             <span class="p">[</span><span class="s2">&quot;max_file_size&quot;</span><span class="p">])</span>

                    <span class="k">if</span> <span class="n">archiving_rules</span><span class="p">[</span><span class="s2">&quot;archive_read_only&quot;</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span>
                                <span class="s2">&quot;archiveReadOnlyFile&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//form[@id=</span><span class="se">\</span>
<span class="s2">                            &#39;archivingRules-form&#39;]/div[3]/div[6]/label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span>
                                <span class="s2">&quot;archiveReadOnlyFile&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//form[@id=</span><span class="se">\</span>
<span class="s2">                            &#39;archivingRules-form&#39;]/div[3]/div[6]/label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

                    <span class="k">if</span> <span class="n">archiving_rules</span><span class="p">[</span><span class="s2">&quot;replace_file&quot;</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span>
                            <span class="s2">&quot;replaceFile&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span>
                            <span class="s2">&quot;deleteFile&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                        <span class="s2">&quot;editing completed for values of Archiving rule..........&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//*[@id=&#39;archivingRules-form&#39;]/div[5]/button[2]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//input[@id=&#39;215&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//div[@class=&#39;setup-wrapper&#39;]/div/label[4]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Navigating to next screen&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//*[@id=&#39;wrapper&#39;]/div/div/span/div/</span><span class="se">\</span>
<span class="s2">        div/span/div/div/div/div/div[1]/ng-include/div[4]/button&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">backup_data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting up backup data&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;file_system&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//ul[@class=&#39;nav nav-tabs nav-justified&#39;]</span><span class="se">\</span>
<span class="s2">//a[contains(text(),&#39;&quot;</span><span class="o">+</span><span class="n">value</span><span class="o">+</span><span class="s2">&quot;&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_backup_content_selection</span><span class="p">(</span>
                    <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;content_backup&#39;</span><span class="p">],</span>
                    <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;content_library&#39;</span><span class="p">],</span>
                    <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;custom_content&#39;</span><span class="p">])</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_exclusion_content_selection</span><span class="p">(</span>
                    <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;exclude_folder&#39;</span><span class="p">],</span>
                    <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;exclude_folder_library&#39;</span><span class="p">],</span>
                    <span class="n">backup_data</span><span class="p">[</span><span class="s1">&#39;exclude_folder_custom_content&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">file_system_quota</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=</span><span class="se">\</span>
<span class="s2">            &#39;cv-inline-wrapper float-none left-margin&#39;]/div/label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;quota&quot;</span><span class="p">,</span> <span class="n">file_system_quota</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Navigating to next screen&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//*[@id=&#39;wrapper&#39;]/div/div/span/div</span><span class="se">\</span>
<span class="s2">        /div/span/div/div/div/div/div[2]/ng-include/div[2]/div[3]/button[2]&quot;</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">storage_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting up primary storage&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s1">&#39;storage&#39;</span><span class="p">,</span> <span class="n">storage_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">del_ret_period</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;retentionDays&quot;</span><span class="p">,</span> <span class="n">del_ret_period</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">secondary_storage</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting up secondary storage&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                    <span class="s2">&quot;//input[@id=&#39;enableSecondaryStorage&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=</span><span class="se">\</span>
<span class="s2">                &#39;page-details group&#39;]/div/div/div[3]/fieldset/label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s1">&#39;secondaryStorage&#39;</span><span class="p">,</span> <span class="n">secondary_storage</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">sec_ret_period</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;secondaryRetentionDays&quot;</span><span class="p">,</span> <span class="n">sec_ret_period</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">rpo_hours</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting up pro hours&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;rpoHours&quot;</span><span class="p">,</span> <span class="n">rpo_hours</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Navigating to next screen&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//*[@id=&#39;wrapper&#39;]/div/div/span/div/</span><span class="se">\</span>
<span class="s2">        div/span/div/div/div/div/div[3]/ng-include/div[3]/button[2]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">throttle_send</span> <span class="ow">or</span> <span class="n">throttle_receive</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting up throttle values&quot;</span><span class="p">)</span>
            <span class="n">elems</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[@class=&#39;cv-modal-wrapper margin-top-bottom ng-scope&#39;]&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">throttle_send</span> <span class="o">==</span> <span class="s2">&quot;No limit&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span>
                        <span class="s2">&quot;throttleSend&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="n">elems</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;./div/div/label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span>
                        <span class="s2">&quot;throttleSend&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="n">elems</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;./div/div/label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//input[@id=&#39;maxLANBandwidth&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">throttle_send</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">throttle_receive</span> <span class="o">==</span> <span class="s2">&quot;No limit&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span>
                        <span class="s2">&quot;throttleReceive&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="n">elems</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;./div/div/label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span>
                        <span class="s2">&quot;throttleReceive&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="n">elems</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;./div/div/label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//input[@id=&#39;wan&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">throttle_receive</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">alerts</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting up alerts&quot;</span><span class="p">)</span>
            <span class="n">alert_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//label[@data-ng-repeat=&#39;alert in alertList&#39;]&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">alerts</span><span class="p">[</span><span class="s2">&quot;Backup&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;No backup for last 4 days&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">alert_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="n">alert_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">alert_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="n">alert_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">alerts</span><span class="p">[</span><span class="s2">&quot;Jobfail&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Restore Job failed&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">alert_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="n">alert_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">alert_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="n">alert_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">alerts</span><span class="p">[</span><span class="s2">&quot;edge_drive_quota&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Edge drive quota alert&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">alert_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="n">alert_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">alert_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="n">alert_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">allow_override</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting up override options&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[@class=&#39;panel ng-isolate-scope panel-default&#39;]/div/h4/a/span/label&quot;</span><span class="p">)</span>\
                    <span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="n">dropdowns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[@data-ng-class=&#39;selectClass&#39;]&quot;</span><span class="p">)</span>

            <span class="n">folders_to_backup</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span>
                <span class="n">dropdowns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./select&quot;</span><span class="p">))</span>
            <span class="n">folders_to_backup</span><span class="o">.</span><span class="n">select_by_visible_text</span><span class="p">(</span><span class="n">allow_override</span>
                                                     <span class="p">[</span><span class="s1">&#39;Folders_to_backup&#39;</span><span class="p">])</span>

            <span class="n">storage_pool</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span>
                <span class="n">dropdowns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./select&quot;</span><span class="p">))</span>
            <span class="n">storage_pool</span><span class="o">.</span><span class="n">select_by_visible_text</span><span class="p">(</span>
                <span class="n">allow_override</span><span class="p">[</span><span class="s1">&#39;Storage_pool&#39;</span><span class="p">])</span>

            <span class="n">rpo</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span>
                <span class="n">dropdowns</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./select&quot;</span><span class="p">))</span>
            <span class="n">rpo</span><span class="o">.</span><span class="n">select_by_visible_text</span><span class="p">(</span><span class="n">allow_override</span><span class="p">[</span><span class="s1">&#39;RPO&#39;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;All values entered, submitting form for plan creation&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//button[@id=&#39;submitForCreatePlan&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//span[@class=&#39;help-block&#39;]&quot;</span><span class="p">):</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[@class=&#39;help-block&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span>
                <span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">):</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[@class=&#39;serverMessage error&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span></div>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Commvault Systems Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
    </div>

    

    
  </body>
</html>