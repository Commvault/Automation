

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Web.AdminConsole.Helper.AdminConsoleBase &mdash; Commvault Automation 11.21 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home" alt="Documentation Home"> Commvault Automation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"></div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Commvault Automation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
        
      <li>Web.AdminConsole.Helper.AdminConsoleBase</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for Web.AdminConsole.Helper.AdminConsoleBase</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># --------------------------------------------------------------------------</span>
<span class="c1"># Copyright Commvault Systems, Inc.</span>
<span class="c1"># See LICENSE.txt in the project root for</span>
<span class="c1"># license information.</span>
<span class="c1"># --------------------------------------------------------------------------</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This module provides all the common functions or operations that can be</span>
<span class="sd">used by the complete AdminConsole Automation Package</span>


<span class="sd">Classes:</span>

<span class="sd">    AdminConsoleBase() ---&gt; object()</span>


<span class="sd">AdminConsoleBase   --  acts as the base class for all the other classes</span>
<span class="sd">                            such as AdminPage, login_page, and others</span>

<span class="sd">    Functions:</span>

<span class="sd">    __init__()                      --  initialize an instance of the AdminConsoleHelper class</span>

<span class="sd">    fill_form_by_id()               --  fill the values in a textfield specified by the id</span>

<span class="sd">    search_for()                    --  Opens the address specified in the url in the browser</span>

<span class="sd">    navigate()                      --  opens the url in browser</span>

<span class="sd">    get_driver_obj()                --  returns the webdriver object</span>

<span class="sd">    current_url()                   --  returns the currently opened url in the browser</span>

<span class="sd">    check_if_entity_exists()        --  checks whether an entity exists on the webpage or not</span>

<span class="sd">    wait_for_completion()           --  wait for the page to load</span>

<span class="sd">    select_value_from_dropdown()    --  Selects the value from the dropdown</span>

<span class="sd">    error_out_screenshot()          --  save the webpage screenshot</span>

<span class="sd">    cv_table_next_button_exists()   --  check if *next* button exists</span>

<span class="sd">    cv_table_click_next_button()    --  click on *next* button</span>

<span class="sd">    cv_table_click_first_button()   --  click on *first* button</span>

<span class="sd">    mouseover_and_click()           --  move mouse over and click on an element</span>

<span class="sd">    is_element_present()            --  Checks if the given element is present in the given parent</span>
<span class="sd">                                            tag</span>

<span class="sd">    scroll_into_view()              -- Scrolls to a particular element of the page</span>

<span class="sd">    label_getvalue                    -- Fetch the value corresponding to given label.</span>

<span class="sd">    tile_select_hyperlink           -- This selects the hyperlink at tile label level.</span>

<span class="sd">                                       hyperlink within tile wont be selected.</span>

<span class="sd">    cvselect_from_dropdown          -- Selects the value from the dropdown.Use this for cv multi</span>
<span class="sd">                                       select option</span>

<span class="sd">    select_radio                    -- Selects radio button given the value.</span>

<span class="sd">    submit_form                     -- Clicks save Button on open forms.</span>

<span class="sd">    toggle_enable                   -- Enables the toggle bar if disabled</span>

<span class="sd">    toggle_disable                  -- Disables the toggle bar if enabled</span>

<span class="sd">    enable_toggle                   --  Method to enable given toggle using index of toggle</span>

<span class="sd">    disable_toggle                  --  Method to disable given toggle using index of toggle</span>

<span class="sd">    toggle_edit                     -- Selects edit button next to toggle</span>

<span class="sd">    select_hyperlink                -- Selects hyperlink in the given page.</span>

<span class="sd">    checkbox_select                 -- Selects all the checkbox that matches the IDs</span>
<span class="sd">                                       in the values lists</span>

<span class="sd">    checkbox_deselect               -- Deselects all the checkbox that matches the IDs</span>
<span class="sd">                                       in the values lists</span>
<span class="sd">    select_destination_host()       -- Selects a ESX host as destination host or snap mount ESX</span>

<span class="sd">    get_notification()              -- Gets the Job Text on submitted job</span>

<span class="sd">    get_jobid_from_popup()          -- Gets the job id from pop up</span>

<span class="sd">    click_yes_button()              -- Clicks on yes button</span>

<span class="sd">    check_error_message()           -- Checks if there is any error message</span>

<span class="sd">    get_error_message()             -- get error message if any on the page</span>

<span class="sd">    search_vm()                     -- Searches for the VM while selecting content or</span>
<span class="sd">                                       during restore</span>

<span class="sd">    get_locale_name()               -- Gets the name of the locale thats currently selected</span>

<span class="sd">    change_language()               -- Changes the language to the given one</span>

<span class="sd">    select_for_restore()            -- Selects files and folders for restore</span>

<span class="sd">    recovery_point_restore()        -- Restored data from the time selected in recovery points</span>

<span class="sd">    select_overview_tab()           -- Selects the overview tab</span>

<span class="sd">    select_configuration_tab()      -- Selects the configuration tab</span>

<span class="sd">    select_distribution_tab()       -- Selects the distribution tab</span>

<span class="sd">    expand_options()                -- Expands the advanced options or other chevron elements</span>

<span class="sd">    snapshot_engine()               -- Sets the snapshot engine for the subclient</span>

<span class="sd">    backup_for_specific_date()      -- It will open the backed up contents from a specific date</span>

<span class="sd">    backup_for_date_range()         -- Opens the backed up content from a specific date range</span>

<span class="sd">    refresh_page()                  -- Refreshes the page</span>

<span class="sd">    open_new_tab()                  -- To open a new tab</span>

<span class="sd">    switch_to_latest_tab()          -- To switch to the latest tab</span>

<span class="sd">    close_current_tab()             -- To close the current tab</span>

<span class="sd">    check_radio_button()            -- Check if radio button exists</span>

<span class="sd">    access_sub_menu()               -- Method to click on the item under a dropdown</span>
<span class="sd">    in database page</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">inspect</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="k">import</span> <span class="n">sleep</span>

<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">TimeoutException</span><span class="p">,</span>
    <span class="n">NoSuchElementException</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">selenium.webdriver.support.ui</span> <span class="k">import</span> <span class="n">WebDriverWait</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support</span> <span class="k">import</span> <span class="n">expected_conditions</span> <span class="k">as</span> <span class="n">ec</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="k">import</span> <span class="n">Keys</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="k">import</span> <span class="n">By</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.action_chains</span> <span class="k">import</span> <span class="n">ActionChains</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support.ui</span> <span class="k">import</span> <span class="n">Select</span>
<span class="kn">from</span> <span class="nn">AutomationUtils</span> <span class="k">import</span> <span class="n">constants</span>
<span class="kn">from</span> <span class="nn">AutomationUtils</span> <span class="k">import</span> <span class="n">logger</span>

<span class="kn">from</span> <span class="nn">Web.AdminConsole.Helper.adminconsoleconstants</span> <span class="k">import</span> <span class="n">LocaleFile</span>
<span class="kn">from</span> <span class="nn">Web.Common.page_object</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">WebAction</span><span class="p">,</span>
    <span class="n">PageService</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">Web.Common.exceptions</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">CVWebAutomationException</span>
<span class="p">)</span>


<div class="viewcode-block" id="AdminConsoleBase"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase">[docs]</a><span class="k">class</span> <span class="nc">AdminConsoleBase</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Base class for all the Admin Console pages &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">driver</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">driver</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_url</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">logger</span><span class="o">.</span><span class="n">get_log</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_flag</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ext</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loaded_locale_files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">props</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">locale_ids</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="nd">@WebAction</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__wait_for_loader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait_time</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Waits for the loader on the page to load completely so that all items on page are visible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">WebDriverWait</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">,</span> <span class="n">wait_time</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span>
            <span class="n">ec</span><span class="o">.</span><span class="n">invisibility_of_element_located</span><span class="p">((</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s2">&quot;//span[@class = &#39;grid-spinner&#39;]&quot;</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">__check_sort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the dropdown items are in sorted order</span>

<span class="sd">        Args:</span>
<span class="sd">            select (basestring): Select values from element search</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                If the elements are not in sorted order</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Checks if options are in sorted order&quot;</span><span class="p">)</span>
        <span class="n">unsorted_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">global_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Not Connected&#39;</span><span class="p">,</span> <span class="s1">&#39;Select MediaAgent&#39;</span><span class="p">,</span> <span class="s1">&#39;Select a vendor type&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;Create MediaAgent&#39;</span><span class="p">,</span> <span class="s1">&#39;Select datastore&#39;</span><span class="p">,</span> <span class="s1">&#39;Select resource pool&#39;</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">select</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">option</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">global_list</span><span class="p">:</span>
                <span class="n">unsorted_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">option</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="n">sorted_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">unsorted_list</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Unsorted List : </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">unsorted_list</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Sorted List : </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">sorted_list</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">sorted_list</span> <span class="o">==</span> <span class="n">unsorted_list</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The dropdown elements are not in a sorted order&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_load_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_obj</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads the properties of the current class</span>

<span class="sd">        Args:</span>
<span class="sd">            class_obj   (object):   instance of the class whose locale properties has to be loaded</span>
<span class="sd">            unique      (bool):  set to True to if key is unique to the class. default is False</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">ext</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_locale_name</span><span class="p">()</span>
        <span class="n">class_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">files_list</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="c1"># Get the parent classes of the given class</span>
        <span class="n">base_classes</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmro</span><span class="p">(</span><span class="n">class_obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="n">base_classes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">base</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="s1">&#39;AdminConsoleBase&#39;</span><span class="p">]:</span>
                <span class="k">continue</span>
            <span class="n">class_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">base</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">class_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">class_list</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">locale_class</span> <span class="ow">in</span> <span class="n">class_list</span><span class="p">:</span>
            <span class="n">files_list</span> <span class="o">+=</span> <span class="n">LocaleFile</span><span class="p">[</span><span class="n">locale_class</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span>

        <span class="n">locale_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">files_list</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>
        <span class="n">unique_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">locale_file</span> <span class="ow">in</span> <span class="n">locale_files</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">locale_file</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">loaded_locale_files</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">loaded_locale_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">locale_file</span><span class="p">)</span>
                <span class="n">file_name</span> <span class="o">=</span> <span class="n">locale_file</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">ext</span>
                <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">ADMINCONSOLE_DIRECTORY</span><span class="p">,</span> <span class="s1">&#39;Localization&#39;</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>
                <span class="n">prop_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">prop_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                        <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">isspace</span><span class="p">()</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">line</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                            <span class="k">continue</span>
                        <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
                        <span class="k">if</span> <span class="n">unique</span><span class="p">:</span>
                            <span class="n">unique_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exp</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Exception occurred while getting the locale properties. &quot;</span>
                                           <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">exp</span><span class="p">))</span>
                <span class="n">prop_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">unique_dict</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="n">class_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">unique_dict</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to click on the menu next to the tab on a page &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="n">f</span><span class="s2">&quot;//span[@data-ng-bind=&#39;action.title&#39; and text()=&#39;</span><span class="si">{name}</span><span class="s2">&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_main_bar_dropdown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to click on the dropdown menu next to a tab &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">col_id</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//a[contains(@class, &#39;uib-dropdown-toggle main-tab-menu-toggle&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="n">f</span><span class="s2">&quot;//label[@class=&#39;col-xs-</span><span class="si">{col_id}</span><span class="s2"> col-md-3 col-lg-3 cv-main-bar-dropdown-menu menu &quot;</span>
                <span class="n">f</span><span class="s2">&quot;ng-scope dropdown&#39;]//a[@class=&#39;uib-dropdown-toggle main-tab-menu-toggle dropdown-toggle&#39;]&quot;</span>
                <span class="n">f</span><span class="s2">&quot;//*[local-name()=&#39;svg&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">click_by_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to click on the dropdown menu next to a tab &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;//*[@id=&quot;</span><span class="si">{id}</span><span class="s1">&quot;]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_access_sub_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to click on the access sub menu if visible&quot;&quot;&quot;</span>
        <span class="n">elems</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span>
            <span class="n">f</span><span class="s2">&quot;//div[@class=&#39;panel-body&#39; and normalize-space()=&#39;</span><span class="si">{name}</span><span class="s2">&#39;]&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">elems</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">is_displayed</span><span class="p">():</span>
                <span class="n">elem</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="k">break</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_on_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        clicks on actions of class cv-main-bar-action</span>
<span class="sd">        Args:</span>
<span class="sd">            action_name:  text used for action</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="n">f</span><span class="s2">&quot;//a[@class=&#39;cv-main-bar-action&#39; and contains(text(),&#39;</span><span class="si">{action_name}</span><span class="s2">&#39;)]&quot;</span>
        <span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__expand_locale_selection_drop_down</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to expand language selection drop down on home screen &quot;&quot;&quot;</span>
        <span class="n">username</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@id=&#39;user-account-toggle&#39;]/a/span[2]&quot;</span><span class="p">)</span>
        <span class="n">username</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">language_dropdown</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//a[@id=&#39;user-header-lang&#39;]&quot;</span><span class="p">)</span>
        <span class="n">language_dropdown</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__get_selected_locale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to get selected locale</span>

<span class="sd">        Returns:</span>
<span class="sd">            selected_locale (str) : Current selected locale in admin console</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xp</span> <span class="o">=</span> <span class="s2">&quot;//li[@id=&#39;user-header-dropdown_mn_active&#39;]//li[contains(@class,&#39;selected&#39;)]/a&quot;</span>
        <span class="n">selected_locale</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xp</span><span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>
        <span class="c1">#  to remove the locale selection dropdown</span>
        <span class="n">global_search</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//input[@id=&#39;nav-search-field&#39;]&quot;</span><span class="p">)</span>
        <span class="n">global_search</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">selected_locale</span>

    <span class="k">def</span> <span class="nf">__get_locale_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to get locale Ids &quot;&quot;&quot;</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">ADMINCONSOLE_DIRECTORY</span><span class="p">,</span> <span class="s1">&#39;Localization&#39;</span><span class="p">,</span>
                                 <span class="s2">&quot;HeaderLanguages.properties&quot;</span><span class="p">)</span>
        <span class="n">lang_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lang_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">line</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">)]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">locale_ids</span><span class="p">[</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">lang_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__select_language</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lang_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to select localization language of Admin Console</span>

<span class="sd">        Args:</span>
<span class="sd">            lang_id (str) : language id for language to be selected</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="n">lang_id</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_on_toggle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clicks on toggle element</span>

<span class="sd">        Args:</span>
<span class="sd">            label(basestring) : value of toggle label if label to be clicked on</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xpath_toggle</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//*[contains(text(),&#39;</span><span class="si">{label}</span><span class="s2">&#39;)]/preceding-sibling::toggle-control&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath_toggle</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__get_all_languages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the list of all language&#39;s locale name</span>

<span class="sd">        Returns:</span>
<span class="sd">            (list)  -- List of all languages</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">languages</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">language</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="s2">&quot;//li[@id=&#39;user-header-dropdown_mn_active&#39;]//li&quot;</span><span class="p">):</span>
            <span class="n">languages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">language</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">languages</span>

    <span class="nd">@WebAction</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__wait_for_load_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait_time</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Waits for the loader on the page to load completely so that all items on page are visible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">WebDriverWait</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">,</span> <span class="n">wait_time</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span>
            <span class="n">ec</span><span class="o">.</span><span class="n">invisibility_of_element_located</span><span class="p">((</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s2">&quot;//div[@id=&#39;loading-bar&#39;]&quot;</span><span class="p">)))</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">navigate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Opens the address specified in the url in the browser.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (basestring): the URL to navigate to</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exp</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exp</span>

<div class="viewcode-block" id="AdminConsoleBase.current_url"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.current_url">[docs]</a>    <span class="k">def</span> <span class="nf">current_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the currently opened url in the browser.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">current_url</span></div>

<div class="viewcode-block" id="AdminConsoleBase.check_if_entity_exists"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.check_if_entity_exists">[docs]</a>    <span class="k">def</span> <span class="nf">check_if_entity_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_name</span><span class="p">,</span> <span class="n">entity_value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check if a particular element exists or not</span>
<span class="sd">        :param entity_name      (str)   --  the entity attribute to check for presence</span>
<span class="sd">        :param entity_value     (str)   --  the entity to be checked</span>
<span class="sd">        :return:</span>
<span class="sd">            True    --  If the entity is available</span>
<span class="sd">            False   --  If the entity is not available</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">entity_name</span> <span class="o">==</span> <span class="s2">&quot;link&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="n">entity_value</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="n">entity_name</span> <span class="o">==</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="n">entity_value</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="n">entity_name</span> <span class="o">==</span> <span class="s2">&quot;css&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="n">entity_value</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="n">entity_name</span> <span class="o">==</span> <span class="s2">&quot;xpath&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">entity_value</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="n">entity_name</span> <span class="o">==</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="n">entity_value</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="n">entity_name</span> <span class="o">==</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_class_name</span><span class="p">(</span><span class="n">entity_value</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">NoSuchElementException</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">wait_for_completion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait_time</span><span class="o">=</span><span class="mi">300</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Waits for the page load to complete&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__wait_for_loader</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__wait_for_load_line</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exp</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Retrying for the loader to finish&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__wait_for_load_line</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span>

<div class="viewcode-block" id="AdminConsoleBase.select_value_from_dropdown"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.select_value_from_dropdown">[docs]</a>    <span class="k">def</span> <span class="nf">select_value_from_dropdown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_id</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">check_sort</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">search</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Selects the value from the drop down</span>

<span class="sd">            Args:</span>

<span class="sd">                select_id       (str) -- the ID or name of the dropdown element</span>

<span class="sd">                value           (str) -- the value to be chosen from the dropdown</span>
<span class="sd">                                         in case of multi select drop down</span>
<span class="sd">                                          value will be list of string.</span>

<span class="sd">                attribute       (str) -- true, if the value of the option should be used</span>

<span class="sd">                check_sort      (bool) -- true if dropdown has to be checked for sorted order</span>

<span class="sd">                search          (bool):  true if the value contains more text than actual</span>
<span class="sd">                    Eg: value to be selected is Datastore1</span>
<span class="sd">                        value displayed in UI is Datastore1 (Free: 5GB, total: 10GB)</span>

<span class="sd">            Raises:</span>
<span class="sd">                Exception:</span>
<span class="sd">                    if failed to choose the value from dropdown</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">select_id</span><span class="p">):</span>
                <span class="n">select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="n">select_id</span><span class="p">))</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">select_id</span><span class="p">):</span>
                <span class="n">select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="n">select_id</span><span class="p">))</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span>
                                             <span class="s2">&quot;//label[contains(text(), &#39;&quot;</span> <span class="o">+</span> <span class="n">select_id</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>
                                                                                        <span class="s2">&quot;/select&quot;</span><span class="p">):</span>
                <span class="n">select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                    <span class="s2">&quot;//label[contains(text(), &#39;&quot;</span> <span class="o">+</span> <span class="n">select_id</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]/select&quot;</span><span class="p">))</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;There is no dropdown with the given name or ID </span><span class="si">{select_id}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cb_flag</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">check_sort</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__check_sort</span><span class="p">(</span><span class="n">select</span><span class="p">)</span>

            <span class="n">flag</span> <span class="o">=</span> <span class="mi">1</span>

            <span class="k">if</span> <span class="n">search</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Expected string for value to select&quot;</span><span class="p">)</span>
                <span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">attribute</span><span class="p">:</span>
                    <span class="n">sel</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">sel</span> <span class="o">=</span> <span class="s2">&quot;label&quot;</span>
                <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">select</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
                    <span class="n">attr_value</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="n">sel</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">pattern</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">attr_value</span><span class="p">):</span>
                        <span class="n">option</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                        <span class="n">flag</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="k">break</span>

            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">select</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">attribute</span><span class="p">:</span>
                        <span class="n">element_value</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">element_value</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">element_value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">or</span> <span class="n">value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">element_value</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">element_value</span><span class="p">)</span> <span class="o">-</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                        <span class="n">option</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                        <span class="n">flag</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="k">break</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Expected type string for argument:value &quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">flag</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The specified option was not present in the list&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exp</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception occurred while selecting an option from the dropdown.&quot;</span>
                            <span class="s2">&quot; </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">exp</span><span class="p">)))</span></div>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">cv_table_next_button_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if there is a button to navigate to the next page.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//button[@ng-disabled=&#39;cantPageForward()&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_displayed</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">cv_table_click_next_button</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clicks on the button to navigate to the next page.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//button[@ng-disabled=&#39;cantPageForward()&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">cv_table_click_first_button</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clicks on the button to navigate to the first page.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//button[@ng-click=&#39;pageFirstPageClick()&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">mouseover_and_click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mouse_move_over</span><span class="p">,</span> <span class="n">mouse_click</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pass MouseMoveOver and MouseClick Element.</span>

<span class="sd">        Args:</span>
<span class="sd">            mouse_move_over (WebElement) -- mouse move over element</span>

<span class="sd">            mouse_click (WebElement)    -- mouse click element</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">hover</span> <span class="o">=</span> <span class="n">ActionChains</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">move_to_element</span><span class="p">(</span><span class="n">mouse_move_over</span><span class="p">)</span>
        <span class="n">hover</span><span class="o">.</span><span class="n">perform</span><span class="p">()</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">mouse_click</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

<div class="viewcode-block" id="AdminConsoleBase.is_element_present"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.is_element_present">[docs]</a>    <span class="k">def</span> <span class="nf">is_element_present</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="n">root_tag</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Checks if the given element is present in the given parent tag</span>

<span class="sd">            Args:</span>
<span class="sd">                locator     (str) -- the xpath of the element to be located</span>
<span class="sd">                root_tag    (str) -- the parent tag under which the element is to be located</span>
<span class="sd">                    default:    None</span>
<span class="sd">            Returns:</span>
<span class="sd">                True    --  If the element is present</span>
<span class="sd">                False   --  If the element is not present</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">root_tag</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">root_tag</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">close_popup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks for pop up and closes it if it is present</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s1">&#39;customStartupMessage_button_#3974&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;customStartupMessage_button_#3974&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_tile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to click on the given tile &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tab_header</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to click on the given tile &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="n">f</span><span class="s2">&quot;//span[@ng-bind=&#39;tab.title&#39; and text()=&#39;</span><span class="si">{tab_header}</span><span class="s2">&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">scroll_into_view</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Scrolls the element into view</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">elem</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">element_name</span><span class="p">):</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">element_name</span><span class="p">)</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">element_name</span><span class="p">):</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="n">element_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">elem</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s2">&quot;arguments[0].scrollIntoView();&quot;</span><span class="p">,</span> <span class="n">elem</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">check_toggle_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks the status of toggle</span>

<span class="sd">        Args:</span>
<span class="sd">            label          (basestring):   Label corresponding to the toggle option.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Status</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s1">&#39;enabled&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="n">f</span><span class="s2">&quot;//*[contains(text(),&#39;</span><span class="si">{label}</span><span class="s2">&#39;)]/preceding-sibling::toggle-control/div&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">toggle_enable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enables the toggle bar if disabled,</span>
<span class="sd">        Args:</span>
<span class="sd">            label          (basestring):   Label corresponding to the toggle option.</span>

<span class="sd">        Note : Please do not use this method, as we are deprecating this, please use method enable_toggle instead</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_toggle_status</span><span class="p">(</span><span class="n">label</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__click_on_toggle</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">toggle_disable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Disables the toggle bar if enabled</span>

<span class="sd">        Args:</span>
<span class="sd">            label          (basestring):   Label corresponding to the toggle option.</span>

<span class="sd">        Note : Please do not use this method, as we are deprecating this, please use method disable_toggle instead</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_toggle_status</span><span class="p">(</span><span class="n">label</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__click_on_toggle</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__return_toggle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cv_toggle</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to return list of toggles present on page</span>

<span class="sd">        Returns:</span>
<span class="sd">                toggle_list (list) : List of toggles present on page</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">cv_toggle</span><span class="p">:</span>
            <span class="n">toggle_control_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="s2">&quot;//toggle-control&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">toggle_control_list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">toggle_cv_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[contains(@class, &#39;cv-toggle-wrapper&#39;)]&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">toggle_cv_list</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__is_toggle_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toggle</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">toggle_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cv_toggle</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to check toggle status &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">toggle</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">cv_toggle</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;enabled&#39;</span> <span class="ow">in</span> <span class="n">toggle</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./div&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">cv_toggle</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">toggle_id</span><span class="p">:</span>
                <span class="n">toggle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="n">toggle_id</span><span class="p">)</span>
            <span class="k">return</span> <span class="s1">&#39;isOn&#39;</span> <span class="ow">in</span> <span class="n">toggle</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./div&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;enabled&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="n">f</span><span class="s2">&quot;*//toggle-control[@id=&#39;</span><span class="si">{toggle_id}</span><span class="s2">&#39;]/div&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_toggle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toggle</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">toggle_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to click on toggle button &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">toggle</span><span class="p">:</span>
            <span class="n">toggle</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="n">toggle_id</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">enable_toggle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">toggle_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cv_toggle</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to Enable toggle</span>

<span class="sd">        Args:</span>
<span class="sd">            index (int) :   index corresponding to the toggle option (Ex.- 0,1....so on)</span>
<span class="sd">            toggle_id      (basestring):   Id corresponding to the toggle-control tag</span>
<span class="sd">            cv_toggle       (bool) : Whether cv toggle element is present or not</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">toggle_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__return_toggle</span><span class="p">(</span><span class="n">cv_toggle</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__is_toggle_enabled</span><span class="p">(</span><span class="n">toggle_list</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">cv_toggle</span><span class="o">=</span><span class="n">cv_toggle</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__click_toggle</span><span class="p">(</span><span class="n">toggle_list</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">toggle_id</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__is_toggle_enabled</span><span class="p">(</span><span class="n">toggle_id</span><span class="o">=</span><span class="n">toggle_id</span><span class="p">,</span> <span class="n">cv_toggle</span><span class="o">=</span><span class="n">cv_toggle</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__click_toggle</span><span class="p">(</span><span class="n">toggle_id</span><span class="o">=</span><span class="n">toggle_id</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">disable_toggle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">toggle_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cv_toggle</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to Disable toggle</span>

<span class="sd">        Args:</span>
<span class="sd">            index (int) :   index corresponding to the toggle option (Ex.- 0,1....so on)</span>
<span class="sd">            toggle_id      (basestring):   Id corresponding to the toggle-control tag</span>
<span class="sd">            cv_toggle       (bool) : Whether cv toggle element is present or not</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">toggle_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__return_toggle</span><span class="p">(</span><span class="n">cv_toggle</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__is_toggle_enabled</span><span class="p">(</span><span class="n">toggle_list</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">cv_toggle</span><span class="o">=</span><span class="n">cv_toggle</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__click_toggle</span><span class="p">(</span><span class="n">toggle_list</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__is_toggle_enabled</span><span class="p">(</span><span class="n">toggle_id</span><span class="o">=</span><span class="n">toggle_id</span><span class="p">,</span> <span class="n">cv_toggle</span><span class="o">=</span><span class="n">cv_toggle</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__click_toggle</span><span class="p">(</span><span class="n">toggle_id</span><span class="o">=</span><span class="n">toggle_id</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">toggle_edit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects edit button next to toggle.</span>

<span class="sd">        Args:</span>
<span class="sd">            label   (basestring):   Label corresponding to the toggle option.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xpath_toggle_enable</span> <span class="o">=</span> <span class="s2">&quot;//ul/li/span[contains(text(),&#39;&quot;</span>\
                              <span class="o">+</span> <span class="n">label</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]/../span/toggle-control/div[@class = &quot;</span> \
                                        <span class="s2">&quot;&#39;cv-material-toggle cv-toggle enabled&#39;]/..&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath_toggle_enable</span><span class="p">):</span>
            <span class="n">xpath_toggle_edit</span> <span class="o">=</span> <span class="n">xpath_toggle_enable</span> <span class="o">+</span> <span class="s2">&quot;/../button&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath_toggle_edit</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath_toggle_edit</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">submit_form</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">form_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clicks save Button on open forms.</span>
<span class="sd">        Since it searches by type , should work on all forms.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                If the button is not found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">form_name</span><span class="p">:</span>
            <span class="n">form_elem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="n">form_name</span><span class="p">)</span>
            <span class="n">form_elem</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;.//button[@type=&#39;submit&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">elems</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="s2">&quot;//button[@type=&#39;submit&#39;]&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">elems</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">is_displayed</span><span class="p">():</span>
                    <span class="n">elem</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="k">break</span>
        <span class="k">if</span> <span class="n">wait</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">cancel_form</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clicks Cancel Button on open forms.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                If the button is not found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">form_name</span><span class="p">:</span>
            <span class="n">form_elem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="n">form_name</span><span class="p">)</span>
            <span class="n">form_elem</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;.//button[contains(.,&#39;Cancel&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//button[contains(.,&#39;Cancel&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">button_next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clicks the Next button on forms</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                If the button is not found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//button[contains(.,&#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;Next&#39;</span><span class="p">]</span> <span class="o">+</span>
                                          <span class="s2">&quot;&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_radio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects radio button given the value.</span>

<span class="sd">        Args:</span>
<span class="sd">            id  (str)   -- ID of the radio button.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xpath_radio_from_value</span> <span class="o">=</span> <span class="s2">&quot;//input[@type = &#39;radio&#39;][@id=&#39;&quot;</span> <span class="o">+</span> <span class="nb">id</span> <span class="o">+</span> <span class="s2">&quot;&#39;]&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath_radio_from_value</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">label_getvalue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fetch the value corresponding to given label.</span>

<span class="sd">        Args:</span>
<span class="sd">            label   (str)   -- Name of the label.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                If the tile is not found</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xpath_label</span> <span class="o">=</span> <span class="s2">&quot;//span[contains(text(), &#39;&quot;</span> <span class="o">+</span> <span class="n">label</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>
        <span class="n">xpath_value</span> <span class="o">=</span> <span class="n">xpath_label</span> <span class="o">+</span> <span class="s2">&quot;/../span[2]&quot;</span>
        <span class="n">xpath2_value</span> <span class="o">=</span> <span class="n">xpath_label</span> <span class="o">+</span> <span class="s2">&quot;/../a&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath_label</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath_value</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath2_value</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath2_value</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">NoSuchElementException</span><span class="p">(</span><span class="s2">&quot;Label :[</span><span class="si">{}</span><span class="s2">] not found&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">label</span><span class="p">))</span>

<div class="viewcode-block" id="AdminConsoleBase.tile_select_hyperlink"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.tile_select_hyperlink">[docs]</a>    <span class="k">def</span> <span class="nf">tile_select_hyperlink</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tile_name</span><span class="p">,</span> <span class="n">link_text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This selects the hyperlink at tile label level. hyperlink within tile wont be selected.</span>

<span class="sd">        Args:</span>

<span class="sd">            tile_name   (str)   -- name of the tile on which operation needs to be performed.</span>

<span class="sd">            link_text   (str)   -- hyperlink name.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xpath_load_tile</span> <span class="o">=</span> <span class="s2">&quot;//cv-tile-component//span[contains(., &#39;&quot;</span> <span class="o">+</span> <span class="n">tile_name</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>
        <span class="n">xpath1</span> <span class="o">=</span> <span class="n">xpath_load_tile</span> <span class="o">+</span> <span class="s2">&quot;/..//a[contains(.,&#39;&quot;</span> <span class="o">+</span> <span class="n">link_text</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>
        <span class="n">xpath2</span> <span class="o">=</span> <span class="n">xpath_load_tile</span> <span class="o">+</span> <span class="s2">&quot;/../..//a[contains(.,&#39;&quot;</span> <span class="o">+</span> <span class="n">link_text</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath1</span><span class="p">):</span>
            <span class="n">xpath_tile_hyperlink</span> <span class="o">=</span> <span class="n">xpath1</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath2</span><span class="p">):</span>
            <span class="n">xpath_tile_hyperlink</span> <span class="o">=</span> <span class="n">xpath2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;Could not locate Hyperlink:[</span><span class="si">{}</span><span class="s2">] in  tile :[</span><span class="si">{}</span><span class="s2">] not found&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">link_text</span><span class="p">,</span> <span class="n">tile_name</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath_tile_hyperlink</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span></div>

<div class="viewcode-block" id="AdminConsoleBase.cvselect_from_dropdown"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.cvselect_from_dropdown">[docs]</a>    <span class="k">def</span> <span class="nf">cvselect_from_dropdown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">select_all</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Selects the value from the dropdown.Use this for cv multi select option</span>


<span class="sd">            Args:</span>
<span class="sd">                label       (str) -- Label name for the dropdown element</span>

<span class="sd">                value       (str) -- the value to be chosen from the dropdown</span>

<span class="sd">                select_all  (bool)-- To select all the values in the dropdown</span>
<span class="sd">                                        deafult: False</span>


<span class="sd">            Raises:</span>

<span class="sd">                Exception:</span>

<span class="sd">                    if dropdown cannot be loaded</span>

<span class="sd">                    if value not present in drop down list</span>

<span class="sd">                    if value is not string or list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//label[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">label</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span><span class="p">):</span>
            <span class="n">label_xpath</span> <span class="o">=</span> <span class="s2">&quot;//label[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">label</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//label/span[contains(text(),&#39;&quot;</span>
                                         <span class="o">+</span> <span class="n">label</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span><span class="p">):</span>
            <span class="n">label_xpath</span> <span class="o">=</span> <span class="s2">&quot;//label/span[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">label</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;There is no label with the given text&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">label_xpath</span> <span class="o">+</span> <span class="s2">&quot;/..//isteven-multi-select&quot;</span><span class="p">):</span>
            <span class="n">xpath_select_cvdropdown</span> <span class="o">=</span> <span class="n">label_xpath</span> <span class="o">+</span> <span class="s2">&quot;/..//isteven-multi-select&quot;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">label_xpath</span> <span class="o">+</span>
                                         <span class="s2">&quot;/../div/cv-client-picker/isteven-multi-select&quot;</span><span class="p">):</span>
            <span class="n">xpath_select_cvdropdown</span> <span class="o">=</span> <span class="n">label_xpath</span> <span class="o">+</span> <span class="s2">&quot;/../div/cv-client-picker/isteven-multi-select&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">label_for</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">label_xpath</span><span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s2">&quot;for&quot;</span><span class="p">)</span>
            <span class="n">xpath_select_cvdropdown</span> <span class="o">=</span> <span class="s2">&quot;//isteven-multi-select[@id=&#39;&quot;</span> <span class="o">+</span> <span class="n">label_for</span> <span class="o">+</span> <span class="s2">&quot;&#39;]&quot;</span>

        <span class="n">xpath_select_cvdropdown_search_ok</span> <span class="o">=</span> <span class="n">xpath_select_cvdropdown</span> <span class="o">+</span> \
            <span class="s2">&quot;//div[@class=&#39;line-searchOk&#39;]&quot;</span>
        <span class="n">xpath_select_cvdropdown_options</span> <span class="o">=</span> <span class="n">xpath_select_cvdropdown</span> <span class="o">+</span> \
            <span class="s2">&quot;//div[@class=&#39;checkBoxContainer&#39;]/div&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath_select_cvdropdown</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath_select_cvdropdown</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;There is no dropdown with the given name or ID&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">select_all</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s1">&#39;xpath&#39;</span><span class="p">,</span>
                                           <span class="s2">&quot;//button[@ng-bind-html=&#39;lang.selectAll&#39;]&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                    <span class="s2">&quot;//button[@ng-bind-html=&#39;lang.selectAll&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath_select_cvdropdown_search_ok</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;could not locate select all button&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            To verify sorting , test on scale setup , if we can get all list.</span>
<span class="sd">            for option in xpath_select_cvdropdown_options:</span>
<span class="sd">                option = option + &quot;/div/label/span&quot;</span>
<span class="sd">                if value.lower() == option.text().lower():</span>
<span class="sd">                    option.click()</span>
<span class="sd">                    break</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>

        <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">xpath_select_cvdropdown_search</span> <span class="o">=</span> <span class="n">xpath_select_cvdropdown</span> <span class="o">+</span> \
                <span class="s2">&quot;//div[@class=&#39;line-search&#39;]/input&quot;</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath_select_cvdropdown_search</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath_select_cvdropdown_search</span><span class="p">)</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath_select_cvdropdown_search</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

            <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="n">xpath_select_cvdropdown_options</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">options</span><span class="p">:</span>
                <span class="n">option_name</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./div/label/span&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">option_name</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">item</span><span class="p">:</span>
                    <span class="n">class_value</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="s1">&#39;selected&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">class_value</span><span class="p">:</span>
                        <span class="n">option_name</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                    <span class="k">break</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath_select_cvdropdown_search</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//button[@class=&#39;clearButton&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath_select_cvdropdown</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath_select_cvdropdown</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span></div>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">checkbox_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">checkbox_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects checkbox that matches the ID</span>
<span class="sd">        Args:</span>
<span class="sd">            checkbox_id  (str)  -- id of the checkbox from dev or input tag</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xp</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//*[@id = &#39;</span><span class="si">{checkbox_id}</span><span class="s2">&#39;]&quot;</span>
        <span class="n">chkbox</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xp</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">chkbox</span><span class="o">.</span><span class="n">is_selected</span><span class="p">()</span> <span class="ow">or</span> <span class="n">chkbox</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s2">&quot;data-state&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;unchecked&#39;</span> \
                <span class="ow">or</span> <span class="s1">&#39;partial-selection&#39;</span> <span class="ow">in</span> <span class="n">chkbox</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">):</span>
            <span class="n">xpath</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="s2">&quot;//*[@id = &#39;</span><span class="si">{checkbox_id}</span><span class="s2">&#39;]/following-sibling::label | &quot;</span>
                     <span class="n">f</span><span class="s2">&quot;//*[@id = &#39;</span><span class="si">{checkbox_id}</span><span class="s2">&#39;]/following-sibling::span&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">checkbox_deselect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">checkbox_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deselects checkbox that matches the ID</span>
<span class="sd">        Args:</span>
<span class="sd">            checkbox_id  (str)  -- id of the checkbox from dev or input tag</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xp</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//*[@id = &#39;</span><span class="si">{checkbox_id}</span><span class="s2">&#39;]&quot;</span>
        <span class="n">chkbox</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xp</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">chkbox</span><span class="o">.</span><span class="n">is_selected</span><span class="p">()</span> <span class="ow">or</span> <span class="n">chkbox</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s2">&quot;data-state&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;checked&#39;</span><span class="p">:</span>
            <span class="n">xpath</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="s2">&quot;//*[@id = &#39;</span><span class="si">{checkbox_id}</span><span class="s2">&#39;]/following-sibling::label | &quot;</span>
                     <span class="n">f</span><span class="s2">&quot;//*[@id = &#39;</span><span class="si">{checkbox_id}</span><span class="s2">&#39;]/following-sibling::span&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

<div class="viewcode-block" id="AdminConsoleBase.refresh_page"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.refresh_page">[docs]</a>    <span class="k">def</span> <span class="nf">refresh_page</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Refreshes the contents in the browser tab&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span></div>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_hyperlink</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">link_text</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects hyperlink in the given page. Try with &lt;a&gt; if it fails try with span beneath.</span>
<span class="sd">        Add more logic for it to work in all cases.</span>

<span class="sd">        Args:</span>

<span class="sd">            link_text   (str)   --  Link name as displayed in the webpage.</span>

<span class="sd">            index       (int)   --  Index in case multiple links exist, default is 0.</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xp</span> <span class="o">=</span> <span class="n">f</span><span class="s1">&#39;//a[text() = &quot;</span><span class="si">{link_text}</span><span class="s1">&quot;]&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xp</span><span class="p">):</span>
            <span class="n">links</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="n">xp</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">links</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">link</span><span class="o">.</span><span class="n">is_displayed</span><span class="p">():</span>
                    <span class="n">link</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">xp</span> <span class="o">=</span> <span class="n">f</span><span class="s1">&#39;//a[contains(text(),&quot;</span><span class="si">{link_text}</span><span class="s1">&quot;)]&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="n">xp</span><span class="p">)[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_page_action_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">link_text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Access page access menu with div having class page-action-item</span>
<span class="sd">        Args:</span>
<span class="sd">            link_text(str): Link text</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xp</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//div[contains(@class,&#39;page-action-item&#39;)]//*[text()=&#39;</span><span class="si">{link_text}</span><span class="s2">&#39;]&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath</span><span class="o">=</span><span class="n">xp</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_page_action_menu_by_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Access page access menu with div having class page-action-item</span>
<span class="sd">        Args:</span>
<span class="sd">            class_name(str): class name</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xp</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//div[contains(@class,&#39;page-action-item&#39;)]//*[@class=&#39;</span><span class="si">{class_name}</span><span class="s2">&#39;]&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath</span><span class="o">=</span><span class="n">xp</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

<div class="viewcode-block" id="AdminConsoleBase.select_destination_host"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.select_destination_host">[docs]</a>    <span class="k">def</span> <span class="nf">select_destination_host</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">host</span><span class="p">,</span> <span class="n">contains_host_name</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects a ESX host as destination host or snap mount ESX</span>

<span class="sd">        Args:</span>
<span class="sd">            host        (basestring):   the esx host to choose as destination or snap mount</span>

<span class="sd">            contains_host_name    (bool):         if the host match should be partial</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">expand_buttons</span><span class="p">(</span><span class="n">button_elements</span><span class="p">,</span> <span class="n">contains_text</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Expands the non-collapsed buttons</span>

<span class="sd">            Args:</span>
<span class="sd">                button_elements  (list):   the list of buttons to expand</span>

<span class="sd">                contains_text    (bool):   if the host match should be partial</span>

<span class="sd">            Returns:</span>
<span class="sd">                0  :  if the given host is selected</span>

<span class="sd">                1  :  if the given host could not be selected</span>

<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">inter_buttons</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">button_elements</span><span class="p">:</span>
                <span class="n">elem</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="n">flag</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="n">child_elements</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="s2">&quot;./../../div[2]/div&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">child_elements</span><span class="p">:</span>
                    <span class="n">host_elem</span> <span class="o">=</span> <span class="n">child</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./div[1]/span&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">contains_text</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">host</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="ow">in</span> <span class="n">host_elem</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                            <span class="k">if</span> <span class="s1">&#39;selected&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">host_elem</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./../../div&quot;</span>
                                                                                 <span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">):</span>
                                <span class="n">host_elem</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                            <span class="n">flag</span> <span class="o">=</span> <span class="mi">0</span>
                            <span class="k">break</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">host_elem</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="n">host</span><span class="p">:</span>
                            <span class="k">if</span> <span class="s1">&#39;selected&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">host_elem</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./../../div&quot;</span>
                                                                                 <span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">):</span>
                                <span class="n">host_elem</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                            <span class="n">flag</span> <span class="o">=</span> <span class="mi">0</span>
                            <span class="k">break</span>
                <span class="k">if</span> <span class="n">flag</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">inter_buttons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">break</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">inter_buttons</span><span class="p">:</span>
                <span class="n">button_elements</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">button_elements</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//div[@class=&#39;browseAndSelectVM&#39;]//&quot;</span>
                                                <span class="s2">&quot;div[@class=&#39;ng-scope selected&#39;]&quot;</span><span class="p">):</span>
            <span class="n">xpath</span> <span class="o">=</span> <span class="s2">&quot;//div[@class=&#39;browseAndSelectVM&#39;]//div[@class=&#39;ng-scope selected&#39;]/span&quot;</span>

            <span class="n">span</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">span</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="n">host</span><span class="p">:</span>
                <span class="k">return</span>

        <span class="n">buttons</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;&quot;</span>
                                                     <span class="s2">&quot;browseAndSelectVM&#39;]//button[&quot;</span>
                                                     <span class="s2">&quot;@class=&#39;collapsed&#39;]&quot;</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">buttons</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="n">expand_buttons</span><span class="p">(</span><span class="n">buttons</span><span class="p">,</span> <span class="n">contains_host_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ret</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">buttons</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">buttons</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;&quot;</span>
                                                             <span class="s2">&quot;browseAndSelectVM&#39;]&quot;</span>
                                                             <span class="s2">&quot;//button[@class=&#39;&quot;</span>
                                                             <span class="s2">&quot;collapsed&#39;]&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">buttons</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The ESX was not found&quot;</span><span class="p">)</span></div>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_security_associations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">userroles</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adding associations to the agent.</span>

<span class="sd">        Args:</span>
<span class="sd">            userroles (dict) -- a dictionary, with username and roles we want to associate</span>
<span class="sd">                                    with the subclients</span>

<span class="sd">            Sample dict :</span>
<span class="sd">                {</span>
<span class="sd">                    &#39;User1&#39;: &#39;Master&#39;,</span>
<span class="sd">                    &#39;User2&#39;: &#39;View&#39;</span>
<span class="sd">                }</span>
<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                If is no option to edit the security associations&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Adding security associations for iDA and subclients&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span>
                                       <span class="s2">&quot;//cv-tile-component[@data-title=&#39;Security&#39;]/div/div[3]/&quot;</span>
                                       <span class="s2">&quot;div/div[2]/div[2]/a&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//cv-tile-component[@data-title=&#39;Security&#39;]/&quot;</span>
                                              <span class="s2">&quot;div/div[3]/div/div[2]/div[2]/a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">userroles</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                    <span class="s2">&quot;//div[@id=&#39;s2id_userList&#39;]/a/span[1]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                    <span class="s2">&quot;//div[@class=&#39;select2-search&#39;]/input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span>
                    <span class="s2">&quot;//div[@id=&#39;select2-drop&#39;]/ul[@role=&#39;listbox&#39;]/li&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
                    <span class="n">ugname</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./div/span&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
                    <span class="k">if</span> <span class="n">ugname</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;(&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">user</span> <span class="ow">or</span> \
                            <span class="n">ugname</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; (&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">user</span><span class="p">:</span>
                        <span class="n">elem</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./div/span&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                        <span class="k">break</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s2">&quot;adduserId&quot;</span><span class="p">,</span> <span class="n">userroles</span><span class="p">[</span><span class="n">user</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                    <span class="s2">&quot;//div[@id=&#39;subclient-content-tab&#39;]/div[1]/button&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">check_error_message</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//body/div[1]/div/div/div[2]/div[2]/button[2]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">check_error_message</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">exp</span> <span class="o">=</span> <span class="s2">&quot;There is no option to edit the security associations&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">(</span><span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__read_notification_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait_time</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads the notification text</span>

<span class="sd">        Args:</span>
<span class="sd">            wait_time   (int)   -- time to wait for the popup</span>

<span class="sd">        Returns:</span>
<span class="sd">            notification_text (basestring): the notification string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">WebDriverWait</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">,</span> <span class="n">wait_time</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span><span class="n">ec</span><span class="o">.</span><span class="n">presence_of_element_located</span><span class="p">((</span>
                <span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s2">&quot;//div[@class=&#39;growl&#39;]/div/div/div&quot;</span><span class="p">)))</span>
            <span class="n">notification_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[@class=&#39;growl&#39;]/div/div/div&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">notification_text</span><span class="p">:</span>
                <span class="n">WebDriverWait</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">,</span> <span class="n">wait_time</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span><span class="n">ec</span><span class="o">.</span><span class="n">presence_of_element_located</span><span class="p">((</span>
                    <span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s2">&quot;//div[@class=&#39;growl&#39;]/div/div/div&quot;</span><span class="p">)))</span>
                <span class="n">notification_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                    <span class="s2">&quot;//div[@class=&#39;growl&#39;]/div/div/div&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
            <span class="k">return</span> <span class="n">notification_text</span>
        <span class="k">except</span> <span class="n">TimeoutException</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">get_notification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait_time</span><span class="o">=</span><span class="mi">60</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the notification text</span>

<span class="sd">        Args:</span>
<span class="sd">            wait_time   (int)   -- time to wait for the popup</span>
<span class="sd">                                    default: 60</span>

<span class="sd">        Returns:</span>

<span class="sd">            notification_text (basestring): the notification string</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__read_notification_text</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">get_jobid_from_popup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait_time</span><span class="o">=</span><span class="mi">60</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the job id from pop up</span>

<span class="sd">        Args:</span>
<span class="sd">            backup  (bool): if the job ID for backup has to be obtained</span>

<span class="sd">        Returns:</span>
<span class="sd">            job_id (int):  the job id for the submitted request</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">job_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_notification</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">job_text</span><span class="p">:</span>  <span class="c1"># retry for job id</span>
            <span class="n">job_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_notification</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">job_text</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span><span class="s2">&quot;No notification is popped up to extract job id&quot;</span><span class="p">)</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d+&#39;</span><span class="p">,</span> <span class="n">job_text</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Job </span><span class="si">%s</span><span class="s2"> has started&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">job_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">job_id</span>

<div class="viewcode-block" id="AdminConsoleBase.get_error_message"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.get_error_message">[docs]</a>    <span class="k">def</span> <span class="nf">get_error_message</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get if there is any error message</span>

<span class="sd">        Args:</span>

<span class="sd">        Returns:</span>
<span class="sd">            error message string</span>
<span class="sd">            empty string when there is no error message</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exp</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">xpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;//span[contains(@class,&#39;performActionMessage&#39;)]&quot;</span><span class="p">,</span>
                      <span class="s2">&quot;//*[contains(@class, &#39;serverMessage&#39;)]&quot;</span><span class="p">,</span>
                      <span class="s2">&quot;//span[contains(@class. &#39;help-block&#39;)]&quot;</span><span class="p">,</span>
                      <span class="s2">&quot;//div[@class=&#39;growl-item alert ng-scope alert-error alert-danger&#39;]&quot;</span><span class="p">,</span>
                      <span class="s2">&quot;//span[contains(@class, &#39;error&#39;)]&quot;</span><span class="p">,</span>
                      <span class="s2">&quot;//div[contains(@class,&#39;vw-login-message error-box error&#39;)]&quot;</span>
                      <span class="p">]</span>
        <span class="k">for</span> <span class="n">xpath</span> <span class="ow">in</span> <span class="n">xpath_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">xpath</span> <span class="o">==</span> <span class="s2">&quot;//div[@class=&quot;</span> \
                        <span class="s2">&quot;&#39;growl-item alert ng-scope alert-error alert-danger&#39;]&quot;</span><span class="p">:</span>
                <span class="n">xpath</span> <span class="o">=</span> <span class="n">xpath</span> <span class="o">+</span> <span class="s2">&quot;/div/div/div&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath</span><span class="p">):</span>
                <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">exp</span></div>

<div class="viewcode-block" id="AdminConsoleBase.check_error_message"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.check_error_message">[docs]</a>    <span class="k">def</span> <span class="nf">check_error_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if there is any error message</span>

<span class="sd">        Args:</span>
<span class="sd">            raise_error (bool): should error be raised or not</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                if there is an error message after submitting the request</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error_message</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">exp</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">exp</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">raise_error</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span></div>

<div class="viewcode-block" id="AdminConsoleBase.search_vm"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.search_vm">[docs]</a>    <span class="k">def</span> <span class="nf">search_vm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vm_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Searches for a VM in the vcenter</span>

<span class="sd">        Args:</span>
<span class="sd">            vm_name  (basestring)    :   the name of the VM to be searched</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                if the given VM is not found in the vcenter</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Searching for VM </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">vm_name</span><span class="p">))</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s1">&#39;xpath&#39;</span><span class="p">,</span> <span class="s1">&#39;//input[@placeholder=&quot;Search VMs&quot;]&#39;</span><span class="p">):</span>
                <span class="n">search</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//input[@placeholder=&quot;Search VMs&quot;]&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">NoSuchElementException</span><span class="p">(</span><span class="s2">&quot;There is no option to search vms&quot;</span><span class="p">)</span>
            <span class="n">search</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="n">search</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">vm_name</span><span class="p">)</span>
            <span class="n">search</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">ENTER</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//span[@title=&#39;</span><span class="si">{0}</span><span class="s2">&#39;]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">vm_name</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//span[@title=&#39;</span><span class="si">{0}</span><span class="s2">&#39;]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">vm_name</span><span class="p">))</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;There is no VM named </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">vm_name</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Selected the VM </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">vm_name</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exp</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Exception occurred while searching and selecting VM. </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
            <span class="p">))</span></div>

<div class="viewcode-block" id="AdminConsoleBase.cv_single_select"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.cv_single_select">[docs]</a>    <span class="k">def</span> <span class="nf">cv_single_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects an element from the dropdown</span>

<span class="sd">        Args:</span>
<span class="sd">            label   (basestring):   the label corresponding to the dropdown</span>
<span class="sd">            value   (basestring):   the value to be selected in the dropdown</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                if the value passed is not a string or</span>
<span class="sd">                if the dropdown is not present or</span>
<span class="sd">                if the plan is not present in the dropdown</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The dropdown will accept only single value. Please pass a string&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//label[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">label</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span><span class="p">):</span>
            <span class="n">label_xpath</span> <span class="o">=</span> <span class="s2">&quot;//label[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">label</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//label/span[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">label</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>
                                         <span class="p">):</span>
            <span class="n">label_xpath</span> <span class="o">=</span> <span class="s2">&quot;//label/span[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">label</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;There is no dropdown with the given name or ID&quot;</span><span class="p">)</span>

        <span class="n">select_xpath</span> <span class="o">=</span> <span class="n">label_xpath</span> <span class="o">+</span> <span class="s2">&quot;//isteven-multi-select&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">select_xpath</span><span class="p">):</span>
            <span class="n">select_xpath</span> <span class="o">=</span> <span class="n">label_xpath</span> <span class="o">+</span> <span class="s2">&quot;/..//isteven-multi-select&quot;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">select_xpath</span><span class="p">):</span>
                <span class="n">select_xpath</span> <span class="o">=</span> <span class="n">label_xpath</span> <span class="o">+</span> <span class="s2">&quot;/../..//isteven-multi-select&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">select_xpath</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Drop down cannot be found by cv_single_select, please check the logs&#39;</span><span class="p">)</span>

        <span class="c1"># To use search box if exists</span>
        <span class="n">search</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{select_xpath}</span><span class="s2">//div[@class=&#39;line-search&#39;]/input&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s1">&#39;xpath&#39;</span><span class="p">,</span> <span class="n">search</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">search</span><span class="p">)</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">search</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="n">select_option_xpath</span> <span class="o">=</span> <span class="n">select_xpath</span> <span class="o">+</span> <span class="s2">&quot;//div[@class=&#39;checkBoxContainer&#39;]&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">select_option_xpath</span><span class="p">):</span>
            <span class="n">span_xpath</span> <span class="o">=</span> <span class="n">select_option_xpath</span> <span class="o">+</span> <span class="s2">&quot;//span[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">value</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>
            <span class="n">div_xpath</span> <span class="o">=</span> <span class="n">select_option_xpath</span> <span class="o">+</span> <span class="s2">&quot;//div[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">value</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s1">&#39;xpath&#39;</span><span class="p">,</span> <span class="n">span_xpath</span><span class="p">):</span>
                <span class="n">checkbox_sibling</span> <span class="o">=</span> <span class="n">span_xpath</span> <span class="o">+</span> <span class="s2">&quot;/preceding-sibling::input&quot;</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">checkbox_sibling</span><span class="p">)</span><span class="o">.</span><span class="n">is_selected</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">span_xpath</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">select_xpath</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s1">&#39;xpath&#39;</span><span class="p">,</span> <span class="n">div_xpath</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">div_xpath</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The given value is not present&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AdminConsoleBase.date_picker"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.date_picker">[docs]</a>    <span class="k">def</span> <span class="nf">date_picker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">time_value</span><span class="p">,</span>
                    <span class="n">time_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">pick_time_only</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Picks the time in the date or time picker</span>

<span class="sd">        Args:</span>
<span class="sd">            time_value   (dict):        the time to be set as range during the browse</span>

<span class="sd">                Sample dict:    {   &#39;year&#39;:     2017,</span>
<span class="sd">                                    &#39;month&#39;:    december,</span>
<span class="sd">                                    &#39;date&#39;:     31,</span>
<span class="sd">                                    &#39;hours&#39;:    09,</span>
<span class="sd">                                    &#39;mins&#39;:     19,</span>
<span class="sd">                                    &#39;session&#39;:  &#39;AM&#39;</span>
<span class="sd">                                }</span>

<span class="sd">            time_id      (basestring):  from / to to be chosen as date range</span>

<span class="sd">            pick_time_only (bool):     Picks only the time if True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">time_id</span><span class="p">:</span>
            <span class="c1"># Used during browse to select from and to time</span>
            <span class="n">year_month</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//div[@id=&#39;</span><span class="si">{time_id}</span><span class="s2">&#39;]/div//tr[1]/th[2]/button&quot;</span>
            <span class="n">date_xpath</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//div[@id=&#39;</span><span class="si">{time_id}</span><span class="s2">&#39;]/div//button/span[contains(text()&quot;</span> \
                         <span class="n">f</span><span class="s2">&quot;,&#39;</span><span class="si">{time_value[&#39;date&#39;]}</span><span class="s2">&#39;) and not(contains(@class,&#39;text-muted&#39;))]&quot;</span>
            <span class="n">hours_xpath</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//div[@id=&#39;</span><span class="si">{time_id}</span><span class="s2">&#39;]//td[contains(@class,&quot;</span> \
                          <span class="s2">&quot;&#39;form-group uib-time hours&#39;)]/input&quot;</span>
            <span class="n">mins_xpath</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//div[@id=&#39;</span><span class="si">{time_id}</span><span class="s2">&#39;]//td[contains(@class,&quot;</span> \
                         <span class="s2">&quot;&#39;form-group uib-time minutes&#39;)]/input&quot;</span>
            <span class="n">session_xpath</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//div[@id=&#39;</span><span class="si">{time_id}</span><span class="s2">&#39;]//td[@class=&#39;uib-time am-pm&#39;]/button&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Used during schedule creation</span>
            <span class="n">year_month</span> <span class="o">=</span> <span class="s2">&quot;//tr[1]/th[2]/button&quot;</span>
            <span class="n">date_xpath</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//button/span[contains(text(),&#39;</span><span class="si">{time_value[&#39;date&#39;]}</span><span class="s2">&#39;)&quot;</span> \
                         <span class="s2">&quot; and not(contains(@class,&#39;text-muted&#39;))]&quot;</span>
            <span class="n">hours_xpath</span> <span class="o">=</span> <span class="s2">&quot;//td[contains(@class, &#39;form-group uib-time hours&#39;)]/input&quot;</span>
            <span class="n">mins_xpath</span> <span class="o">=</span> <span class="s2">&quot;//td[contains(@class, &#39;form-group uib-time minutes&#39;)]/input&quot;</span>
            <span class="n">session_xpath</span> <span class="o">=</span> <span class="s2">&quot;//td[@class=&#39;uib-time am-pm&#39;]/button&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">pick_time_only</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">year_month</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">time_value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">year_month</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                    <span class="s2">&quot;//button/span[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">time_value</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//button/span[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">time_value</span><span class="p">[</span><span class="s1">&#39;month&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">date_xpath</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">time_value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;hours&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">hours_xpath</span><span class="p">)</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">mins_xpath</span><span class="p">)</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">mins_xpath</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">time_value</span><span class="p">[</span><span class="s1">&#39;mins&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">hours_xpath</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">time_value</span><span class="p">[</span><span class="s1">&#39;hours&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">time_value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;session&#39;</span><span class="p">):</span>
            <span class="n">sess</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">session_xpath</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">time_value</span><span class="p">[</span><span class="s1">&#39;session&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">sess</span><span class="o">.</span><span class="n">text</span><span class="p">:</span>
                <span class="n">sess</span><span class="o">.</span><span class="n">click</span><span class="p">()</span></div>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">click_button_using_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to click on a button &quot;&quot;&quot;</span>
        <span class="n">buttons</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span>
            <span class="n">f</span><span class="s2">&quot;//button[contains(.,&#39;</span><span class="si">{value}</span><span class="s2">&#39;)]&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">button</span> <span class="ow">in</span> <span class="n">buttons</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">button</span><span class="o">.</span><span class="n">is_displayed</span><span class="p">():</span>
                <span class="n">button</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="k">break</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">click_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clicks on button by text value</span>

<span class="sd">        Args:</span>
<span class="sd">            value (str) : text of the button to be clicked</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">click_button_using_text</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">get_locale_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the currently selected language&#39;s locale name in admin console</span>

<span class="sd">        Returns:</span>
<span class="sd">            locale    (basestring):   the language in action</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__expand_locale_selection_drop_down</span><span class="p">()</span>
        <span class="n">selected_locale</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_selected_locale</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">selected_locale</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;en_US&quot;</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span><span class="p">]:</span>
            <span class="n">selected_locale</span> <span class="o">=</span> <span class="s2">&quot;en&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ext</span> <span class="o">=</span> <span class="s2">&quot;.properties&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ext</span> <span class="o">=</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="n">selected_locale</span> <span class="o">+</span> <span class="s2">&quot;.UTF8&quot;</span>
        <span class="k">return</span> <span class="n">selected_locale</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">get_all_languages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the list of all language&#39;s locale name</span>

<span class="sd">        Returns:</span>
<span class="sd">            (list)  -- List of all languages</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__expand_locale_selection_drop_down</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_all_languages</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">check_for_locale_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;To check for locale errors on the page&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s1">&#39;//span[contains(text(), &quot;??&quot;)] | //div[contains(text(), &quot;??&quot;)]&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">NoSuchElementException</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;Locale errors found on </span><span class="si">{self.driver.current_url}</span><span class="s1"> page&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="AdminConsoleBase.change_language"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.change_language">[docs]</a>    <span class="k">def</span> <span class="nf">change_language</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="p">,</span> <span class="n">page_obj</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change the localization language of admin console</span>

<span class="sd">        Args:</span>
<span class="sd">            page_obj    (object):       the instance of the class</span>

<span class="sd">            language    (basestring):   the language to be changed to in English</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">locale_ids</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__get_locale_ids</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">locale_ids</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">language</span><span class="o">.</span><span class="n">lower</span><span class="p">()):</span>
            <span class="n">lang_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">locale_ids</span><span class="p">[</span><span class="n">language</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;There is no language with the given name. Please check your input&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__expand_locale_selection_drop_down</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__select_language</span><span class="p">(</span><span class="n">lang_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_locale_name</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">props</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_load_properties</span><span class="p">(</span><span class="n">page_obj</span><span class="p">)</span></div>

<div class="viewcode-block" id="AdminConsoleBase.select_for_restore"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.select_for_restore">[docs]</a>    <span class="k">def</span> <span class="nf">select_for_restore</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_folders</span><span class="p">,</span> <span class="n">all_files</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">select_one</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects files, folders for restore</span>

<span class="sd">        Args:</span>
<span class="sd">            file_folders (list):    the list of files and folders to select for restore</span>

<span class="sd">            all_files   (bool):     select all the files shown for restore / download</span>

<span class="sd">            select_one  (bool):     select first file in the list for restore /download</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                if at least one of the files / folders could not be selected</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Selecting items to submit for restore&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">all_files</span><span class="p">:</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//div[@class=&#39;ui-grid-header-cell-wrapper&#39;]&quot;</span>
                                                     <span class="s2">&quot;/div/div/div/div/div&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;selected&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">elem</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">):</span>
                <span class="n">elem</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="n">selected</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//div[1]/div[2]/div[2]/div[@class=&#39;ui-grid-canvas&#39;]/div&quot;</span><span class="p">)</span>
            <span class="n">index</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">flag</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
                <span class="n">f_elem</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;./div/div[1]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
                <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">file_folders</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">f_elem</span> <span class="o">==</span> <span class="n">file</span><span class="p">:</span>
                        <span class="n">flag</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
                        <span class="n">selected</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f_elem</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">continue</span>
                <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">flg</span> <span class="ow">in</span> <span class="n">flag</span><span class="p">:</span>
                <span class="n">flg</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">flg</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                    <span class="s2">&quot;//div[1]/div[1]/div[2]/div[@class=&#39;ui-grid-canvas&#39;]/div[&quot;</span> <span class="o">+</span>
                    <span class="n">flg</span> <span class="o">+</span>
                    <span class="s2">&quot;]/div/div/div/div/div&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="n">file_folders</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">file_folders</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">selected</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">select_one</span><span class="p">:</span>
                    <span class="n">file_folder</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cv_table_next_button_exists</span><span class="p">():</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//button[@ng-disabled=&#39;cantPageForward()&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_enabled</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cv_table_click_next_button</span><span class="p">()</span>
                    <span class="k">continue</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="k">if</span> <span class="n">file_folders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Could not find the items &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_folders</span><span class="p">))</span></div>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">recovery_point_restore</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recovery_time</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Restores the VM from the backup history</span>

<span class="sd">        Args:</span>
<span class="sd">            recovery_time     (basestring):   the backup date in 01-September-1960 format</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">select_overview_tab</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">recovery_time</span><span class="p">:</span>
                <span class="n">calender</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">calender</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">calender</span><span class="p">[</span><span class="s1">&#39;month&#39;</span><span class="p">],</span> <span class="n">calender</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">recovery_time</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">date_picker</span><span class="p">(</span><span class="n">calender</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tile_select_hyperlink</span><span class="p">(</span><span class="s2">&quot;Recovery point&quot;</span><span class="p">,</span> <span class="s2">&quot;Restore&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exp</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span>
                <span class="s2">&quot;Either recovery point was not given or the current date does not have any backups. &quot;</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">(</span><span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">fill_form_by_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element_id</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fill the value in a text field with id element id.</span>

<span class="sd">        Args:</span>
<span class="sd">            element_id (basestring) -- the ID attribute of the element to be filled</span>
<span class="sd">            value (basestring)      -- the value to be filled in the element</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                If there is no element with given name/id</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="n">element_id</span><span class="p">)</span>
        <span class="n">element</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">fill_form_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fill the value in a text field with id element id.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (basestring) - name attribute value of the element</span>
<span class="sd">            value (basestring)      -- the value to be filled in the element</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                If there is no element with given name/id</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">element</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_overview_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects the overview tab</span>

<span class="sd">        Raises:</span>
<span class="sd">            NoSuchElementException:</span>
<span class="sd">                if the Overview tab is not present</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">access_tab</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.tab.overview&#39;</span><span class="p">])</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_configuration_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects the configuration tab</span>

<span class="sd">        Raises:</span>
<span class="sd">            NoSuchElementException:</span>
<span class="sd">                if the configuration tab is not present</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">access_tab</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.nav.configuration&#39;</span><span class="p">])</span>

<div class="viewcode-block" id="AdminConsoleBase.expand_options"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Helper.html#Web.AdminConsole.Helper.AdminConsoleBase.AdminConsoleBase.expand_options">[docs]</a>    <span class="k">def</span> <span class="nf">expand_options</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Expands the advanced options or other chevron options</span>

<span class="sd">        Raises:</span>
<span class="sd">            NoSuchElementException:</span>
<span class="sd">                if the element is not found</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xpath</span> <span class="o">=</span> <span class="s2">&quot;//div[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="n">label</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]/i&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath</span><span class="p">):</span>
            <span class="n">class_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;ion-chevron-right&#39;</span> <span class="ow">in</span> <span class="n">class_value</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">NoSuchElementException</span><span class="p">(</span><span class="s2">&quot;No chevron found with the given label </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span></div>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">check_radio_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        checks if radio button given the value exists.</span>

<span class="sd">        Args:</span>
<span class="sd">            label  (str)   -- Label text of the radio button.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True or False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xpath_radio_from_value</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//input[@type=&#39;radio&#39;]/../../label[contains(.,&#39;</span><span class="si">{label}</span><span class="s2">&#39;)]&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath_radio_from_value</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">(</span><span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">expand_accordion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clicks the heading of an accordion&quot;&quot;&quot;</span>
        <span class="n">xp</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//span[contains(text(),&#39;</span><span class="si">{label}</span><span class="s2">&#39;)]/..//i[contains(@class,&#39;glyphicon-chevron-right&#39;)]&quot;</span>
        <span class="n">expand_icon</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="n">xp</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expand_icon</span><span class="p">:</span>
            <span class="n">expand_icon</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Click menu item</span>
<span class="sd">        Args:</span>
<span class="sd">            name: localized menu text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_menu</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_menu_from_dropdown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to click on the menu under a dropdown on a page</span>
<span class="sd">        Args:</span>
<span class="sd">            name: localized menu text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_main_bar_dropdown</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">access_menu</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_sub_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to click on the item under a dropdown in database page</span>
<span class="sd">        Args:</span>
<span class="sd">            name: localized sub menu text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_access_sub_menu</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Access action in page</span>
<span class="sd">        Args:</span>
<span class="sd">            action_name: text used for action</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_on_action</span><span class="p">(</span><span class="n">action_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_breadcrumb_link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">link_text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to click on breadcrumb link using given text</span>

<span class="sd">        Args:</span>
<span class="sd">            link_text (str)  -- Text on the breadcrumb link</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xp</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;//a/div[contains(text(),&#39;</span><span class="si">{link_text}</span><span class="s2">&#39;)]&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xp</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_breadcrumb_link_using_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">link_text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects breadcrumb link containing the given text</span>
<span class="sd">        Args:</span>
<span class="sd">            link_text (str)  -- Text on the breadcrumb link</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_breadcrumb_link</span><span class="p">(</span><span class="n">link_text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_tab_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to click on the item under a dropdown in acess tab</span>
<span class="sd">        Args:</span>
<span class="sd">            name: localized sub menu text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="n">f</span><span class="s2">&quot;//a[@class=&#39;tabAction&#39;][contains(text(),&#39;</span><span class="si">{name}</span><span class="s2">&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_tab_from_dropdown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">col_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to click on the the access tab drop down</span>
<span class="sd">        Args:</span>
<span class="sd">            name       (str): Name of the access tab to click</span>
<span class="sd">            col_id      (int): Column id to click</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">col_id</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__click_main_bar_dropdown</span><span class="p">(</span><span class="n">col_id</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__click_main_bar_dropdown</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">access_tab_action</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, Commvault Systems Inc. All Rights Reserved

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>