

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Web.AdminConsole.FileServerPages.file_servers &mdash; Commvault Automation 11.23 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home" alt="Documentation Home"> Commvault Automation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"></div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Commvault Automation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
        
      <li>Web.AdminConsole.FileServerPages.file_servers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for Web.AdminConsole.FileServerPages.file_servers</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># ---------------------------------------------------------------------------</span>
<span class="c1"># Copyright Commvault Systems, Inc.</span>
<span class="c1"># See LICENSE.txt in the project root for</span>
<span class="c1"># license information.</span>
<span class="c1"># ----------------------------------------------------------------------------</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This module provides the function or operations that can be performed on the</span>
<span class="sd">File servers page in admin console</span>

<span class="sd">FileServers:</span>

<span class="sd">    access_server()       -&gt; Method to access the required file server</span>

<span class="sd">    backup_subclient()    -&gt; Method to run backup operation from file servers page</span>

<span class="sd">    run_check_readiness() -&gt; Method to run check readiness operation from file servers page</span>

<span class="sd">    restore_client()      -&gt; Method to run restore operation from file servers page</span>

<span class="sd">    view_jobs()           -&gt; Method to view the jobs of the sever</span>

<span class="sd">    install_windows_unix_client()	-&gt; Method to add Windows/Unix Server</span>

<span class="sd">    add_distributed_app()           -&gt; Create distributed file server with given parameters.</span>

<span class="sd">    add_ibmi_client()               -&gt; Method to add a new IBMi client.</span>

<span class="sd">    is_client_exists()              -&gt; check client entry from file servers page</span>

<span class="sd">    retire_server()                 -&gt; retire client</span>

<span class="sd">    action_uninstall_software()     -&gt; uninstall all/selected packages</span>

<span class="sd">    action_update_software()        -&gt; Update client</span>

<span class="sd">    action_add_software()           -&gt; Add packages to existing client</span>

<span class="sd">    delete_server()                 -&gt; delete client</span>

<span class="sd">    reconfigure_server()             -&gt; reconfigure client</span>



<span class="sd">RestorePanel:</span>

<span class="sd">    select_destination_client()     :       Select destination client for restore</span>

<span class="sd">    select_nas_destination_client()     :   Select nas destination for nas</span>


<span class="sd">    select_backupset_and_subclient():       Selects the backup set and subclient to be restored</span>

<span class="sd">    search_files_for_restore()      :       Search for the files to restore</span>

<span class="sd">    select_overwrite()              :       Selects the unconditional overwrite option</span>

<span class="sd">    select_browse_for_restore_path():       click on browse during selecting destination path</span>

<span class="sd">    submit_restore()                :       restores the data as per options selected</span>


<span class="sd">AddPanel:</span>

<span class="sd">    add_custom_path()               :       Adds data paths to content,exclusions,exceptions tab</span>

<span class="sd">    click_add_custom_path()         :       clicks the add custom path plus icon</span>

<span class="sd">    toggle_own_content()            :       Toggle to override backup content</span>

<span class="sd">    browse_and_select_data()        :       To browse and choose content data</span>

<span class="sd">    remove_plan_content()           :       To remove inherited plan content</span>

<span class="sd">    add()                           :       Method to add content,exclusions,exceptions</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.action_chains</span> <span class="kn">import</span> <span class="n">ActionChains</span>
<span class="kn">from</span> <span class="nn">AutomationUtils.constants</span> <span class="kn">import</span> <span class="n">DistributedClusterPkgName</span>
<span class="kn">from</span> <span class="nn">Web.Common.exceptions</span> <span class="kn">import</span> <span class="n">CVWebAutomationException</span>
<span class="kn">from</span> <span class="nn">Web.Common.page_object</span> <span class="kn">import</span> <span class="p">(</span><span class="n">WebAction</span><span class="p">,</span> <span class="n">PageService</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Components.table</span> <span class="kn">import</span> <span class="n">Table</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Components.panel</span> <span class="kn">import</span> <span class="n">Backup</span><span class="p">,</span> <span class="n">ModalPanel</span><span class="p">,</span> <span class="n">DropDown</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Components.browse</span> <span class="kn">import</span> <span class="n">Browse</span><span class="p">,</span> <span class="n">ContentBrowse</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.NAS.nas_file_servers</span> <span class="kn">import</span> <span class="n">NASFileServers</span>


<div class="viewcode-block" id="FileServers"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.FileServerPages.html#Web.AdminConsole.FileServerPages.file_servers.FileServers">[docs]</a><span class="k">class</span> <span class="nc">FileServers</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;class for file servers page&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">        admin_console(AdminConsole): adminconsole</span>
<span class="sd">        object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span> <span class="o">=</span> <span class="n">admin_console</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span> <span class="o">=</span> <span class="n">admin_console</span><span class="o">.</span><span class="n">driver</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">_load_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nas_file_server</span> <span class="o">=</span> <span class="n">NASFileServers</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="p">)</span>

        <span class="c1"># Components required</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__panel</span> <span class="o">=</span> <span class="n">Backup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__restore_panel</span> <span class="o">=</span> <span class="n">RestorePanel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__browse</span> <span class="o">=</span> <span class="n">Browse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__contentbrowse</span> <span class="o">=</span> <span class="n">ContentBrowse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__drop_down</span> <span class="o">=</span> <span class="n">DropDown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__modal_panel</span> <span class="o">=</span> <span class="n">ModalPanel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__addpanel</span> <span class="o">=</span> <span class="n">AddPanel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__get_affected_client</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to get affected client list&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//p[@ng-bind-html=&#39;previewCompanyChangeCtrl.eligibleServersString&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_add_client_button</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to click plus icon button on Add file server pane&quot;&quot;&quot;</span>
        <span class="n">xpath</span> <span class="o">=</span> <span class="s2">&quot;//span[@id=&#39;add-host-name&#39;]&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_type_filter_drop_down</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to click on the type filter drop down&quot;&quot;&quot;</span>
        <span class="n">type_filter_xpath</span> <span class="o">=</span> \
            <span class="s2">&quot;//div[@class=&#39;uib-dropdown cv-server-filter dropdown cv-k-header-dropdown&#39;]&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">type_filter_xpath</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__select_file_server_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fs_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to select an option from type filter drop down&quot;&quot;&quot;</span>
        <span class="n">fs_type_option_xpath</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;//a[contains(text(), &#39;</span><span class="si">{</span><span class="n">fs_type</span><span class="si">}</span><span class="s2">&#39;)]&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">fs_type_option_xpath</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__expand_backup_configuration_accordion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to expand Backup Configuration accordion which contains plan input&quot;&quot;&quot;</span>
        <span class="n">acc_xp</span> <span class="o">=</span> \
            <span class="s2">&quot;//span[contains(text(), &#39;Backup configuration&#39;)]/ancestor::div[contains(@class, &#39;cv-accordion-header&#39;)]&quot;</span>
        <span class="n">accordion_elt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">acc_xp</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;expanded&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">accordion_elt</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">):</span>
            <span class="n">ActionChains</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="p">)</span><span class="o">.</span><span class="n">move_to_element</span><span class="p">(</span>
                <span class="n">accordion_elt</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span><span class="o">.</span><span class="n">perform</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__get_job_id_page</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns job_id from the page</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s1">&#39;//div[@data-ng-controller=&quot;pushInstallController&quot;]//a[contains(@href,&quot;jobs&quot;)]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__get_job_id_dialog</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns job_id from the dialog that appears</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//div[contains(text(), &quot;Job ID:&quot;)]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to access the required server</span>

<span class="sd">        Args:</span>
<span class="sd">            client_name (str)      : Name of the client to be accessed</span>

<span class="sd">        Returns :</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception :</span>

<span class="sd">            -- if the client doesn&#39;t exist</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_link</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">backup_subclient</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">client_name</span><span class="p">,</span>
            <span class="n">backup_level</span><span class="p">,</span>
            <span class="n">backupset_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">subclient_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">notify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to backup the given subclient</span>

<span class="sd">        Args:</span>
<span class="sd">             client_name (str)      : Name of the client to be backed up</span>

<span class="sd">             backupset_name (str)   : backup set name of the client</span>

<span class="sd">             subclient_name (str)   : subclient to be backed up</span>

<span class="sd">             backup_level   (enum)   : type of backup</span>

<span class="sd">            notify(bool)           : To notify via mail about the backup</span>

<span class="sd">            \*\*kwargs  (dict)              --  Optional arguments.</span>

<span class="sd">            Available kwargs Options:</span>

<span class="sd">                    agent   (str)   :   The agent, if applicable.</span>
<span class="sd">                    Accepted values are NDMP, CIFS and NFS.</span>

<span class="sd">        Returns :</span>
<span class="sd">             job_id : Job ID of the backup job</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception :</span>

<span class="sd">             -- if fails to run the backup</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">backup_level</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;full&quot;</span><span class="p">:</span>
            <span class="n">backup_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__panel</span><span class="o">.</span><span class="n">BackupType</span><span class="o">.</span><span class="n">FULL</span>
        <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">backup_level</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;incremental&quot;</span><span class="p">:</span>
            <span class="n">backup_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__panel</span><span class="o">.</span><span class="n">BackupType</span><span class="o">.</span><span class="n">INCR</span>
        <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">backup_level</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;synthfull&quot;</span><span class="p">:</span>
            <span class="n">backup_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__panel</span><span class="o">.</span><span class="n">BackupType</span><span class="o">.</span><span class="n">SYNTH</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span><span class="n">client_name</span><span class="p">,</span> <span class="s2">&quot;Back up&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;agent&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_by_id</span><span class="p">(</span><span class="s1">&#39;agent-filter&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;agent&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">backupset_name</span><span class="p">:</span>
            <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__panel</span><span class="o">.</span><span class="n">submit_backup</span><span class="p">(</span>
                <span class="n">backup_level</span><span class="p">,</span> <span class="n">backupset_name</span><span class="p">,</span> <span class="n">subclient_name</span><span class="p">,</span> <span class="n">notify</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__panel</span><span class="o">.</span><span class="n">submit_backup</span><span class="p">(</span><span class="n">backup_type</span><span class="o">=</span><span class="n">backup_level</span><span class="p">,</span> <span class="n">notify</span><span class="o">=</span><span class="n">notify</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">job_id</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">run_check_readiness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to run check readiness on the given client</span>

<span class="sd">              Args:</span>
<span class="sd">                  client_name (str) --- Name of client on which check readiness operation to run</span>

<span class="sd">              Returns:</span>
<span class="sd">                      None</span>

<span class="sd">              Raises:</span>
<span class="sd">                      Exception:</span>

<span class="sd">                         -- if fails to run check readiness operation</span>

<span class="sd">              &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span>
            <span class="n">client_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.readinessCheck&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">check_error_message</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">view_live_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to run check readiness on the given client</span>

<span class="sd">              Args:</span>
<span class="sd">                  client_name (str) --- Name of client on which check readiness operation to run</span>

<span class="sd">              Returns:</span>
<span class="sd">                      None</span>

<span class="sd">              Raises:</span>
<span class="sd">                      Exception:</span>

<span class="sd">                         -- if fails to run check readiness operation</span>

<span class="sd">              &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span><span class="n">client_name</span><span class="p">,</span> <span class="s1">&#39;View logs&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">check_error_message</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">restore_subclient</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">client_name</span><span class="p">,</span>
            <span class="n">dest_client</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">restore_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">backupset_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">subclient_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">unconditional_overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">notify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">selected_files</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                Method to Restore the given client data</span>

<span class="sd">                Args:</span>
<span class="sd">                     client_name (str)      : Name of the client</span>

<span class="sd">                     dest_client (str)      : Name of the destination client</span>

<span class="sd">                     restore_path(str)      : The destination path to which content</span>
<span class="sd">                                              should be restored to</span>

<span class="sd">                     backupset_name (str)   : backup set name of the client</span>

<span class="sd">                     subclient_name (str)   : subclient name</span>

<span class="sd">                     unconditional_overwrite(bool)  : To overwrite unconditionally</span>
<span class="sd">                                                      on destination path</span>

<span class="sd">                     notify(bool)           : To notify via mail about the restore</span>
<span class="sd">                     selected_files (list)  : list of (str) paths pf restore content</span>

<span class="sd">                    kwargs  (dict)          :   Optional keyword arguments.</span>

<span class="sd">                        impersonate_user    (dict)  :  username and password are keys.</span>

<span class="sd">                Returns :</span>
<span class="sd">                     job_id : job id of the restore</span>

<span class="sd">                Raises:</span>
<span class="sd">                    Exception :</span>

<span class="sd">                     -- if fails to run the restore operation</span>
<span class="sd">                &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span>
            <span class="n">client_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.restore&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">backupset_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__restore_panel</span><span class="o">.</span><span class="n">select_backupset_and_subclient</span><span class="p">(</span><span class="n">backupset_name</span><span class="p">,</span> <span class="n">subclient_name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__restore_panel</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">wait_for_load</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">selected_files</span><span class="p">:</span>
            <span class="n">delimiter</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span>
            <span class="n">paths</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">selected_files</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="s1">&#39;/&#39;</span> <span class="ow">in</span> <span class="n">selected_files</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">delimiter</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span>
            <span class="k">if</span> <span class="n">delimiter</span> <span class="o">==</span> <span class="s1">&#39;/&#39;</span><span class="p">:</span>
                <span class="n">paths</span> <span class="o">=</span> <span class="n">paths</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
            <span class="n">paths</span> <span class="o">=</span> <span class="n">paths</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="n">delimiter</span><span class="p">,</span> <span class="n">paths</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="k">if</span> <span class="n">paths</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
                <span class="sa">r</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">paths</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delimiter</span><span class="p">)</span>
            <span class="n">select_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">selected_files</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">folder</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__browse</span><span class="o">.</span><span class="n">access_folder</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__browse</span><span class="o">.</span><span class="n">select_for_restore</span><span class="p">(</span><span class="n">file_folders</span><span class="o">=</span><span class="n">select_files</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__browse</span><span class="o">.</span><span class="n">select_for_restore</span><span class="p">(</span><span class="n">all_files</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__browse</span><span class="o">.</span><span class="n">submit_for_restore</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">dest_client</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__restore_panel</span><span class="o">.</span><span class="n">select_destination_client</span><span class="p">(</span><span class="n">dest_client</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">restore_path</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__restore_panel</span><span class="o">.</span><span class="n">select_browse_for_restore_path</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__contentbrowse</span><span class="o">.</span><span class="n">select_path</span><span class="p">(</span><span class="n">restore_path</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__contentbrowse</span><span class="o">.</span><span class="n">save_path</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">unconditional_overwrite</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__restore_panel</span><span class="o">.</span><span class="n">select_overwrite</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;impersonate_user&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">toggle_enable</span><span class="p">(</span><span class="s2">&quot;Impersonate user&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_name</span><span class="p">(</span><span class="s2">&quot;impersonateUserName&quot;</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;impersonate_user&#39;</span><span class="p">][</span><span class="s1">&#39;username&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_name</span><span class="p">(</span><span class="s2">&quot;impersonatePassword&quot;</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;impersonate_user&#39;</span><span class="p">][</span><span class="s1">&#39;password&#39;</span><span class="p">])</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__restore_panel</span><span class="o">.</span><span class="n">submit_restore</span><span class="p">(</span><span class="n">notify</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">job_id</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">view_jobs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                Method to view job history for the client</span>

<span class="sd">                Args:</span>
<span class="sd">                     client_name (str)      : Name of the client</span>

<span class="sd">                Returns :</span>
<span class="sd">                     None</span>

<span class="sd">                Raises:</span>
<span class="sd">                    Exception :</span>

<span class="sd">                     -- if fails to run the view jobs operation</span>
<span class="sd">                &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span>
            <span class="n">client_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.globalActions.viewJobs&#39;</span><span class="p">])</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">migrate_client_to_company</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">,</span> <span class="n">company_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to migrate client from one company to another</span>

<span class="sd">        Args:</span>
<span class="sd">            client_name (str) ; Name of the client to be migrated</span>

<span class="sd">            company_name (str) : Name of the company to be migrated to</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span><span class="n">client_name</span><span class="p">,</span> <span class="s1">&#39;Change company&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">company_name</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__modal_panel</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_affected_client</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">client_name</span> <span class="o">==</span> <span class="n">client</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span><span class="s1">&#39;Affected client list displays </span><span class="si">%s</span><span class="s1"> instead of </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">client_name</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__modal_panel</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">check_error_message</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_enable_toggle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to select toggle</span>
<span class="sd">        Args:</span>

<span class="sd">            text(str): The text beside the toggle button</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;//span[contains(text(),&#39;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_set_port_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to select toggle</span>
<span class="sd">        Args:</span>

<span class="sd">            port(int): The text beside the toggle button</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">&quot;sshPortNumber&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_clear_port_number</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to select toggle&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">&quot;sshPortNumber&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_select_server_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Selects Server Type&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;//div[contains(text(),&#39;</span><span class="si">{</span><span class="n">server_type</span><span class="si">}</span><span class="s2">&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">validate_type_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates if Type filter is present in File Servers page &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span>
            <span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//span[text()=&#39;Type&#39;]/../a[contains(@class,&#39;uib-dropdown-toggle&#39;)]&quot;</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">install_windows_unix_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                    <span class="n">file_server_host_name</span><span class="p">,</span>
                                    <span class="n">username</span><span class="p">,</span>
                                    <span class="n">password</span><span class="p">,</span>
                                    <span class="n">os_type</span><span class="o">=</span><span class="s2">&quot;Windows&quot;</span><span class="p">,</span>
                                    <span class="n">reboot_required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                    <span class="n">plan</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                    <span class="n">port</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                    <span class="n">define_own_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                    <span class="n">exclusions</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                    <span class="n">exceptions</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                    <span class="n">remove_plan_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                    <span class="n">backup_system_state</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                    <span class="n">browse_and_select_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                    <span class="n">impersonate_user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                    <span class="n">backup_data</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to install a new file server</span>

<span class="sd">        Args:</span>

<span class="sd">            file_server_host_name(str)   :   hostname of the server to be added</span>

<span class="sd">            username(str)   :   username of the server being added</span>

<span class="sd">            password(str)   :   password of the server being added</span>

<span class="sd">            os_type(Str)         :   The Operating system of the server(windows/Unix)</span>

<span class="sd">            reboot_required(bool)     :  Reboot server</span>

<span class="sd">            port(int)        :  The non-standard SSH port number. Applicable only to Unix/Linux</span>

<span class="sd">            plan(str)        :  The plan to be associated with the server</span>

<span class="sd">            define_own_content(bool)    :   True if we want to override plan content</span>
<span class="sd">                                            False if we don&#39;t want to override plan content</span>

<span class="sd">            browse_and_select_data(bool)  : Pass True to browse and select data,</span>
<span class="sd">                                            False for custom path</span>

<span class="sd">            backup_data     (list(paths)) : Data to be backed up by new sub client created</span>
<span class="sd">                Eg. backup_data = [&#39;C:\\TestBackupSet1&#39;, C:\\TestBackupSet2&#39;]</span>


<span class="sd">            exclusions       (list(paths)) : Data to be backed up by new sub client created</span>
<span class="sd">                Eg. exclusions = [&#39;C:\\TestBackupSet1&#39;, C:\\TestBackupSet2&#39;]</span>

<span class="sd">            exceptions       (list(paths)) : Data to be backed up by new sub client created</span>
<span class="sd">                Eg. exceptions = [&#39;C:\\TestBackupSet1&#39;, C:\\TestBackupSet2&#39;]</span>

<span class="sd">            backup_system_state (boolean)  :  boolean values to determine if system state to</span>
<span class="sd">                                            be backed up or not</span>

<span class="sd">            impersonate_user    (string): Specify username (eg: for UNC paths).</span>

<span class="sd">            remove_plan_content (bool)      : True for removing content inherited from plan</span>
<span class="sd">                                              False for keeping content inherited from plan</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span><span class="s2">&quot;Add server&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_select_server_type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.dataSource&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;hostName&quot;</span><span class="p">,</span> <span class="n">file_server_host_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;fakeusernameremembered&quot;</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;fakepasswordremembered&quot;</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span>
            <span class="s2">&quot;confirmPasswordPushInstall&quot;</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os_type</span> <span class="o">==</span> <span class="s2">&quot;Windows&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_radio</span><span class="p">(</span><span class="s2">&quot;osTypeWINDOWS&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">os_type</span> <span class="o">==</span> <span class="s2">&quot;Unix&quot;</span> <span class="ow">or</span> <span class="n">os_type</span> <span class="o">==</span> <span class="s1">&#39;Linux&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_radio</span><span class="p">(</span><span class="s2">&quot;osTypeUNIX&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">port</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_enable_toggle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.userSSHPortNumber&#39;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_clear_port_number</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_set_port_number</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;File server OS type not valid&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">reboot_required</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_enable_toggle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.foreceReboot&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">plan</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__expand_backup_configuration_accordion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__addpanel</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
                <span class="n">plan</span><span class="o">=</span><span class="n">plan</span><span class="p">,</span>
                <span class="n">define_own_content</span><span class="o">=</span><span class="n">define_own_content</span><span class="p">,</span>
                <span class="n">browse_and_select_data</span><span class="o">=</span><span class="n">browse_and_select_data</span><span class="p">,</span>
                <span class="n">backup_data</span><span class="o">=</span><span class="n">backup_data</span><span class="p">,</span>
                <span class="n">impersonate_user</span><span class="o">=</span><span class="n">impersonate_user</span><span class="p">,</span>
                <span class="n">exclusions</span><span class="o">=</span><span class="n">exclusions</span><span class="p">,</span>
                <span class="n">exceptions</span><span class="o">=</span><span class="n">exceptions</span><span class="p">,</span>
                <span class="n">file_system</span><span class="o">=</span><span class="n">os_type</span><span class="p">,</span>
                <span class="n">remove_plan_content</span><span class="o">=</span><span class="n">remove_plan_content</span><span class="p">,</span>
                <span class="n">backup_system_state</span><span class="o">=</span><span class="n">backup_system_state</span><span class="p">,</span>
                <span class="n">submit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button_using_text</span><span class="p">(</span><span class="s2">&quot;Install&quot;</span><span class="p">)</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">get_jobid_from_popup</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">job_id</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_distributed_app</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pkg</span><span class="p">,</span> <span class="n">server_name</span><span class="p">,</span> <span class="n">access_nodes</span><span class="p">,</span> <span class="n">plan_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create distributed file server with given parameters.</span>

<span class="sd">            Args:</span>
<span class="sd">                pkg              (enum)  -- Instance of constants.DistributedClusterPkgName</span>

<span class="sd">                server_name      (str)   -- Name of the server to be created.</span>

<span class="sd">                access_nodes     (list)  -- list of access nodes to select</span>

<span class="sd">                plan_name        (str)   -- plan name to select</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">add_menu_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">pkg</span> <span class="o">==</span> <span class="n">DistributedClusterPkgName</span><span class="o">.</span><span class="n">GLUSTERFS</span><span class="p">:</span>
            <span class="n">add_menu_id</span> <span class="o">=</span> <span class="s1">&#39;addGlusterServer&#39;</span>
        <span class="k">elif</span> <span class="n">pkg</span> <span class="o">==</span> <span class="n">DistributedClusterPkgName</span><span class="o">.</span><span class="n">LUSTREFS</span><span class="p">:</span>
            <span class="n">add_menu_id</span> <span class="o">=</span> <span class="s1">&#39;addLustreServer&#39;</span>
        <span class="k">elif</span> <span class="n">pkg</span> <span class="o">==</span> <span class="n">DistributedClusterPkgName</span><span class="o">.</span><span class="n">GPFS</span><span class="p">:</span>
            <span class="n">add_menu_id</span> <span class="o">=</span> <span class="s1">&#39;addGPFSServer&#39;</span>
        <span class="k">if</span> <span class="n">add_menu_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span><span class="s2">&quot;Invalid Distributed Cluster Package name provided&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_by_id</span><span class="p">(</span><span class="s2">&quot;addFileServer&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_by_id</span><span class="p">(</span><span class="n">add_menu_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;serverName&#39;</span><span class="p">,</span> <span class="n">server_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">drop_down_id</span><span class="o">=</span><span class="s1">&#39;accessnode-selection-dropdown&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">access_nodes</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">drop_down_id</span><span class="o">=</span><span class="s1">&#39;planSummaryDropdown&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">plan_name</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">submit_form</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_ibmi_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                        <span class="n">server_name</span><span class="p">,</span>
                        <span class="n">file_server_host_name</span><span class="p">,</span>
                        <span class="n">username</span><span class="p">,</span>
                        <span class="n">password</span><span class="p">,</span>
                        <span class="n">access_node</span><span class="p">,</span>
                        <span class="n">data_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">port</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">plan</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">subsystem_description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">job_queue</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">create_jobq</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">job_priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">run_priority</span><span class="o">=</span><span class="kc">None</span>
                        <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to add a new IBMi client.</span>

<span class="sd">        Args:</span>

<span class="sd">            server_name(str)                :   Name of the client</span>

<span class="sd">            file_server_host_name(str)      :   hostname of the server to be added</span>

<span class="sd">            username(str)                   :   username of the server being added</span>

<span class="sd">            password(str)                   :   password of the server being added</span>

<span class="sd">            access_node(list)                :   Name of the access node client</span>

<span class="sd">            data_path(str)                  :   Commvault data path on client machine.</span>
<span class="sd">                default: None (to take default value populated in CC)</span>

<span class="sd">            port(int)                       :  The port number on client machine</span>
<span class="sd">                default: None</span>

<span class="sd">            plan(str)                       :  The plan to be associated with the server</span>
<span class="sd">                default: None</span>

<span class="sd">            subsystem_description(str)      :   Subsystem description in &lt;LIB&gt;/&lt;SBSD&gt; format.</span>
<span class="sd">                default: None</span>

<span class="sd">            job_queue(str)                  :   job queue in &lt;LIB&gt;/&lt;JOBQ&gt; format.</span>
<span class="sd">                default: None</span>

<span class="sd">            create_jobq(bool)               :   Create the jobq under CVLIBOBJ library</span>
<span class="sd">                default: None</span>

<span class="sd">            job_priority(int)               :   job priority of Commvault jobs on client machine</span>
<span class="sd">                defalt: None</span>

<span class="sd">            run_priority(int)               : run priority of Commvault jobs on client machine</span>
<span class="sd">                default: None</span>
<span class="sd">        Return: notification</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;label.installSoftware&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">access_sub_menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;label.iBMiServer&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;clientName&quot;</span><span class="p">,</span> <span class="n">server_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;hostName&quot;</span><span class="p">,</span> <span class="n">file_server_host_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">data_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;dataFolder&quot;</span><span class="p">,</span> <span class="n">data_path</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">port</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;cvdPort&quot;</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">plan</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__select_ibmi_plan</span><span class="p">(</span><span class="n">plan</span><span class="o">=</span><span class="n">plan</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;addIBMiServer_userName_input1&quot;</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;confirmPassword&quot;</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">drop_down_id</span><span class="o">=</span><span class="s1">&#39;addIBMiServer_isteven-multi-select_#3689&#39;</span><span class="p">,</span>
                                                 <span class="n">values</span><span class="o">=</span><span class="n">access_node</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">subsystem_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;subsystemDescription&quot;</span><span class="p">,</span> <span class="n">subsystem_description</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">job_queue</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;jobQueue&quot;</span><span class="p">,</span> <span class="n">job_queue</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">create_jobq</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">checkbox_select</span><span class="p">(</span><span class="s2">&quot;createJobQueue&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">job_priority</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;jobPriority&quot;</span><span class="p">,</span> <span class="n">job_priority</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">run_priority</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;runPriority&quot;</span><span class="p">,</span> <span class="n">run_priority</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button_using_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;label.save&quot;</span><span class="p">])</span>
        <span class="n">notification</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">get_notification</span><span class="p">(</span><span class="n">wait_time</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">notification</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__select_ibmi_plan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plan</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Select the time tab</span>
<span class="sd">                Args:</span>
<span class="sd">                    plan   (String): select existing plan</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//span[@class=&#39;multiSelect inlineBlock&#39;]/button[@class=&#39;ng-binding&#39; and 1]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;//span[contains(text(),&#39;</span><span class="si">{</span><span class="n">plan</span><span class="si">}</span><span class="s2">&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">is_client_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; check client entry existence from file server page</span>
<span class="sd">        Args:</span>
<span class="sd">                server_name     (str) -- server name to retire</span>

<span class="sd">        returns: boolean</span>
<span class="sd">            True: if server exists</span>
<span class="sd">            false: if server does not exists</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">is_entity_present_in_column</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span>
                                                          <span class="n">entity_name</span><span class="o">=</span><span class="n">server_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">retire_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Performs retire action for the given server</span>

<span class="sd">        Args:</span>
<span class="sd">                server_name     (str) -- server name to retire</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span><span class="n">server_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;action.commonAction.retire&#39;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;deleteTypedConfirmation&quot;</span><span class="p">,</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;action.commonAction.retire&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button_using_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;action.commonAction.retire&#39;</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">get_jobid_from_popup</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">action_add_software</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">client_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">select_all_packages</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">packages</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">reboot</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;selects the Add software option for the given client</span>

<span class="sd">        Args:</span>
<span class="sd">            client_name     (str)       -- client to add software on</span>

<span class="sd">            select_all_packages  (bool)  -- selects all the packages if set True</span>
<span class="sd">                                            (default: False)</span>

<span class="sd">            packages        (list)      -- list of packages to be installed</span>

<span class="sd">            reboot          (bool)      -- set to True if reboot required</span>
<span class="sd">                                            (default: False)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">refresh_page</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span>
            <span class="n">client_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;action.addSoftware&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">select_all_packages</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">select_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">packages</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">packages</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span><span class="s1">&#39;Packages list is not provided&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">reboot</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_enable_toggle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.foreceReboot&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">submit_form</span><span class="p">()</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_job_id_page</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;OK&#39;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">job_id</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">action_update_software</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">reboot</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;selects the update software option for the given client</span>

<span class="sd">        Args:</span>
<span class="sd">            client_name     (str) -- client to update software on</span>

<span class="sd">            reboot      (bool)    -- set to True if reboot required</span>
<span class="sd">         &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span>
            <span class="n">client_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.updateSoftware&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">reboot</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_enable_toggle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.foreceReboot&#39;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button_using_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;button.yes&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button_using_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;button.yes&#39;</span><span class="p">])</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_job_id_dialog</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;: &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;OK&#39;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">job_id</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">action_uninstall_software</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">packages</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        uninstalls selected packages for a client</span>
<span class="sd">        Args:</span>
<span class="sd">            client_name     (str)       -- client to uninstall software on</span>
<span class="sd">            packages        (list)      -- list of packages to be uninstalled</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span>
            <span class="n">client_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.uninstallSoftware&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">packages</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">packages</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;action.uninstall&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span><span class="s1">&#39;Packages list is not provided&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button_using_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;button.yes&#39;</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">get_jobid_from_popup</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">action_sendlogs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;selects sendlogs option for the given client&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span>
            <span class="n">client_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;action.commonAction.sendLogs&#39;</span><span class="p">])</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">filter_file_server_by_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fs_type</span><span class="o">=</span><span class="s1">&#39;Windows&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to filter file server list from the Type filter drop down&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_type_filter_drop_down</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__select_file_server_type</span><span class="p">(</span><span class="n">fs_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_nas_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">host_name</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">vendor</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a new NAS File Server with the Chosen iDAs and Access Node.</span>

<span class="sd">        Args:</span>
<span class="sd">            name        (basestring)    :   The  name of the NAS/Network Share client to be created.</span>

<span class="sd">            host_name   (basestring)    :   The host name of the NAS/Network Share client to be created.</span>

<span class="sd">            plan        (basestring)    :   The name of the plan that needs to be associated to the client.</span>

<span class="sd">            vendor      (Vendor(Enum))  :   The name of the vendor, supports following values.</span>
<span class="sd">                -   DELL_EMC_ISILON</span>

<span class="sd">            \*\*kwargs  (dict)              --  Optional arguments.</span>

<span class="sd">            Available kwargs Options:</span>

<span class="sd">                    array_details   (dict)  :   The dictionary of array details.</span>
<span class="sd">                     Dictionary contains the keys array_name, control_host, username and password.</span>

<span class="sd">                        array_name      (basestring)    :   Name of the array.</span>

<span class="sd">                        control_host    (basestring)    :   Control host name if applicable to the array.</span>

<span class="sd">                        username        (basestring)    :   Username for the array, defined in CoreUtils\config.json.</span>

<span class="sd">                        password        (basestring)    :   Password for the array, defined in CoreUtils\config.json.</span>

<span class="sd">                    cifs            (dict)  :   The dictionary of CIFS Agent details.</span>
<span class="sd">                    Dictionary contains the keys access_nodes, impersonate_user and content.</span>

<span class="sd">                        access_nodes        (list)  :   List of access node names, access node names are strings.</span>

<span class="sd">                        impersonate_user    (dict)  :   The dictionary of impersonation account details.</span>
<span class="sd">                        Dictionary contains the keys username and password.</span>

<span class="sd">                            username    (basestring)    :   Username of the account, defined in CoreUtils\config.json.</span>

<span class="sd">                            password    (basestring)    :   Password of the account, defined in CoreUtils\config.json.</span>

<span class="sd">                        content             (list)  :   List of content paths, content paths are strings.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nas_file_server</span><span class="o">.</span><span class="n">add_nas_client</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">host_name</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">vendor</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">delete_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs delete action for given server</span>

<span class="sd">        Args:</span>
<span class="sd">            server_name     (basestring):   the name of the server</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span><span class="n">server_name</span><span class="p">,</span> <span class="s2">&quot;Delete&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;deleteTypedConfirmation&quot;</span><span class="p">,</span> <span class="s2">&quot;Delete&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button</span><span class="p">(</span><span class="s2">&quot;Delete&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">get_notification</span><span class="p">(</span><span class="n">wait_time</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">reconfigure_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs reconfigure action for the given server</span>

<span class="sd">        Args:</span>
<span class="sd">            server_name     (basestring):   the name of the server</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span><span class="n">server_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.reconfigure&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button_using_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;action.commonAction.reconfigure&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button_using_text</span><span class="p">(</span><span class="s1">&#39;Yes&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">get_notification</span><span class="p">(</span><span class="n">wait_time</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span></div>


<div class="viewcode-block" id="RestorePanel"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.FileServerPages.html#Web.AdminConsole.FileServerPages.file_servers.RestorePanel">[docs]</a><span class="k">class</span> <span class="nc">RestorePanel</span><span class="p">(</span><span class="n">ModalPanel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Class to handle restore panel related operations &quot;&quot;&quot;</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_select_checkbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to toggle inplace option&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;//label[@for=&quot;</span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s1">&quot;]&#39;</span>
        <span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_click_browse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to click on browse button during destination path selection screen &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;BrowsePath&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;BrowsePath&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                <span class="s1">&#39;//button[@id=&quot;fsRestoreOptions_button_#6719&quot;]&#39;</span>
            <span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__enable_notify_via_email</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Enables notify via email checkbox &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;*//span[contains(text(),&#39;Notify via email&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_click_backupset_and_subclient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backupset_name</span><span class="p">,</span> <span class="n">subclient_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the required backup set and subclient</span>
<span class="sd">        Args:</span>
<span class="sd">            backupset_name (String) : Name of backup set to be selected</span>

<span class="sd">            subclient_name (String) : Name of the subclient to be selected</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;//label[text()=&quot;</span><span class="si">{</span><span class="n">backupset_name</span><span class="si">}</span><span class="s1">&quot;]/../..//label[text()=&quot;</span><span class="si">{</span><span class="n">subclient_name</span><span class="si">}</span><span class="s1">&quot;]&#39;</span>
            <span class="s2">&quot;/../preceding-sibling::span[1]//input&quot;</span>
        <span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_backupset_and_subclient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backupset_name</span><span class="p">,</span> <span class="n">subclient_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the required backup set and subclient</span>
<span class="sd">        Args:</span>
<span class="sd">            backupset_name (String): Name of backup set to be selected</span>

<span class="sd">            subclient_name (String): Name of the subclient to be selected</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_click_backupset_and_subclient</span><span class="p">(</span><span class="n">backupset_name</span><span class="p">,</span> <span class="n">subclient_name</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_search</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clicks the search option in restore page&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__clear_search</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//input[contains(@placeholder,&#39;Search for files&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__clear_search</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clears the search&quot;&quot;&quot;</span>
        <span class="n">clear</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span>
            <span class="s2">&quot;//span[contains(@class,&#39;form-control-clear glyphicon&#39;)]&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">clear</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">clear</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_displayed</span><span class="p">():</span>
                <span class="n">clear</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_enter_search_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_type</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enters the value in search</span>
<span class="sd">                Args:</span>
<span class="sd">                    search_type (String): Category type (eg:filename, contains)</span>
<span class="sd">                    value   (String): Value to be entered</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">search</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;//span[@class=&#39;ng-binding ng-scope&#39;]//label[text()=&#39;</span><span class="si">{</span><span class="n">search_type</span><span class="si">}</span><span class="s2">&#39;]/following-sibling::input&quot;</span><span class="p">)</span>
        <span class="n">search</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="n">search</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">search</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_select_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects file type</span>
<span class="sd">                Args:</span>
<span class="sd">                    label (String): Category type (eg:Modified, fileType)</span>
<span class="sd">                    value (String): Value to be entered</span>
<span class="sd">                                        (eg:&#39;file.txt&#39;, &#39;test.html&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;//label[text()=&#39;</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&#39;]/following-sibling::select/option[@label=&#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_time_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Select the time tab</span>
<span class="sd">                Args:</span>
<span class="sd">                    label   (String): Category type (eg:From Time, To Time)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;//label[text()=&#39;</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&#39;]/following-sibling::span/button[@class=&#39;btn btn-default&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_select_time_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the time range</span>
<span class="sd">                Args:</span>
<span class="sd">                    label   (String): Category type (eg:From Time, To Time)</span>
<span class="sd">                    time (basestring): the backup date in 01-March-2019 format</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_time_tab</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">time</span><span class="p">:</span>
            <span class="n">calender</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;month&#39;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">date_picker</span><span class="p">(</span><span class="n">calender</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__check_check_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Checks if the checkbox is selected or not</span>
<span class="sd">                Args:</span>
<span class="sd">                    label (String): Category type (eg:IncludeFolders:, showDeletedFiles:)</span>
<span class="sd">                    value (bool): Value to be entered</span>
<span class="sd">                                        (eg:&#39;file.txt&#39;, &#39;test.html&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">elem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&#39; and contains(@class,&#39;ng-not-empty&#39;)]&quot;</span><span class="p">)</span>
        <span class="n">elem1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&#39; and contains(@class,&#39;ng-empty&#39;)]&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">elem1</span> <span class="ow">and</span> <span class="n">value</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_select_checkbox</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">elem</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_select_checkbox</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__submit_search</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Submit the search option&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;cv-search-box_button_#9364&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">search_files_for_restore</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">contains</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">file_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">modified</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                 <span class="n">from_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">to_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_folders</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                 <span class="n">show_deleted_files</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Search the files based on the parametes provided</span>
<span class="sd">                Args:</span>
<span class="sd">                    file_name (String): Name of file to be searched</span>
<span class="sd">                                        (eg:&#39;file.txt&#39;, &#39;test.html&#39;)</span>
<span class="sd">                    contains  (String): pattern string that the files contain</span>
<span class="sd">                                        (eg:&#39;html&#39;, &#39;automation&#39;)</span>
<span class="sd">                    file_type  (String): The type of the file to be searched</span>
<span class="sd">                                         (eg:&#39;Audio&#39;, &#39;Image&#39;, &#39;Office&#39;, &#39;Video&#39;,</span>
<span class="sd">                                             &#39;System&#39;, &#39;Executable&#39;)</span>
<span class="sd">                    modified   (String): Modified time of file to be searched</span>
<span class="sd">                                         (eg:&#39;Today&#39;, &#39;Yesterday&#39;, &#39;This week&#39;)</span>
<span class="sd">                    from_time   (String): The files backed up from date</span>
<span class="sd">                    to_time     (String): The files backed up to this date</span>
<span class="sd">                    include_folders (bool): True is to include folder while search is applied</span>
<span class="sd">                    show_deleted_files (bool): True is to apply search for deleted items</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_search</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">file_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_enter_search_value</span><span class="p">(</span><span class="s1">&#39;Filename:&#39;</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">contains</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_enter_search_value</span><span class="p">(</span><span class="s1">&#39;Contains:&#39;</span><span class="p">,</span> <span class="n">contains</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">file_type</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_select_value</span><span class="p">(</span><span class="s2">&quot;File Type:&quot;</span><span class="p">,</span> <span class="n">file_type</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">modified</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">modified</span> <span class="o">!=</span> <span class="s1">&#39;Time Range&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_select_value</span><span class="p">(</span><span class="s2">&quot;Modified:&quot;</span><span class="p">,</span> <span class="n">modified</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_select_value</span><span class="p">(</span><span class="s2">&quot;Modified:&quot;</span><span class="p">,</span> <span class="n">modified</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">from_time</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_select_time_range</span><span class="p">(</span><span class="s2">&quot;From time&quot;</span><span class="p">,</span> <span class="n">from_time</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">to_time</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_select_time_range</span><span class="p">(</span><span class="s2">&quot;To time&quot;</span><span class="p">,</span> <span class="n">to_time</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__check_check_box</span><span class="p">(</span><span class="s2">&quot;IncludeFolders:&quot;</span><span class="p">,</span> <span class="n">include_folders</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__check_check_box</span><span class="p">(</span><span class="s2">&quot;showDeletedFiles:&quot;</span><span class="p">,</span> <span class="n">show_deleted_files</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__submit_search</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_destination_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to select client from drop down in restore panel&quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dropdown</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">client_name</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_overwrite</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to select unconditional overwrite in restore panel&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_select_checkbox</span><span class="p">(</span><span class="s2">&quot;overwrite&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">deselect_acl_for_restore</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to deselect acls option in restore panel&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_select_checkbox</span><span class="p">(</span><span class="s2">&quot;acls&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">deselect_data_for_restore</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to deselect data option in restore panel&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_select_checkbox</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_browse_for_restore_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toggle_inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to click on browse in restore panel</span>
<span class="sd">        Args:</span>

<span class="sd">            toggle_inplace (bool): to toggle inplace option</span>
<span class="sd">                default: True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">toggle_inplace</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_select_checkbox</span><span class="p">(</span><span class="s2">&quot;inplace&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_browse_in_restore</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_browse_in_restore</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method to click on browse in restore panel&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_click_browse</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">submit_restore</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">notify</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Method to submit restore job</span>
<span class="sd">        Args:</span>

<span class="sd">            notify (bool): to enable by email</span>

<span class="sd">        Returns:</span>
<span class="sd">            job_id: job id from notification</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">notify</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__enable_notify_via_email</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">wait_for_load</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">get_jobid_from_popup</span><span class="p">()</span></div>


<div class="viewcode-block" id="AddPanel"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.FileServerPages.html#Web.AdminConsole.FileServerPages.file_servers.AddPanel">[docs]</a><span class="k">class</span> <span class="nc">AddPanel</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">        admin_console(AdminConsole): adminconsole</span>
<span class="sd">        object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span> <span class="o">=</span> <span class="n">admin_console</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span> <span class="o">=</span> <span class="n">admin_console</span><span class="o">.</span><span class="n">driver</span>

        <span class="c1"># Components required</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__panel</span> <span class="o">=</span> <span class="n">Backup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__browse</span> <span class="o">=</span> <span class="n">Browse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__contentbrowse</span> <span class="o">=</span> <span class="n">ContentBrowse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__dropdown</span> <span class="o">=</span> <span class="n">DropDown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_custom_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add custom paths in the path input box</span>
<span class="sd">                Args:</span>
<span class="sd">                    path (str)      :   Data path to be added</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">custom_path_input_xpath</span> <span class="o">=</span> <span class="s2">&quot;//input[@placeholder=&#39;Enter custom path&#39;]&quot;</span>
        <span class="n">custom_path_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="n">custom_path_input_xpath</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">path_input</span> <span class="ow">in</span> <span class="n">custom_path_input</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">path_input</span><span class="o">.</span><span class="n">is_displayed</span><span class="p">():</span>
                <span class="n">path_input</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
                <span class="n">path_input</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">click_add_custom_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clicks the add custom path icon&quot;&quot;&quot;</span>
        <span class="n">add_path_icon_xpath</span> <span class="o">=</span> <span class="s2">&quot;//i[@title=&#39;Add&#39;]&quot;</span>
        <span class="n">custom_path_add</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="n">add_path_icon_xpath</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">path_add</span> <span class="ow">in</span> <span class="n">custom_path_add</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">path_add</span><span class="o">.</span><span class="n">is_displayed</span><span class="p">():</span>
                <span class="n">path_add</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">toggle_own_content</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;toggles the override backup content option&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;//span[@class=&quot;help-label ng-binding&quot; and text()=&quot;Define your own backup content&quot;]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">browse_and_select_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backup_data</span><span class="p">,</span> <span class="n">file_system</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        selects backup data through FS Browse</span>

<span class="sd">        Args:</span>

<span class="sd">            backup_data     (list(paths)) : Data to be backed up by new sub client created</span>
<span class="sd">                Eg. backup_data = [&#39;C:\\TestBackupSet1&#39;, C:\\TestBackupSet2&#39;]</span>

<span class="sd">            file_system      (string)     :  file system of the client</span>
<span class="sd">                Eg. - &#39;Windows&#39; or &#39;Unix&#39;</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                if not able to select data</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">backup_data</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">flag</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="n">file_system</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;windows&#39;</span><span class="p">:</span>
                <span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span>
            <span class="n">directories</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="n">flag</span><span class="p">:</span>
                <span class="n">tag</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">start</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">tag</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">start</span> <span class="o">=</span> <span class="n">tag</span> <span class="o">+</span> <span class="mi">1</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">directory</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">folder</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">folder</span>
                <span class="k">if</span> <span class="n">directory</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                    <span class="n">directories</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
            <span class="n">path</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">directories</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">path</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//span[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">directories</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]/../../button&quot;</span><span class="p">)</span><span class="o">.</span> \
                        <span class="n">get_attribute</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;ng-scope collapsed&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">click_by_xpath</span><span class="p">(</span>
                        <span class="s2">&quot;//span[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">directories</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]/../../button&quot;</span><span class="p">)</span>
                <span class="n">dest</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">click_by_xpath</span><span class="p">(</span>
                <span class="s2">&quot;//span[contains(text(),&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">directories</span><span class="p">[</span><span class="n">dest</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;&#39;)]&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">click_button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.save&#39;</span><span class="p">])</span>

    <span class="nd">@WebAction</span><span class="p">(</span><span class="n">delay</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">remove_plan_content</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        removes the content inherited from plan</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">elem</span> <span class="o">=</span> <span class="s2">&quot;//div[contains(@class,&#39;ui-grid-selection-row-header-buttons ui-grid-icon-ok ng-pristine ng-untouched ng-valid ng-scope&#39;)]&quot;</span>
        <span class="n">checkbox</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">checkbox</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">files</span><span class="o">.</span><span class="n">is_displayed</span><span class="p">():</span>
                <span class="n">files</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__select_credentials</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Selects radio button for Impersonate User&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;//span[contains(text(),&#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;)]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">plan</span><span class="p">,</span>
            <span class="n">define_own_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">browse_and_select_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">backup_data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">impersonate_user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">exclusions</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">exceptions</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">backup_system_state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">file_system</span><span class="o">=</span><span class="s1">&#39;Windows&#39;</span><span class="p">,</span>
            <span class="n">remove_plan_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">toggle_own_content</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to Add content,exclusions,exceptions</span>

<span class="sd">        Args:</span>
<span class="sd">            plan (string): plan name to be used as policy for new sub client backup.</span>

<span class="sd">            define_own_content(bool): Pass True to define own content</span>
<span class="sd">                                        False for associated plan content</span>

<span class="sd">            browse_and_select_data(bool): Pass True to browse and select data,</span>
<span class="sd">                                            False for custom path</span>

<span class="sd">            backup_data     (list(paths)): Data to be backed up by new sub client created</span>
<span class="sd">                Eg. backup_data = [&#39;C:\\TestBackupSet1&#39;, C:\\TestBackupSet2&#39;]</span>

<span class="sd">            impersonate_user    (string): Specify username (eg: for UNC paths).</span>

<span class="sd">            exclusions       (list(paths)): Data to be backed up by new sub client created</span>
<span class="sd">                Eg. exclusions = [&#39;C:\\TestBackupSet1&#39;, C:\\TestBackupSet2&#39;]</span>

<span class="sd">            exceptions       (list(paths)): Data to be backed up by new sub client created</span>
<span class="sd">                Eg. exceptions = [&#39;C:\\TestBackupSet1&#39;, C:\\TestBackupSet2&#39;]</span>

<span class="sd">            backup_system_state (String): System state to be enabled or not.</span>

<span class="sd">            file_system       (string):  file system of the client</span>
<span class="sd">                Eg. - &#39;Windows&#39; or &#39;Unix&#39;</span>

<span class="sd">            remove_plan_content (bool): True for removing content inherited from plan</span>
<span class="sd">                                              False for keeping content inherited from plan</span>

<span class="sd">            submit              (bool): True if the user wants to submit the form</span>
<span class="sd">                                      : False if the user doesn&#39;t want to submit the form</span>

<span class="sd">            toggle_own_content  (bool): Pass True to toggle override backup content</span>
<span class="sd">                                        False for not toggling</span>
<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                -- if fails to add entity</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__dropdown</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">drop_down_id</span><span class="o">=</span><span class="s1">&#39;planSummaryDropdown&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">plan</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">define_own_content</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">toggle_own_content</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">toggle_own_content</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">remove_plan_content</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">remove_plan_content</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.globalActions.remove&#39;</span><span class="p">])</span>

            <span class="k">if</span> <span class="n">browse_and_select_data</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;header.content&#39;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;action.browse&#39;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">browse_and_select_data</span><span class="p">(</span><span class="n">backup_data</span><span class="p">,</span> <span class="n">file_system</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">backup_data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_custom_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">click_add_custom_path</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;//h1[text()=&#39;Impersonate user&#39;]&quot;</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">cancel_form</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">impersonate_user</span><span class="p">:</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.impersonateUser&#39;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">impersonate_user</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__select_credentials</span><span class="p">(</span><span class="s2">&quot;Use saved credentials&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">cv_single_select</span><span class="p">(</span><span class="s2">&quot;Saved credentials&quot;</span><span class="p">,</span> <span class="n">impersonate_user</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">submit_form</span><span class="p">()</span>

                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">impersonate_user</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;loginName&#39;</span><span class="p">,</span> <span class="n">impersonate_user</span><span class="p">[</span><span class="s1">&#39;username&#39;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="n">impersonate_user</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">submit_form</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">exclusions</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.Exclusions&#39;</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">exclusions</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_custom_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">click_add_custom_path</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">exceptions</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.Exceptions&#39;</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">exceptions</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_custom_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">click_add_custom_path</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">backup_system_state</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">enable_toggle</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">backup_system_state</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">disable_toggle</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">submit</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">submit_form</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">check_error_message</span><span class="p">()</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Commvault Systems Inc. All Rights Reserved

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>