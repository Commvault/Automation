

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Web.AdminConsole.Databases.db_instances &mdash; Commvault Automation 11.24 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home" alt="Documentation Home"> Commvault Automation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"></div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Commvault Automation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
        
      <li>Web.AdminConsole.Databases.db_instances</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for Web.AdminConsole.Databases.db_instances</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-s</span>

<span class="c1"># --------------------------------------------------------------------------</span>
<span class="c1"># Copyright Commvault Systems, Inc.</span>
<span class="c1"># See LICENSE.txt in the project root for</span>
<span class="c1"># license information.</span>
<span class="c1"># --------------------------------------------------------------------------</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This module provides the functions or operations that can be performed</span>
<span class="sd">on the Database instance</span>

<span class="sd">DBInstances:</span>

<span class="sd">    select_instance()           --  Select the database instance in DB instances page</span>

<span class="sd">    is_instance_exists()        --  Checks if instance with given name exists</span>

<span class="sd">    add_postgresql_instance()   --  Adds new postgresql instance</span>

<span class="sd">    __click_add_cloud_db()        --  Clicks on &#39;CLoud DB&#39; under Add Instance</span>

<span class="sd">    add_dynamodb_instance()     --  Adds new DynamoDB instance</span>

<span class="sd">    add_redshift_instance()     --  Adds new Redshift instance</span>

<span class="sd">    add_rds_instance()          -- Adds new Amazon RDS instance</span>

<span class="sd">    add_db2_instance()          --  Adds new db2 instance</span>

<span class="sd">    add_mysql_instance()        --  Adds new MySQL instance</span>

<span class="sd">    add_sybase_instance()       --  Adds new Sybase instance</span>

<span class="sd">    access_databases_tab()      --  Clicks on &#39;Databases&#39; tab in Databases page</span>

<span class="sd">    access_instant_clones_tab()  -- Clicks on &#39;Instant clones&#39; tab in Databases page</span>

<span class="sd">    add_informix_instance()     --  Adds new Informix instance</span>

<span class="sd">    add_cosmosdb_sql_instance() --  Adds new Azure CosmosDB SQL API instance</span>

<span class="sd">    add_oracle_instance()       --  Adds new Oracle instance</span>

<span class="sd">    discover_instances()        --  Discovers instances of specified client and agent</span>

<span class="sd">    backup()                    --  triggers backup from instances page</span>

<span class="sd">    add_server()                --  adds database server</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>

<span class="kn">from</span> <span class="nn">Web.Common.page_object</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">PageService</span><span class="p">,</span> <span class="n">WebAction</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.adminconsole</span> <span class="kn">import</span> <span class="n">AdminConsole</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Components.table</span> <span class="kn">import</span> <span class="n">Table</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Components.panel</span> <span class="kn">import</span> <span class="n">DropDown</span><span class="p">,</span> <span class="n">Backup</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Databases._migrate_to_cloud</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">MigrateToCloud</span><span class="p">,</span>
    <span class="n">MigrateSQLToAzure</span><span class="p">,</span>
    <span class="n">MigrateOracleToAzure</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Databases.Instances</span> <span class="kn">import</span> <span class="n">add_instance</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Databases.Instances.add_cloud_db_instance</span> <span class="kn">import</span> <span class="n">DynamoDBInstance</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Databases.Instances.add_cloud_db_instance</span> <span class="kn">import</span> <span class="n">AmazonRDSInstance</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Databases.Instances.add_cloud_db_instance</span> <span class="kn">import</span> <span class="n">RedshiftInstance</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Databases.Instances.add_cloud_db_instance</span> <span class="kn">import</span> <span class="n">CosmosDBSQLInstance</span>

<div class="viewcode-block" id="DBInstances"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Databases.html#Web.AdminConsole.Databases.db_instances.DBInstances">[docs]</a><span class="k">class</span> <span class="nc">DBInstances</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;This class provides the function or operations that can be performed on the DB Instances</span>
<span class="sd">    page under solutions in AdminConsole</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="DBInstances.Types"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Databases.html#Web.AdminConsole.Databases.db_instances.DBInstances.Types">[docs]</a>    <span class="k">class</span> <span class="nc">Types</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Available database types supported&quot;&quot;&quot;</span>
        <span class="n">MSSQL</span> <span class="o">=</span> <span class="s2">&quot;Microsoft SQL Server&quot;</span>
        <span class="n">ORACLE</span> <span class="o">=</span> <span class="s2">&quot;Oracle&quot;</span>
        <span class="n">POSTGRES</span> <span class="o">=</span> <span class="s2">&quot;PostgreSQL&quot;</span>
        <span class="n">CLOUD_DB</span> <span class="o">=</span> <span class="s2">&quot;Cloud DB&quot;</span>
        <span class="n">DYNAMODB</span> <span class="o">=</span> <span class="s2">&quot;DynamoDB&quot;</span>
        <span class="n">DB2</span> <span class="o">=</span> <span class="s2">&quot;DB2&quot;</span>
        <span class="n">MYSQL</span> <span class="o">=</span> <span class="s2">&quot;MySQL&quot;</span>
        <span class="n">RDS</span> <span class="o">=</span> <span class="s2">&quot;RDS&quot;</span>
        <span class="n">SYBASE</span> <span class="o">=</span> <span class="s2">&quot;Sybase&quot;</span>
        <span class="n">REDSHIFT</span> <span class="o">=</span> <span class="s2">&quot;Redshift&quot;</span>
        <span class="n">INFORMIX</span> <span class="o">=</span> <span class="s2">&quot;Informix&quot;</span>
        <span class="n">SAP_HANA</span> <span class="o">=</span> <span class="s2">&quot;SAP HANA&quot;</span>
        <span class="n">ORACLE_RAC</span> <span class="o">=</span> <span class="s2">&quot;Oracle RAC&quot;</span>
        <span class="n">COSMOSDB_SQL</span> <span class="o">=</span> <span class="s2">&quot;Cosmos DB&quot;</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">:</span> <span class="n">AdminConsole</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Class constructor</span>

<span class="sd">            Args:</span>
<span class="sd">                admin_console   (obj)   --  The admin console class object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span> <span class="o">=</span> <span class="n">admin_console</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instances_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__panel_dropdown</span> <span class="o">=</span> <span class="n">DropDown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_instance</span> <span class="o">=</span> <span class="n">add_instance</span><span class="o">.</span><span class="n">AddDBInstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">_load_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">props</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database_type</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">,</span> <span class="n">client_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Select the database instance in DB instances page</span>

<span class="sd">            Args:</span>
<span class="sd">                database_type   (DBInstances.Types) --  Use the enum to select any</span>
<span class="sd">                specific database</span>

<span class="sd">                instance_name   (str)               --  The name of the SQL instance to select</span>

<span class="sd">                client_name     (str)               --  Name of the client underwhich the instance</span>
<span class="sd">                is present</span>

<span class="sd">                    default: None</span>

<span class="sd">            Returns:</span>
<span class="sd">                (obj)   --      The SQL instance page object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">database_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Types</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Invalid database type&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instances_table</span><span class="o">.</span><span class="n">view_by_title</span><span class="p">(</span><span class="n">database_type</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">refresh_page</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">client_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instances_table</span><span class="o">.</span><span class="n">access_link_by_column</span><span class="p">(</span><span class="n">client_name</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instances_table</span><span class="o">.</span><span class="n">access_link_by_column</span><span class="p">(</span><span class="n">instance_name</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">is_instance_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database_type</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">,</span> <span class="n">client_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check if instance exists</span>

<span class="sd">            Args:</span>

<span class="sd">                database_type            (str)  --  Database type</span>

<span class="sd">                instance_name            (str)  --  Instance Name</span>

<span class="sd">                client_name              (str)  --  Client Name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">database_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Types</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Invalid database type&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instances_table</span><span class="o">.</span><span class="n">view_by_title</span><span class="p">(</span><span class="n">database_type</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">refresh_page</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instances_table</span><span class="o">.</span><span class="n">is_entity_present_in_column</span><span class="p">(</span><span class="s1">&#39;Server&#39;</span><span class="p">,</span> <span class="n">client_name</span><span class="p">)</span>
        <span class="n">instances_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instances_table</span><span class="o">.</span><span class="n">get_column_data</span><span class="p">(</span><span class="s1">&#39;Name&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">instance_name</span> <span class="ow">in</span> <span class="n">instances_data</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_postgresql_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">database_user</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span>
                                <span class="n">port</span><span class="p">,</span> <span class="n">binary_directory</span><span class="p">,</span> <span class="n">lib_directory</span><span class="p">,</span> <span class="n">archive_log_directory</span><span class="p">,</span>
                                <span class="n">maintenance_db</span><span class="o">=</span><span class="s2">&quot;postgres&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds new postgresql instance</span>

<span class="sd">            Args:</span>
<span class="sd">                server_name             (str)   --  Server name</span>

<span class="sd">                instance_name           (str)   --  postgresql instance name</span>

<span class="sd">                plan                    (str)   --  Plan to be associated with the instance</span>

<span class="sd">                database_user           (str)   --  PostgreSQL user</span>

<span class="sd">                password                (str)   --  PostgreSQL user password</span>

<span class="sd">                port                    (str)   --  PostgreSQL port</span>

<span class="sd">                binary_directory        (str)   --  Binary directory path</span>

<span class="sd">                lib_directory           (str)   --  Library directory path</span>

<span class="sd">                archive_log_directory   (str)   --  archive log directory path</span>

<span class="sd">                maintenance_db          (str)   --  postgreSQL maintenance database name</span>

<span class="sd">                    default: Postgres</span>



<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_instance</span><span class="o">.</span><span class="n">add_postgresql_instance</span><span class="p">(</span>
            <span class="n">server_name</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">database_user</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span>
            <span class="n">binary_directory</span><span class="p">,</span> <span class="n">lib_directory</span><span class="p">,</span> <span class="n">archive_log_directory</span><span class="p">,</span> <span class="n">maintenance_db</span><span class="o">=</span><span class="n">maintenance_db</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_db2_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">db2_home</span><span class="p">,</span> <span class="n">db2_username</span><span class="p">,</span> <span class="n">db2_user_password</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds new db2 instance</span>

<span class="sd">            Args:</span>
<span class="sd">                server_name             (str)   --  Server name</span>

<span class="sd">                instance_name           (str)   --  postgresql instance name</span>

<span class="sd">                plan                    (str)   --  Plan to be associated with the instance</span>

<span class="sd">                db2_home                (str)   --  db2 home path</span>

<span class="sd">                db2_username           (str)   --  db2 user name</span>

<span class="sd">                db2_user_password       (str)   --  db2 user password</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_instance</span><span class="o">.</span><span class="n">add_db2_instance</span><span class="p">(</span>
            <span class="n">server_name</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">db2_home</span><span class="p">,</span> <span class="n">db2_username</span><span class="p">,</span> <span class="n">db2_user_password</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_mysql_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span>
                           <span class="n">database_user</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">binary_directory</span><span class="p">,</span> <span class="n">log_directory</span><span class="p">,</span>
                           <span class="n">config_directory</span><span class="p">,</span> <span class="n">unix</span><span class="p">,</span> <span class="n">socketfile_directory</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unix_username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">nt_username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nt_password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">ssl_ca_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xtra_backup_bin_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Adds new MySQL database instance</span>

<span class="sd">            Args:</span>
<span class="sd">                server_name             (str)   --  Server name</span>

<span class="sd">                instance_name           (str)   --  MySQL instance name</span>

<span class="sd">                plan                    (str)   --  Plan to be associated with the instance</span>

<span class="sd">                database_user           (str)   --  MySQL user</span>

<span class="sd">                password                (str)   --  MySQL user password</span>

<span class="sd">                unix                    (bool)  --  True if server os is UNIX. Else false</span>

<span class="sd">                unix_username           (str)   --  UNIX user name (unix server specific)</span>

<span class="sd">                nt_username             (str)   --  NT username  (windows server specific)</span>

<span class="sd">                nt_password             (str)   --  NT password  (windows server specific)</span>

<span class="sd">                port                    (int)   --  Port  (windows server specific)</span>

<span class="sd">                socketfile_directory    (str)   --  Socket file directory  (unix server specific)</span>

<span class="sd">                    default: None</span>

<span class="sd">                binary_directory        (str)   --  Binary directory path</span>

<span class="sd">                log_directory           (str)   --  Log directory path</span>

<span class="sd">                config_directory        (str)   --  configuration file directory path</span>

<span class="sd">                ssl_ca_file             (str)   --  SSL CA file directory path</span>

<span class="sd">                    default: None</span>

<span class="sd">                xtra_backup_bin_path    (str)   --  XtraBackup bin path. If None, XtraBackup for</span>
<span class="sd">                                                    hot backup will not be enabled.</span>

<span class="sd">                    default: None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_instance</span><span class="o">.</span><span class="n">add_mysql_instance</span><span class="p">(</span><span class="n">server_name</span><span class="o">=</span><span class="n">server_name</span><span class="p">,</span>
                                             <span class="n">instance_name</span><span class="o">=</span><span class="n">instance_name</span><span class="p">,</span>
                                             <span class="n">plan</span><span class="o">=</span><span class="n">plan</span><span class="p">,</span> <span class="n">database_user</span><span class="o">=</span><span class="n">database_user</span><span class="p">,</span>
                                             <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
                                             <span class="n">unix</span><span class="o">=</span><span class="n">unix</span><span class="p">,</span> <span class="n">unix_username</span><span class="o">=</span><span class="n">unix_username</span><span class="p">,</span>
                                             <span class="n">nt_username</span><span class="o">=</span><span class="n">nt_username</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="n">port</span><span class="p">,</span>
                                             <span class="n">nt_password</span><span class="o">=</span><span class="n">nt_password</span><span class="p">,</span>
                                             <span class="n">socketfile_directory</span><span class="o">=</span><span class="n">socketfile_directory</span><span class="p">,</span>
                                             <span class="n">binary_directory</span><span class="o">=</span><span class="n">binary_directory</span><span class="p">,</span>
                                             <span class="n">log_directory</span><span class="o">=</span><span class="n">log_directory</span><span class="p">,</span>
                                             <span class="n">config_directory</span><span class="o">=</span><span class="n">config_directory</span><span class="p">,</span>
                                             <span class="n">ssl_ca_file</span><span class="o">=</span><span class="n">ssl_ca_file</span><span class="p">,</span>
                                             <span class="n">xtra_backup_bin_path</span><span class="o">=</span><span class="n">xtra_backup_bin_path</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_add_cloud_db</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Click on Cloud DB under add instance in Instances Page&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">access_menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;pageHeader.addInstance&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">click_by_id</span><span class="p">(</span><span class="mi">134</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_dynamodb_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cloud_account</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">adjust_read_capacity</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates DynamoDB instance</span>
<span class="sd">        Args:</span>
<span class="sd">            cloud_account   (str) : The cloud account that needs to be used for</span>
<span class="sd">                                    configuring instance</span>

<span class="sd">            plan            (str):  The name of the plan</span>

<span class="sd">            adjust_read_capacity(int)   :   The value that needs to be set for</span>
<span class="sd">                                        adjust read capacity parameter</span>

<span class="sd">            content         (dict or list):  The content to be selected</span>

<span class="sd">                            1. To set complete regions as content:</span>
<span class="sd">                            Provide list of strings of region names</span>
<span class="sd">                            Example: [&#39;Asia Pacific (Mumbai) (ap-south-1)&#39;,</span>
<span class="sd">                                   &#39;Asia Pacific (Singapore) (ap-southeast-1)&#39;]</span>


<span class="sd">                            2. To set one more tables under regions as content:</span>
<span class="sd">                            Provide a dictionary containing the full region names as keys</span>
<span class="sd">                            and LIST of strings with items to be selected under them as value</span>
<span class="sd">                                Example:</span>
<span class="sd">                                {</span>
<span class="sd">                                &#39;US East (Ohio) (us-east-2)&#39;:[&#39;table1&#39;,&#39;table2&#39;,&#39;table3&#39;]</span>
<span class="sd">                                &#39;US East (Virginia) (us-east-1)&#39;:[&#39;tableA&#39;,&#39;tableB&#39;&#39;]</span>
<span class="sd">                                }</span>

<span class="sd">                            Default value is &#39;default&#39;, default content set in UI will be used</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_add_cloud_db</span><span class="p">()</span>
        <span class="n">dynamodb_instance</span> <span class="o">=</span> <span class="n">DynamoDBInstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="p">)</span>
        <span class="n">dynamodb_instance</span><span class="o">.</span><span class="n">create_instance</span><span class="p">(</span><span class="n">cloud_account</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">adjust_read_capacity</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_redshift_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cloud_account</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates Redshift instance</span>
<span class="sd">        Args:</span>
<span class="sd">            cloud_account   (str):  The cloud account that needs to be used for</span>
<span class="sd">                                    configuring instance</span>

<span class="sd">            plan            (str):  The name of the plan</span>

<span class="sd">            content         (dict or list):  The content to be selected</span>

<span class="sd">                            1. To set complete regions as content:</span>
<span class="sd">                            Provide list of strings of region names</span>
<span class="sd">                            Example: [&#39;Asia Pacific (Mumbai) (ap-south-1)&#39;,</span>
<span class="sd">                                   &#39;Asia Pacific (Singapore) (ap-southeast-1)&#39;]</span>


<span class="sd">                            2. To set one or more tables under regions as content:</span>
<span class="sd">                            Provide a dictionary containing the full region names as keys</span>
<span class="sd">                            and LIST of strings with items to be selected under them as value</span>
<span class="sd">                                Example:</span>
<span class="sd">                                {</span>
<span class="sd">                                &#39;US East (Ohio) (us-east-2)&#39;:[&#39;table1&#39;,&#39;table2&#39;,&#39;table3&#39;]</span>
<span class="sd">                                &#39;US East (Virginia) (us-east-1)&#39;:[&#39;tableA&#39;,&#39;tableB&#39;&#39;]</span>
<span class="sd">                                }</span>

<span class="sd">                            Default value is &#39;default&#39;, default content set in UI will be used</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_add_cloud_db</span><span class="p">()</span>
        <span class="n">RedshiftInstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="p">)</span><span class="o">.</span><span class="n">create_instance</span><span class="p">(</span><span class="n">cloud_account</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_rds_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cloud_account</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates Amazon RDS instance</span>
<span class="sd">        Args:</span>
<span class="sd">            cloud_account   (str) : The cloud account that needs to be used for</span>
<span class="sd">                                            configuring instance</span>

<span class="sd">            plan            (str):  The name of the plan</span>

<span class="sd">            content         (dict or list):  The content to be selected</span>

<span class="sd">                            1. To set complete regions as content:</span>
<span class="sd">                            Provide a list of strings of region names</span>
<span class="sd">                            Example: [&#39;Asia Pacific (Mumbai) (ap-south-1)&#39;,</span>
<span class="sd">                                   &#39;Asia Pacific (Singapore) (ap-southeast-1)&#39;]</span>


<span class="sd">                            2. To set one more tables under regions as content:</span>
<span class="sd">                            Provide a dictionary containing the full region names as keys</span>
<span class="sd">                            and LIST of strings with items to be selected under them as value</span>
<span class="sd">                                Example:</span>
<span class="sd">                                {</span>
<span class="sd">                                &#39;US East (Ohio) (us-east-2)&#39;:[&#39;table1&#39;,&#39;table2&#39;,&#39;table3&#39;]</span>
<span class="sd">                                &#39;US East (Virginia) (us-east-1)&#39;:[&#39;tableA&#39;,&#39;tableB&#39;&#39;]</span>
<span class="sd">                                }</span>

<span class="sd">                            Default value is &#39;default&#39;, default content set in UI will be used</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_add_cloud_db</span><span class="p">()</span>
        <span class="n">rds_instance</span> <span class="o">=</span> <span class="n">AmazonRDSInstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="p">)</span>
        <span class="n">rds_instance</span><span class="o">.</span><span class="n">create_rds_instance</span><span class="p">(</span><span class="n">cloud_account</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_sybase_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">sa_user_name</span><span class="p">,</span>
                            <span class="n">password</span><span class="p">,</span> <span class="n">unix</span><span class="p">,</span> <span class="n">os_user_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">os_password</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates Sybase instance</span>
<span class="sd">        Args:</span>
<span class="sd">            server_name     (str):  Server name</span>
<span class="sd">            instance_name:  (str):  Name of instance to be created</span>
<span class="sd">            plan:           (str):  Plan name</span>
<span class="sd">            sa_user_name:   (str)   SA user name</span>
<span class="sd">            password:       (str): Password</span>
<span class="sd">            unix            (bool)  --  True if server os is UNIX. Else false</span>
<span class="sd">            os_user_name    (str): OS username</span>
<span class="sd">            os_password     (str): OS password</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_instance</span><span class="o">.</span><span class="n">add_sybase_instance</span><span class="p">(</span><span class="n">server_name</span><span class="o">=</span><span class="n">server_name</span><span class="p">,</span>
                                              <span class="n">instance_name</span><span class="o">=</span><span class="n">instance_name</span><span class="p">,</span> <span class="n">plan</span><span class="o">=</span><span class="n">plan</span><span class="p">,</span>
                                              <span class="n">sa_user_name</span><span class="o">=</span><span class="n">sa_user_name</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
                                              <span class="n">unix</span><span class="o">=</span><span class="n">unix</span><span class="p">,</span> <span class="n">os_user_name</span><span class="o">=</span><span class="n">os_user_name</span><span class="p">,</span>
                                              <span class="n">os_password</span><span class="o">=</span><span class="n">os_password</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_databases_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clicks on &#39;Databases&#39; tab in Databases page&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">access_tab</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.databases&#39;</span><span class="p">])</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_instant_clones_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clicks on &#39;Instant clones&#39; tab in Databases page&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">access_tab</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;pageHeader.clones&#39;</span><span class="p">])</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_informix_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span>
                              <span class="n">informix_username</span><span class="p">,</span> <span class="n">informix_home</span><span class="p">,</span> <span class="n">onconfig</span><span class="p">,</span>
                              <span class="n">sqlhosts</span><span class="p">,</span> <span class="n">is_windows_os</span><span class="p">,</span> <span class="n">informix_password</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds new informix instance</span>

<span class="sd">            Args:</span>
<span class="sd">                server_name             (str)   --  Server name</span>
<span class="sd">                instance_name           (str)   --  informix instance name, INFORMIXSERVER</span>
<span class="sd">                plan                    (str)   --  Plan to be associated with the instance</span>
<span class="sd">                informix_username       (str)   --  informix user name</span>
<span class="sd">                informix_home           (str)   --  informix home directory, INFORMIXDIR</span>
<span class="sd">                onconfig                (str)   --  onconfig filename, ONCONFIG</span>
<span class="sd">                sqlhosts                (str)   --  sqlhosts file path, INFORMIXSQLHOSTS</span>
<span class="sd">                is_windows_os           (bool)  --  True if server OS is windows</span>
<span class="sd">                informix_password       (str)   --  informix user password</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_instance</span><span class="o">.</span><span class="n">add_informix_instance</span><span class="p">(</span>
            <span class="n">server_name</span><span class="o">=</span><span class="n">server_name</span><span class="p">,</span> <span class="n">instance_name</span><span class="o">=</span><span class="n">instance_name</span><span class="p">,</span> <span class="n">plan</span><span class="o">=</span><span class="n">plan</span><span class="p">,</span>
            <span class="n">informix_username</span><span class="o">=</span><span class="n">informix_username</span><span class="p">,</span> <span class="n">informix_home</span><span class="o">=</span><span class="n">informix_home</span><span class="p">,</span>
            <span class="n">onconfig</span><span class="o">=</span><span class="n">onconfig</span><span class="p">,</span> <span class="n">sqlhosts</span><span class="o">=</span><span class="n">sqlhosts</span><span class="p">,</span> <span class="n">is_windows_os</span><span class="o">=</span><span class="n">is_windows_os</span><span class="p">,</span>
            <span class="n">informix_password</span><span class="o">=</span><span class="n">informix_password</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_cosmosdb_sql_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cloud_account</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Creates new Azure CosmosDB SQL API instance</span>
<span class="sd">        Args:</span>
<span class="sd">            cloud_account   (str) : The cloud account that needs to be used for</span>
<span class="sd">                                    configuring instance</span>

<span class="sd">            plan            (str):  The name of the plan</span>

<span class="sd">            content         (list or nested dict):  The content to be selected</span>
<span class="sd">                Default value is &#39;default&#39;, default content set in UI will be used</span>

<span class="sd">                            1. To set complete CosmosDB account as content:</span>

<span class="sd">                            Provide a list of strings of account names</span>
<span class="sd">                                Example: [&#39;cosmos-account-1&#39;, cosmos-account-2]</span>

<span class="sd">                            2. To set one more databases and containers as content:</span>

<span class="sd">                            Provide a nested dictionary containing the account names as keys</span>
<span class="sd">                            and value as another dictionary whose keys are the database names</span>
<span class="sd">                            and values is a LIST of containers under the database</span>
<span class="sd">                                Example:</span>
<span class="sd">                                {</span>
<span class="sd">                                &#39;cosmos-account-1&#39;: {</span>
<span class="sd">                                &#39;database1&#39;:[&#39;container1&#39;, &#39;container2&#39;],</span>
<span class="sd">                                &#39;database2&#39;:[&#39;container3&#39;, &#39;container4&#39;]</span>
<span class="sd">                                        }</span>
<span class="sd">                                &#39;cosmos-account-2&#39;:{</span>
<span class="sd">                                &#39;database3&#39;: [&#39;container5&#39;, &#39;container6&#39;],</span>
<span class="sd">                                &#39;database4&#39;: [&#39;container7&#39;, &#39;container8&#39;]</span>
<span class="sd">                                        }</span>
<span class="sd">                                }</span>

<span class="sd">                            3. To set complete database as content:</span>

<span class="sd">                            Provide the nested dictionary same as above #2 but</span>
<span class="sd">                            in the nested dictionary, provide an empty LIST as value</span>
<span class="sd">                                Example:</span>
<span class="sd">                                    {</span>
<span class="sd">                                &#39;cosmos-account-1&#39;: {</span>
<span class="sd">                                &#39;database1&#39;:[],</span>
<span class="sd">                                        }</span>
<span class="sd">                                &#39;cosmos-account-2&#39;:{</span>
<span class="sd">                                &#39;database2&#39;: [],</span>
<span class="sd">                                &#39;database3&#39;: []</span>
<span class="sd">                                        }</span>
<span class="sd">                                }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_add_cloud_db</span><span class="p">()</span>
        <span class="n">CosmosDBSQLInstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="p">)</span><span class="o">.</span><span class="n">create_instance</span><span class="p">(</span><span class="n">cloud_account</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_oracle_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">,</span> <span class="n">oracle_sid</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span> <span class="n">oracle_home</span><span class="p">,</span>
                            <span class="n">connect_string</span><span class="p">,</span> <span class="n">catalog_connect_string</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds new oracle instance</span>

<span class="sd">            Args:</span>
<span class="sd">                server_name             (str)   --  Server name</span>
<span class="sd">                oracle_sid              (str)   --  Oracle server SID</span>
<span class="sd">                plan                    (str)   --  Plan to be associated with the instance</span>
<span class="sd">                oracle_home             (str)   --  oracle home directory</span>
<span class="sd">                connect_string          (str)   --  Connect string for the server in the format:</span>
<span class="sd">                                                    &lt;Username&gt;/&lt;Password&gt;@&lt;Service Name&gt;</span>
<span class="sd">                catalog_connect_string  (str)   --  Connect string for catalog connect in format:</span>
<span class="sd">                                                    &lt;Username&gt;/&lt;Password&gt;@&lt;Service Name&gt;</span>
<span class="sd">                    default:    None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">credentials</span><span class="p">,</span> <span class="n">service_name</span> <span class="o">=</span> <span class="n">connect_string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
        <span class="n">username</span><span class="p">,</span> <span class="n">password</span> <span class="o">=</span> <span class="n">credentials</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="n">catalog_username</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">catalog_password</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">catalog_service_name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">use_catalog_connect</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">catalog_connect_string</span><span class="p">:</span>
            <span class="n">use_catalog_connect</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">catalog_credentials</span><span class="p">,</span> <span class="n">catalog_service_name</span> <span class="o">=</span> <span class="n">catalog_connect_string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
            <span class="n">catalog_username</span><span class="p">,</span> <span class="n">catalog_password</span> <span class="o">=</span> <span class="n">catalog_credentials</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_instance</span><span class="o">.</span><span class="n">add_oracle_instance</span><span class="p">(</span>
            <span class="n">server_name</span><span class="o">=</span><span class="n">server_name</span><span class="p">,</span> <span class="n">oracle_sid</span><span class="o">=</span><span class="n">oracle_sid</span><span class="p">,</span> <span class="n">plan</span><span class="o">=</span><span class="n">plan</span><span class="p">,</span> <span class="n">oracle_home</span><span class="o">=</span><span class="n">oracle_home</span><span class="p">,</span>
            <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span> <span class="n">service_name</span><span class="o">=</span><span class="n">service_name</span><span class="p">,</span>
            <span class="n">use_catalog_connect</span><span class="o">=</span><span class="n">use_catalog_connect</span><span class="p">,</span> <span class="n">catalog_username</span><span class="o">=</span><span class="n">catalog_username</span><span class="p">,</span>
            <span class="n">catalog_password</span><span class="o">=</span><span class="n">catalog_password</span><span class="p">,</span> <span class="n">catalog_service_name</span><span class="o">=</span><span class="n">catalog_service_name</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">discover_instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database_engine</span><span class="p">,</span> <span class="n">server_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Discovers instances</span>
<span class="sd">            Args:</span>
<span class="sd">                database_engine (DBInstances.Types) --  Use the enum to select any</span>
<span class="sd">                                                        specific database</span>
<span class="sd">                server_name     (str):  Server name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">access_menu_from_dropdown</span><span class="p">(</span><span class="s1">&#39;Discover instances&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="n">select_id</span><span class="o">=</span><span class="s1">&#39;agentTypeSelection&#39;</span><span class="p">,</span>
                                                      <span class="n">value</span><span class="o">=</span><span class="n">database_engine</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__panel_dropdown</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">server_name</span><span class="p">],</span>
                                                      <span class="n">drop_down_id</span><span class="o">=</span><span class="s2">&quot;cvClients&quot;</span><span class="p">,</span>
                                                      <span class="n">partial_selection</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">submit_form</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">backup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">backupset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">subclient</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">backup_type</span><span class="o">=</span><span class="n">Backup</span><span class="o">.</span><span class="n">BackupType</span><span class="o">.</span><span class="n">INCR</span><span class="p">,</span>
               <span class="n">enable_data_for_incremental</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cumulative</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Submits backup job from the subclient page</span>
<span class="sd">        Args:</span>
<span class="sd">            backup_type                 (Backup.BackupType) -- backup type</span>

<span class="sd">            instance                    (str)               -- Name of instance</span>

<span class="sd">            backupset                   (str)               -- Name of backupset</span>
<span class="sd">                None</span>

<span class="sd">            subclient                   (str)               -- Name of subclient</span>
<span class="sd">                None</span>

<span class="sd">            enable_data_for_incremental (bool)              -- flag to check if</span>
<span class="sd">            data needs to be backed up during incremental</span>
<span class="sd">                default: False</span>

<span class="sd">            cumulative                  (bool)              -- flag to check for</span>
<span class="sd">            cumulative backup</span>


<span class="sd">        Returns</span>
<span class="sd">            (str) -- Backup job id</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instances_table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span>
            <span class="n">instance</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.globalActions.backup&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">backupset</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">subclient</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">backupset</span> <span class="o">=</span> <span class="n">instance</span>
        <span class="k">return</span> <span class="n">Backup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="p">)</span><span class="o">.</span><span class="n">submit_backup</span><span class="p">(</span>
            <span class="n">backup_type</span><span class="o">=</span><span class="n">backup_type</span><span class="p">,</span> <span class="n">backupset_name</span><span class="o">=</span><span class="n">backupset</span><span class="p">,</span> <span class="n">subclient_name</span><span class="o">=</span><span class="n">subclient</span><span class="p">,</span>
            <span class="n">incremental_with_data</span><span class="o">=</span><span class="n">enable_data_for_incremental</span><span class="p">,</span> <span class="n">cumulative</span><span class="o">=</span><span class="n">cumulative</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database_type</span><span class="p">,</span> <span class="n">server_name</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">plan</span><span class="p">,</span>
                   <span class="n">unix_group</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">install_location</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">os_type</span><span class="o">=</span><span class="s2">&quot;windows&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to add server of database type</span>
<span class="sd">            Args:</span>
<span class="sd">                database_type   (DBInstances.Types) --  Use the enum to select any</span>
<span class="sd">                                                        specific database</span>

<span class="sd">                server_name     (str)               --  Name of server</span>

<span class="sd">                username        (str)               --  Server username</span>

<span class="sd">                password        (str)               --  Server password</span>

<span class="sd">                plan            (str)               --  Plan to associate to the server</span>

<span class="sd">                unix_group      (str)               --  Unix group to associate the server to</span>

<span class="sd">                install_location(str)               --  Install location on server</span>
<span class="sd">                    default:    None</span>

<span class="sd">                os_type         (str)               --  &quot;windows&quot;/&quot;unix&quot;</span>
<span class="sd">                    default:    &quot;windows&quot;</span>

<span class="sd">            Returns:    job id of add server job launched</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">access_menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s1">&#39;label.installSoftware&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">access_sub_menu</span><span class="p">(</span><span class="n">database_type</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="s1">&#39;windows&#39;</span> <span class="ow">in</span> <span class="n">os_type</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">select_radio</span><span class="p">(</span><span class="s1">&#39;osTypeWINDOWS&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">username</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Include domain in username&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">select_radio</span><span class="p">(</span><span class="s1">&#39;osTypeUNIX&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">unix_group</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;uGroup&quot;</span><span class="p">,</span> <span class="n">unix_group</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;serverName&quot;</span><span class="p">,</span> <span class="n">server_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;userName&quot;</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__panel_dropdown</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span>
            <span class="n">drop_down_id</span><span class="o">=</span><span class="s1">&#39;planSummaryDropdown&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">plan</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">install_location</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;installLocation&quot;</span><span class="p">,</span> <span class="n">install_location</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">submit_form</span><span class="p">()</span>
        <span class="n">_jobid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">get_jobid_from_popup</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">_jobid</span></div>


<div class="viewcode-block" id="DBInstance"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Databases.html#Web.AdminConsole.Databases.db_instances.DBInstance">[docs]</a><span class="k">class</span> <span class="nc">DBInstance</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This class provides the functions or operations that can be performed in common</span>
<span class="sd">    on any DB Instance&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">:</span> <span class="n">AdminConsole</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Class constructor</span>

<span class="sd">            Args:</span>
<span class="sd">                admin_console   (obj)   --  The admin console class object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span> <span class="o">=</span> <span class="n">admin_console</span>

    <span class="nd">@property</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">db_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div>


<span class="k">class</span> <span class="nc">_DBInstanceFeatures</span><span class="p">:</span>

    <span class="k">class</span> <span class="nc">MigrationVendor</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Available Vendor types supported&quot;&quot;&quot;</span>
        <span class="n">AZURE</span> <span class="o">=</span> <span class="s2">&quot;AZURE&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">:</span> <span class="n">AdminConsole</span><span class="p">,</span> <span class="n">db_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Class constructor</span>

<span class="sd">            Args:</span>
<span class="sd">                admin_console   (obj)   --  The admin console class object</span>

<span class="sd">                db_type (str) -- Type of the DB instance</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span> <span class="o">=</span> <span class="n">admin_console</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_db_type</span> <span class="o">=</span> <span class="n">db_type</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">configure_migrate_to_cloud</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vendor</span><span class="p">:</span> <span class="n">MigrationVendor</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Starts the &quot;Migrate to cloud&quot; option of the instance and submits the form</span>

<span class="sd">            Args:</span>
<span class="sd">                vendor      (MigrationVendor)   --  The cloud vendor to migrate the SQL DB to.</span>



<span class="sd">             Returns:</span>
<span class="sd">                 MigrateToCloud   --      an implemented instance of MigrateToCloud</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">factory_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;AZURE&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;SQL Server&quot;</span><span class="p">:</span> <span class="n">MigrateSQLToAzure</span><span class="p">,</span>
                <span class="s2">&quot;Oracle&quot;</span><span class="p">:</span>  <span class="n">MigrateOracleToAzure</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="o">.</span><span class="n">access_menu_from_dropdown</span><span class="p">(</span><span class="s1">&#39;Migrate to cloud&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">factory_dict</span><span class="p">[</span><span class="n">vendor</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">_db_type</span><span class="p">](</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_console</span><span class="p">)</span>


<div class="viewcode-block" id="SQLInstance"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Databases.html#Web.AdminConsole.Databases.db_instances.SQLInstance">[docs]</a><span class="k">class</span> <span class="nc">SQLInstance</span><span class="p">(</span><span class="n">DBInstance</span><span class="p">,</span> <span class="n">_DBInstanceFeatures</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">:</span> <span class="n">AdminConsole</span><span class="p">):</span>
        <span class="n">DBInstance</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">)</span>
        <span class="n">_DBInstanceFeatures</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">db_type</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">db_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;SQL Server&quot;</span></div>


<div class="viewcode-block" id="OracleInstance"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.Databases.html#Web.AdminConsole.Databases.db_instances.OracleInstance">[docs]</a><span class="k">class</span> <span class="nc">OracleInstance</span><span class="p">(</span><span class="n">DBInstance</span><span class="p">,</span> <span class="n">_DBInstanceFeatures</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">:</span> <span class="n">AdminConsole</span><span class="p">):</span>
        <span class="n">DBInstance</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">)</span>
        <span class="n">_DBInstanceFeatures</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">db_type</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">db_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Oracle&quot;</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Commvault Systems Inc. All Rights Reserved

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>