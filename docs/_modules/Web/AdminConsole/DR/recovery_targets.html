

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Web.AdminConsole.DR.recovery_targets &mdash; Commvault Automation 11.24 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home" alt="Documentation Home"> Commvault Automation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"></div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Commvault Automation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
        
      <li>Web.AdminConsole.DR.recovery_targets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for Web.AdminConsole.DR.recovery_targets</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># --------------------------------------------------------------------------</span>
<span class="c1"># Copyright Commvault Systems, Inc.</span>
<span class="c1"># See LICENSE.txt in the project root for</span>
<span class="c1"># license information.</span>
<span class="c1"># --------------------------------------------------------------------------</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This module provides the function or operations that can be performed on the</span>
<span class="sd">recovery targets page of the AdminConsole</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Components.panel</span> <span class="kn">import</span> <span class="p">(</span><span class="n">PanelInfo</span><span class="p">,</span> <span class="n">DropDown</span><span class="p">,</span> <span class="n">ModalPanel</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">Web.Common.exceptions</span> <span class="kn">import</span> <span class="n">CVWebAutomationException</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Components.table</span> <span class="kn">import</span> <span class="n">Table</span>
<span class="kn">from</span> <span class="nn">Web.Common.page_object</span> <span class="kn">import</span> <span class="n">PageService</span><span class="p">,</span> <span class="n">WebAction</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.adminconsole</span> <span class="kn">import</span> <span class="n">AdminConsole</span>
<span class="kn">from</span> <span class="nn">Web.AdminConsole.Components.browse</span> <span class="kn">import</span> <span class="n">ContentBrowse</span><span class="p">,</span> <span class="n">CVAdvancedTree</span>


<div class="viewcode-block" id="TargetConstants"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.DR.html#Web.AdminConsole.DR.recovery_targets.TargetConstants">[docs]</a><span class="k">class</span> <span class="nc">TargetConstants</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Recovery target string constants&quot;&quot;&quot;</span>
    <span class="c1"># vendors</span>
    <span class="n">AMAZON</span> <span class="o">=</span> <span class="s2">&quot;Amazon&quot;</span>
    <span class="n">MICROSOFT_AZURE</span> <span class="o">=</span> <span class="s2">&quot;Microsoft Azure&quot;</span>
    <span class="n">MICROSOFT_HYPERV</span> <span class="o">=</span> <span class="s2">&quot;Microsoft Hyper-V&quot;</span>
    <span class="n">OPENSTACK</span> <span class="o">=</span> <span class="s2">&quot;OpenStack&quot;</span>
    <span class="n">ORACLE_CLOUD_INFRASTRUCTURE</span> <span class="o">=</span> <span class="s2">&quot;Oracle Cloud Infrastructure&quot;</span>
    <span class="n">VMWARE_VCENTER</span> <span class="o">=</span> <span class="s2">&quot;VMware vCenter&quot;</span>

    <span class="c1"># Application Type</span>
    <span class="n">REPLICATION</span> <span class="o">=</span> <span class="s2">&quot;Replication&quot;</span>
    <span class="n">REGULAR</span> <span class="o">=</span> <span class="s2">&quot;Regular&quot;</span></div>


<span class="k">class</span> <span class="nc">_RecoveryTargetCommon</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;All component on recovery targets class should inherit this class&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">vendor</span><span class="p">,</span> <span class="n">application_type</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span> <span class="o">=</span> <span class="n">admin_console</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="p">:</span> <span class="n">admin_console</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">admin_console</span><span class="o">.</span><span class="n">driver</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__recovery_target_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__vendor</span> <span class="o">=</span> <span class="n">vendor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__application_type</span> <span class="o">=</span> <span class="n">application_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span> <span class="o">=</span> <span class="n">DropDown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_modal_panel</span> <span class="o">=</span> <span class="n">ModalPanel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_browse</span> <span class="o">=</span> <span class="n">ContentBrowse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">vendor</span><span class="p">:</span>
            <span class="c1"># For edit panel vendor will be None as this is not editable field</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">select_vendor</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">application_type</span><span class="p">:</span>
            <span class="c1"># For edit panel application_type will be None as this is not editable field</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">select_application_type</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
            <span class="c1"># For edit panel target name might not be edited, in that case name will be None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_recovery_target_name</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">vendor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Vendor name&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">application_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Application type&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__application_type</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">recovery_target_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get recovery target name&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__recovery_target_name</span>

    <span class="nd">@recovery_target_name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">recovery_target_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__recovery_target_name</span> <span class="o">=</span> <span class="n">recovery_target_name</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">set_recovery_target_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set recovery target name</span>
<span class="sd">        Args:</span>
<span class="sd">            name =  Str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_name</span><span class="p">(</span><span class="s1">&#39;replicationTargetName&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">recovery_target_name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_name</span><span class="p">(</span><span class="s1">&#39;replicationTargetName&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_vendor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Select vendor from TargetConstants vendors</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">drop_down_id</span> <span class="o">=</span> <span class="s1">&#39;vendorTypes&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">vendor</span><span class="p">],</span> <span class="n">drop_down_id</span><span class="o">=</span><span class="n">drop_down_id</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_application_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Select vendor type TargetConstants vendor type</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">drop_down_id</span> <span class="o">=</span> <span class="s1">&#39;applicationTypeSelection&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">application_type</span><span class="p">],</span>
                                                <span class="n">drop_down_id</span><span class="o">=</span><span class="n">drop_down_id</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_destination_hypervisor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set destination hypervisor</span>
<span class="sd">        Args:</span>
<span class="sd">            name(str): set destination hypervisor name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">drop_down_id</span> <span class="o">=</span> <span class="s1">&#39;client&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">name</span><span class="p">],</span> <span class="n">drop_down_id</span><span class="o">=</span><span class="n">drop_down_id</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_users_and_user_groups</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Select users and user groups</span>
<span class="sd">        Args:</span>
<span class="sd">            values(list): list of users and user groups</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">drop_down_id</span> <span class="o">=</span> <span class="s1">&#39;usersAndUserGroups&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">drop_down_id</span><span class="o">=</span><span class="n">drop_down_id</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__set_display_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set display name&quot;&quot;&quot;</span>
        <span class="n">xpath</span> <span class="o">=</span> <span class="s2">&quot;(//*[@name=&#39;displayNamePrefixSuffix&#39;])[3]&quot;</span>
        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)</span>
        <span class="n">element</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">set_vm_display_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set display name</span>
<span class="sd">        Args:</span>
<span class="sd">            name(str): Display name</span>
<span class="sd">            suffix(bool): if False &#39;prefix&#39; will be selected otherwise suffix will be selected</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">suffix</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_radio</span><span class="p">(</span><span class="s1">&#39;azureDisplayNameSuffix&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_radio</span><span class="p">(</span><span class="s1">&#39;azureDisplayNamePrefix&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__set_display_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Click on add&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_table</span><span class="o">.</span><span class="n">access_toolbar_menu</span><span class="p">(</span><span class="s2">&quot;AddReplicationTargetButton&quot;</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_access_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Select access node</span>
<span class="sd">        Args:</span>
<span class="sd">            node(str): specify access node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">drop_down_id</span> <span class="o">=</span> <span class="s1">&#39;selectProxy_isteven-multi-select_#6148&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">node</span><span class="p">],</span> <span class="n">drop_down_id</span><span class="o">=</span><span class="n">drop_down_id</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">is_field_disabled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks if field is disabled&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;//select[@name=&#39;</span><span class="si">{</span><span class="n">field_id</span><span class="si">}</span><span class="s2">&#39;]//option&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="nb">bool</span><span class="p">([</span><span class="n">element</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;//select[@name=&#39;</span><span class="si">{</span><span class="n">field_id</span><span class="si">}</span><span class="s2">&#39;]//option&quot;</span><span class="p">)</span>
                          <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">])</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span>
                    <span class="n">find_element_by_xpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;//select[@name=&#39;</span><span class="si">{</span><span class="n">field_id</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="n">field_id</span><span class="si">}</span><span class="s2">&#39;]//button&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="n">field_id</span><span class="si">}</span><span class="s2">&#39;]//button&quot;</span><span class="p">)</span>
                        <span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;ng-disabled&#39;</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;//input[@name=&#39;</span><span class="si">{</span><span class="n">field_id</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">):</span>
            <span class="n">disabled_attr</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;//input[@name=&#39;</span><span class="si">{</span><span class="n">field_id</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">)</span>
                             <span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;data-ng-disabled&#39;</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">disabled_attr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="s2">&quot;editMode&quot;</span> <span class="ow">in</span> <span class="n">disabled_attr</span>
        <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;In the edit VM, the field with id </span><span class="si">{</span><span class="n">field_id</span><span class="si">}</span><span class="s1"> does not exist&#39;</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Save target&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_modal_panel</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Save target&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_modal_panel</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">_VMWareRecoveryTarget</span><span class="p">(</span><span class="n">_RecoveryTargetCommon</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class for Recovery targets Page&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="p">,</span> <span class="n">application_type</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">admin_console</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">vendor</span><span class="p">,</span> <span class="n">application_type</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">vendor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Vendor name&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TargetConstants</span><span class="o">.</span><span class="n">VMWARE_VCENTER</span>

    <span class="c1"># -------------------  General Options -------------------------------------------------------</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">set_destination_host</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">host</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set destination host</span>
<span class="sd">        Args:</span>
<span class="sd">            host(str): set destination host name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_by_id</span><span class="p">(</span><span class="s1">&#39;selectVMwareEsxHost_button_#9930&#39;</span><span class="p">)</span>  <span class="c1"># click Browse</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_destination_host</span><span class="p">(</span><span class="n">host</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button</span><span class="p">(</span><span class="s1">&#39;OK&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_datastore</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">datastore</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Select datastore</span>
<span class="sd">        Args:</span>
<span class="sd">            datastore(str): datastore name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">drop_down_id</span> <span class="o">=</span> <span class="s1">&#39;dataStore&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">datastore</span><span class="p">],</span> <span class="n">drop_down_id</span><span class="o">=</span><span class="n">drop_down_id</span><span class="p">,</span>
                                                <span class="n">partial_selection</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_resource_pool</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_pool_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Select resource pool</span>
<span class="sd">        Args:</span>
<span class="sd">            resource_pool_name(str): select resource pool name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s1">&#39;resourcePool&#39;</span><span class="p">,</span> <span class="n">resource_pool_name</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">set_vm_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set vm folder</span>
<span class="sd">        Args:</span>
<span class="sd">            name(str): vm folder name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_by_id</span><span class="p">(</span><span class="s1">&#39;selectVMwareFolder_button_#3728&#39;</span><span class="p">)</span>  <span class="c1"># click Browse</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_destination_host</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button</span><span class="p">(</span><span class="s1">&#39;OK&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_destination_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">destination_network</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        select destination network</span>
<span class="sd">        Args:</span>
<span class="sd">            destination_network(str): select destination network</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">drop_down_id</span> <span class="o">=</span> <span class="s1">&#39;networkSettingsDestination&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">destination_network</span><span class="p">],</span>
                                                <span class="n">drop_down_id</span><span class="o">=</span><span class="n">drop_down_id</span><span class="p">)</span>

    <span class="c1"># -------------------  Test failover options --------------------------------------------------</span>
    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">set_expiration_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expiration_interval</span><span class="p">,</span> <span class="n">select_days</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        set expiration time</span>
<span class="sd">        Args:</span>
<span class="sd">            expiration_interval(int): specify expiration time</span>
<span class="sd">            select_days(Bool): select days otherwise &#39;Hour(s)&#39; will be selected</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">select_days</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__select_days</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_name</span><span class="p">(</span><span class="s1">&#39;expirationTimeInDays&#39;</span><span class="p">,</span> <span class="n">expiration_interval</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_name</span><span class="p">(</span><span class="s1">&#39;expirationTimeInHours&#39;</span><span class="p">,</span> <span class="n">expiration_interval</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__select_days</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Select Day(s) in expiration time&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_radio</span><span class="p">(</span><span class="s1">&#39;expirationTimeDays&#39;</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_mediaagent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mediaagent</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Select media agent</span>
<span class="sd">        Args:</span>
<span class="sd">            mediaagent(str): specify the media agent to be selected</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">drop_down_id</span> <span class="o">=</span> <span class="s1">&#39;mediaAgent&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">mediaagent</span><span class="p">],</span>
                                                <span class="n">drop_down_id</span><span class="o">=</span><span class="n">drop_down_id</span><span class="p">)</span>

    <span class="c1"># -----------------------  Virtual lab options  ----------------------------------------------</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_configure_isolated_network</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Select configure isolated network&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_radio</span><span class="p">(</span><span class="s1">&#39;isolatedNetwork&#39;</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_configure_existing_network</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Select configure existing network&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_radio</span><span class="p">(</span><span class="s1">&#39;existingNetwork&#39;</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">set_gateway_template</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set gateway template</span>
<span class="sd">        Args:</span>
<span class="sd">            name(str): Gateway template name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_by_id</span><span class="p">(</span><span class="s1">&#39;vmLCPolicyVMWare_button_#1871&#39;</span><span class="p">)</span>  <span class="c1"># click Browse</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_destination_host</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button</span><span class="p">(</span><span class="s1">&#39;OK&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_gateway_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Select gateway network</span>
<span class="sd">        Args:</span>
<span class="sd">            network(str):specify the gateway netwrok</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">drop_down_id</span> <span class="o">=</span> <span class="s1">&#39;gatewayNetwork&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">network</span><span class="p">],</span>
                                                <span class="n">drop_down_id</span><span class="o">=</span><span class="n">drop_down_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">select_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        select a network when &#39;Configure existing network is selected&#39;</span>
<span class="sd">        Args:</span>
<span class="sd">            network(str): select network</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">drop_down_id</span> <span class="o">=</span> <span class="s1">&#39;existingNetwork&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">network</span><span class="p">],</span>
                                                <span class="n">drop_down_id</span><span class="o">=</span><span class="n">drop_down_id</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">_EditVMWareRecoveryTarget</span><span class="p">(</span><span class="n">_VMWareRecoveryTarget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Edit vmware recovery target&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">admin_console</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">application_type</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">vendor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Vendor name&quot;&quot;&quot;</span>
        <span class="c1"># In recovery target edit panel, vendor is not editable field, so setting it as None so</span>
        <span class="c1"># that in base class(_VMWareRecoveryTarget) vendor selection should not be called</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">application_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Application type&quot;&quot;&quot;</span>
        <span class="c1"># In recovery target edit panel, vendor is not editable field, so setting it as None so</span>
        <span class="c1"># that in baseclass(_VMWareRecoveryTarget) application_type selection should not be called</span>
        <span class="k">return</span> <span class="kc">None</span>


<span class="k">class</span> <span class="nc">_AzureRecoveryTarget</span><span class="p">(</span><span class="n">_RecoveryTargetCommon</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class for creating a Azure Recovery Target in DR&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">:</span> <span class="n">AdminConsole</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span> <span class="n">application_type</span><span class="p">:</span> <span class="nb">str</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialises the recovery target class for Azure VMs</span>
<span class="sd">        application_type: Either &#39;Regular&#39; or &#39;Replication&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_AzureRecoveryTarget</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">admin_console</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">vendor</span><span class="p">,</span> <span class="n">application_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_advanced_tree</span> <span class="o">=</span> <span class="n">CVAdvancedTree</span><span class="p">(</span><span class="n">admin_console</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">_load_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">vendor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The vendor name of the recovery target&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TargetConstants</span><span class="o">.</span><span class="n">MICROSOFT_AZURE</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">expand_options</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Expands the additional options tab&quot;&quot;&quot;</span>
        <span class="n">xpath</span> <span class="o">=</span> <span class="s2">&quot;//a[@role=&#39;button&#39;]//span//i[contains(@class, &#39;chevron-right&#39;)]&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_resource_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_group</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the resource group if it is available&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s2">&quot;azureContainer&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">resource_group</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_region</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">region_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the region for the resource group&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s2">&quot;azureRegion&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">region_name</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_storage_account</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">storage_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the storage account for the resource group&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">drop_down_id</span><span class="o">=</span><span class="s2">&quot;azureStorageAccount&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">storage_name</span><span class="p">])</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">set_vm_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vm_size</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the VM size in additional options</span>
<span class="sd">            vm_size: Usually Standard_* or Basic_*</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">vm_size</span><span class="p">:</span>
            <span class="n">vm_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">[</span><span class="s1">&#39;label.autoSelect&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s2">&quot;azureVmSize&quot;</span><span class="p">,</span> <span class="n">vm_size</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_disk_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">disk_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the disk type&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s2">&quot;azureDiskTypeModel&quot;</span><span class="p">,</span> <span class="n">disk_type</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_virtual_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the virtual gateway network&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">network</span><span class="p">:</span>
            <span class="n">network</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">[</span><span class="s1">&#39;label.autoSelect&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">drop_down_id</span><span class="o">=</span><span class="s2">&quot;selectVirtualNetworkAzure_isteven-multi-select_#2554&quot;</span><span class="p">,</span>
                                                <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">network</span><span class="p">],</span> <span class="n">partial_selection</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">set_security_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">security_group_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the security group for the resource group&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">security_group_name</span><span class="p">:</span>
            <span class="n">security_group_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">[</span><span class="s1">&#39;label.autoSelect&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">drop_down_id</span><span class="o">=</span><span class="s1">&#39;azureSecurityGroup_isteven-multi-select&#39;</span><span class="p">,</span>
                                                <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">security_group_name</span><span class="p">])</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">set_public_ip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">create</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets whether to create a public IP&quot;&quot;&quot;</span>
        <span class="n">checkbox_id</span> <span class="o">=</span> <span class="s2">&quot;createPublicIp&quot;</span>
        <span class="k">if</span> <span class="n">create</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">checkbox_select</span><span class="p">(</span><span class="n">checkbox_id</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">checkbox_deselect</span><span class="p">(</span><span class="n">checkbox_id</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">restore_as_managed_vm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks the box for restore as a managed VM, only applicable for &#39;Replication&#39; application type&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">enable</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">checkbox_select</span><span class="p">(</span><span class="s2">&quot;restoreAsManagedVM&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">checkbox_deselect</span><span class="p">(</span><span class="s2">&quot;restoreAsManagedVM&quot;</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">set_expiration_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expiration_time</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the expiration time in hours or days&quot;&quot;&quot;</span>
        <span class="n">num</span><span class="p">,</span> <span class="n">unit</span> <span class="o">=</span> <span class="n">expiration_time</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="k">if</span> <span class="s1">&#39;hour&#39;</span> <span class="ow">in</span> <span class="n">unit</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_radio</span><span class="p">(</span><span class="s2">&quot;expirationTimeHoursAz&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;expirationTimeInHours&quot;</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">select_radio</span><span class="p">(</span><span class="s2">&quot;expirationTimeDaysAz&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">fill_form_by_id</span><span class="p">(</span><span class="s2">&quot;expirationTimeInDaysAz&quot;</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_test_virtual_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">virtual_network</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the test virtual network&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">virtual_network</span><span class="p">:</span>
            <span class="n">virtual_network</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">[</span><span class="s1">&#39;label.autoSelect&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">drop_down_id</span><span class="o">=</span><span class="s1">&#39;selectVirtualTestNetworkAzure&#39;</span><span class="p">,</span>
                                                <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">virtual_network</span><span class="p">])</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_test_vm_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vm_size</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the test virtual network&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">vm_size</span><span class="p">:</span>
            <span class="n">vm_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">[</span><span class="s1">&#39;label.autoSelect&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">drop_down_id</span><span class="o">=</span><span class="s1">&#39;azureTestVMSize&#39;</span><span class="p">,</span>
                                                <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">vm_size</span><span class="p">])</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_templates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">template_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the template path from the template browser, only applicable for &#39;Regular&#39; application type</span>
<span class="sd">        template_path   (list): List of strings delimited by &#39;\&#39; or &#39;/&#39; to be selected</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_advanced_tree</span><span class="o">.</span><span class="n">select_elements_by_full_path</span><span class="p">(</span><span class="n">template_path</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">_EditAzureRecoveryTarget</span><span class="p">(</span><span class="n">_AzureRecoveryTarget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class for editing a Azure Recovery Target&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">:</span> <span class="n">AdminConsole</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialises the class for editing recovery target&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_EditAzureRecoveryTarget</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">admin_console</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">application_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">vendor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The vendor name is returned as None, as it is uneditable&quot;&quot;&quot;</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">select_resource_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_group</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Not editable&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Azure resource group is not editable&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">select_region</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">region_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Not editable&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Region name is not editable&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">select_availability_zone</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">zone</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Not editable&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Availability zone is not editable&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">select_storage_account</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">storage_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Not editable&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Storage account is not editable&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">_HyperVRecoveryTarget</span><span class="p">(</span><span class="n">_RecoveryTargetCommon</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class for Recovery targets Page&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="p">,</span> <span class="n">application_type</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">admin_console</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">vendor</span><span class="p">,</span> <span class="n">application_type</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">vendor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Vendor name&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TargetConstants</span><span class="o">.</span><span class="n">MICROSOFT_HYPERV</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">set_destination_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set destination path</span>
<span class="sd">        Args:</span>
<span class="sd">            path(str): set destination path name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">checkbox_deselect</span><span class="p">(</span><span class="s1">&#39;restoreLocation&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">click_button</span><span class="p">(</span><span class="s1">&#39;Browse&#39;</span><span class="p">)</span>  <span class="c1"># click Browse</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_browse</span><span class="o">.</span><span class="n">select_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_browse</span><span class="o">.</span><span class="n">save_path</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Select network</span>
<span class="sd">        Args:</span>
<span class="sd">            network(str): network name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">drop_down_id</span> <span class="o">=</span> <span class="s1">&#39;networkName&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">network</span><span class="p">],</span> <span class="n">drop_down_id</span><span class="o">=</span><span class="n">drop_down_id</span><span class="p">,</span> <span class="n">partial_selection</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">_EditHyperVRecoveryTarget</span><span class="p">(</span><span class="n">_HyperVRecoveryTarget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Edit Microsoft Hyper V recovery target&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">admin_console</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">application_type</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">vendor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Vendor name&quot;&quot;&quot;</span>
        <span class="c1"># In recovery target edit panel, vendor is not editable field</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">application_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Application type&quot;&quot;&quot;</span>
        <span class="c1"># In recovery target edit panel, application Type is not editable field</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_destination_hypervisor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;In recovery target edit panel, Not editable destination Hyper&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span>


<div class="viewcode-block" id="RecoveryTargets"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.DR.html#Web.AdminConsole.DR.recovery_targets.RecoveryTargets">[docs]</a><span class="k">class</span> <span class="nc">RecoveryTargets</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Operations on recovery target page&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span> <span class="o">=</span> <span class="n">admin_console</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="p">:</span> <span class="n">admin_console</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">admin_console</span><span class="o">.</span><span class="n">driver</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">configure_vmware_recovery_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="p">,</span> <span class="n">application_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configure vmware recovery target&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span><span class="s1">&#39;Add&#39;</span><span class="p">)</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_VMWareRecoveryTarget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="p">,</span> <span class="n">application_type</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">configure_azure_recovery_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                        <span class="n">application_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_AzureRecoveryTarget</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Configures an Azure Recovery Target&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span><span class="s1">&#39;Add&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">_AzureRecoveryTarget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="p">,</span> <span class="n">application_type</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">configure_hyperv_recovery_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="p">,</span> <span class="n">application_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configure Microsoft Hyperv recovery target&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span><span class="s1">&#39;Add&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">_HyperVRecoveryTarget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="p">,</span> <span class="n">application_type</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">access_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Access specified recovery target</span>
<span class="sd">        Args:</span>
<span class="sd">            target_name(Str): recovery target name</span>
<span class="sd">        Returns: TargetDetails object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_target</span><span class="p">(</span><span class="n">target_name</span><span class="p">):</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">TargetDetails</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span><span class="n">target_name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">target</span>
        <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span><span class="s2">&quot;Target [</span><span class="si">%s</span><span class="s2">] does not exists&quot;</span> <span class="o">%</span> <span class="n">target_name</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">has_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check recovery target exists</span>
<span class="sd">        Args:</span>
<span class="sd">            target_name(str): Specify recovery target name</span>
<span class="sd">        Returns(bool):True if target exists else returns false</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">is_entity_present_in_column</span><span class="p">(</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="n">target_name</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">delete_recovery_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete recovery target&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_target</span><span class="p">(</span><span class="n">target_name</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">access_action_item</span><span class="p">(</span><span class="n">target_name</span><span class="p">,</span> <span class="s1">&#39;Delete&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">click_button</span><span class="p">(</span><span class="s1">&#39;Yes&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span><span class="s2">&quot;Target [</span><span class="si">%s</span><span class="s2">] does not exists to delete&quot;</span> <span class="o">%</span> <span class="n">target_name</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">get_target_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read specified recovery target all the column fields</span>
<span class="sd">        Args:</span>
<span class="sd">            target_name(str): Recovery target name</span>
<span class="sd">        Returns(dict): table content of specified recovery target</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">apply_filter_over_column</span><span class="p">(</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="n">target_name</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__table</span><span class="o">.</span><span class="n">get_table_data</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">data</span>
        <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span><span class="s2">&quot;Recovery Target [</span><span class="si">%s</span><span class="s2">] does not exists in Recovery &quot;</span>
                                       <span class="s2">&quot;Targets Page&quot;</span> <span class="o">%</span> <span class="n">target_name</span><span class="p">)</span></div>


<div class="viewcode-block" id="TargetDetails"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.DR.html#Web.AdminConsole.DR.recovery_targets.TargetDetails">[docs]</a><span class="k">class</span> <span class="nc">TargetDetails</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Target details page operations&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span> <span class="o">=</span> <span class="n">admin_console</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">get_target_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Read recovery target summary panel&quot;&quot;&quot;</span>
        <span class="n">summary_panel</span> <span class="o">=</span> <span class="n">PanelInfo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">,</span> <span class="s1">&#39;Summary&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">summary_panel</span><span class="o">.</span><span class="n">get_details</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">edit_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hypervisor_type</span><span class="o">=</span><span class="n">TargetConstants</span><span class="o">.</span><span class="n">VMWARE_VCENTER</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Edit target</span>
<span class="sd">        Args:</span>
<span class="sd">            name(str): specify name to be updated</span>
<span class="sd">            hypervisor_type(str): The type of hypervisor to edit</span>
<span class="sd">        Returns:_EditVMWareRecoveryTarget object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">summary_panel</span> <span class="o">=</span> <span class="n">PanelInfo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">,</span> <span class="s1">&#39;Summary&#39;</span><span class="p">)</span>
        <span class="n">summary_panel</span><span class="o">.</span><span class="n">edit_tile</span><span class="p">()</span>
        <span class="n">target</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">hypervisor_type</span> <span class="o">==</span> <span class="n">TargetConstants</span><span class="o">.</span><span class="n">VMWARE_VCENTER</span><span class="p">:</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">_EditVMWareRecoveryTarget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">hypervisor_type</span> <span class="o">==</span> <span class="n">TargetConstants</span><span class="o">.</span><span class="n">MICROSOFT_AZURE</span><span class="p">:</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">_EditAzureRecoveryTarget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">hypervisor_type</span> <span class="o">==</span> <span class="n">TargetConstants</span><span class="o">.</span><span class="n">MICROSOFT_HYPERV</span><span class="p">:</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">_EditHyperVRecoveryTarget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="p">,</span> <span class="n">recovery_target_name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">target</span></div>


<div class="viewcode-block" id="RecoveryPointStore"><a class="viewcode-back" href="../../../../source/Web.AdminConsole.DR.html#Web.AdminConsole.DR.recovery_targets.RecoveryPointStore">[docs]</a><span class="k">class</span> <span class="nc">RecoveryPointStore</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Class for recovery point store configuration for continuous mode replication pairs&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_console</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            admin_console: adminconsole base object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span> <span class="o">=</span> <span class="n">admin_console</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span> <span class="o">=</span> <span class="n">admin_console</span><span class="o">.</span><span class="n">driver</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__modal_panel</span> <span class="o">=</span> <span class="n">ModalPanel</span><span class="p">(</span><span class="n">admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__drop_down</span> <span class="o">=</span> <span class="n">DropDown</span><span class="p">(</span><span class="n">admin_console</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__browse</span> <span class="o">=</span> <span class="n">ContentBrowse</span><span class="p">(</span><span class="n">admin_console</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">_load_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">]</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_new_rpstore_button</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Click the hyperlink by finding using the title</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">[</span><span class="s1">&#39;label.createRPStore&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;//*[@title=&#39;</span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__fill_form_password</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enters the password for the network path</span>
<span class="sd">        Args:</span>
<span class="sd">            value (str): The password value for the network path access</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s1">&#39;//input[@type=&quot;password&quot;]&#39;</span><span class="p">)</span>
        <span class="n">element</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__click_interval_link</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clicks the peak interval hyperlink to open the interval selection window&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//*[@class=&#39;backup-window-list&#39;]//li&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__get_all_intervals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">day</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns all the interval elements for a day&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="s2">&quot;//a[contains(text(),&#39;</span><span class="si">{}</span><span class="s2">&#39;)]/../../&quot;</span>
                                                    <span class="s2">&quot;td[contains(@class, &#39;week-time&#39;)]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">day</span><span class="p">))</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__create_store_button_click</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Recovery Store Creation Page Create Button click&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;//*[@id=&#39;addRPStore_button_#9443&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@WebAction</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__time_picker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">picker</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Picks a time for an interval for the selected time picker</span>
<span class="sd">        picker        : Picker element produced by driver</span>
<span class="sd">        time        (str): Time interval for the picker</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">time</span><span class="p">,</span> <span class="n">unit</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">picker</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="n">time_element</span> <span class="o">=</span> <span class="n">picker</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">&quot;.//div/div[@class=&#39;popover-inner&#39;]/div//div[2]/input&quot;</span><span class="p">)</span>
        <span class="n">time_element</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">time_element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span>
            <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">unit</span><span class="p">],</span>
            <span class="n">drop_down_id</span><span class="o">=</span><span class="s2">&quot;cvTimeRelativePicker_isteven-multi-select_#6209&quot;</span><span class="p">)</span>
        <span class="n">picker</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__peak_interval_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">peak_interval</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects the intervals which are marked as peak for the recovery point store</span>
<span class="sd">        Args:</span>
<span class="sd">            peak_interval (dict): the intervals at which recovery point store is marked at peak</span>
<span class="sd">                Must be a dict of keys as days, and values as list of date time ids(0-23)</span>
<span class="sd">                eg: {&#39;Monday&#39;: [0,1,2,3], &#39;Tuesday&#39;: [0,1,2,3], &#39;Wednesday&#39;: [0,1,2,3]}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_interval_link</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">select_hyperlink</span><span class="p">(</span><span class="s2">&quot;Clear&quot;</span><span class="p">)</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="n">peak_interval</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="n">days</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Monday&quot;</span><span class="p">,</span> <span class="s2">&quot;Tuesday&quot;</span><span class="p">,</span> <span class="s2">&quot;Wednesday&quot;</span><span class="p">,</span> <span class="s2">&quot;Thursday&quot;</span><span class="p">,</span> <span class="s2">&quot;Friday&quot;</span><span class="p">,</span> <span class="s2">&quot;Saturday&quot;</span><span class="p">,</span> <span class="s2">&quot;Sunday&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">day</span> <span class="ow">in</span> <span class="n">days</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">day</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                <span class="n">intervals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_all_intervals</span><span class="p">(</span><span class="n">day</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">slot</span> <span class="ow">in</span> <span class="n">peak_interval</span><span class="p">[</span><span class="n">day</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="s2">&quot;selected&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">intervals</span><span class="p">[</span><span class="n">slot</span><span class="p">]</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">):</span>
                        <span class="n">intervals</span><span class="p">[</span><span class="n">slot</span><span class="p">]</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__modal_panel</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_pick_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">picker_id</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This page service is used to select a time picker on the basis of label or id and then pick the time</span>
<span class="sd">        Args:</span>
<span class="sd">            picker_id (str): ID of the picker</span>
<span class="sd">            time      (str): If time is given, the checkbox is selected(only for optional time pickers)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">picker_xpath</span> <span class="o">=</span> <span class="s2">&quot;//*[@</span><span class="si">{}</span><span class="s2">=&#39;</span><span class="si">{}</span><span class="s2">&#39;]/../../div[2]/div&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">picker_xpath</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">picker_id</span><span class="p">)):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">time</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">checkbox_deselect</span><span class="p">(</span><span class="n">picker_id</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">checkbox_select</span><span class="p">(</span><span class="n">picker_id</span><span class="p">)</span>
            <span class="n">picker</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">picker_xpath</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">picker_id</span><span class="p">))</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">check_if_entity_exists</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">picker_xpath</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;for&quot;</span><span class="p">,</span> <span class="n">picker_id</span><span class="p">)):</span>
            <span class="n">picker</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="n">picker_xpath</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;for&quot;</span><span class="p">,</span> <span class="n">picker_id</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span><span class="s2">&quot;No time picker available with this ID&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__time_picker</span><span class="p">(</span><span class="n">picker</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_recovery_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recovery_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the recovery type from the dropdown</span>
<span class="sd">        Args:</span>
<span class="sd">            recovery_type (int): 0 for latest recovery, 1 for point in time recovery</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">recovery_types</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">[</span><span class="s1">&#39;label.recoveryLive&#39;</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">[</span><span class="s1">&#39;label.recoveryGranular&#39;</span><span class="p">]]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span>
            <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">recovery_types</span><span class="p">[</span><span class="n">recovery_type</span><span class="p">]],</span>
            <span class="n">drop_down_id</span><span class="o">=</span><span class="s2">&quot;selectRecoveryOptions_isteven-multi-select_#1569&quot;</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">select_store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks the recovery point store list to select the recovery point store</span>
<span class="sd">        Args:</span>
<span class="sd">            name (str): Name of the store</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__drop_down</span><span class="o">.</span><span class="n">select_drop_down_values</span><span class="p">(</span>
            <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">name</span><span class="p">],</span>
            <span class="n">drop_down_id</span><span class="o">=</span><span class="s1">&#39;selectRecoveryOptions_isteven-multi-select_#1717&#39;</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">create_recovery_store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">media_agent</span><span class="p">,</span> <span class="n">max_size</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">path_type</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                              <span class="n">path_username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">path_password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">peak_interval</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            name            (str): name of the recovery point store</span>
<span class="sd">            media_agent     (str): name of the media agent on which the store will reside on</span>
<span class="sd">            max_size        (int): the maximum size of the recovery point store in GB</span>
<span class="sd">            path            (str): the path at which the store will be present</span>
<span class="sd">            path_type       (str): the path type as &#39;Local path&#39; or &#39;Network path&#39;</span>
<span class="sd">            path_username   (str): the path access username, only for network path</span>
<span class="sd">            path_password   (str): the path access password, only for network path</span>
<span class="sd">            peak_interval  (dict): the intervals at which recovery point store is marked at peak</span>
<span class="sd">                Must be a dict of keys as days, and values as list of date time ids(0-23)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__click_new_rpstore_button</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">fill_form_by_name</span><span class="p">(</span><span class="s2">&quot;libraryName&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">select_value_from_dropdown</span><span class="p">(</span><span class="s1">&#39;mediaAgent&#39;</span><span class="p">,</span> <span class="n">media_agent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">fill_form_by_name</span><span class="p">(</span><span class="s2">&quot;maxThreshold&quot;</span><span class="p">,</span> <span class="n">max_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">check_radio_button</span><span class="p">(</span><span class="n">path_type</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">path_type</span><span class="p">:</span>
            <span class="n">path_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">[</span><span class="s1">&#39;Local_Path&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">path_type</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">[</span><span class="s1">&#39;Local_Path&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">click_button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">[</span><span class="s1">&#39;Browse&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__browse</span><span class="o">.</span><span class="n">select_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__browse</span><span class="o">.</span><span class="n">save_path</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">path_type</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">[</span><span class="s1">&#39;Network_Path&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">fill_form_by_name</span><span class="p">(</span><span class="s2">&quot;loginName&quot;</span><span class="p">,</span> <span class="n">path_username</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__fill_form_password</span><span class="p">(</span><span class="n">path_password</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">peak_interval</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__peak_interval_selection</span><span class="p">(</span><span class="n">peak_interval</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">check_error_message</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__create_store_button_click</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">check_error_message</span><span class="p">()</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">configure_intervals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ccrp</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">acrp</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Configures the recovery point store interval options</span>
<span class="sd">        Args:</span>
<span class="sd">            ccrp      (str): Crash consistent recovery points interval &#39;&lt;time&gt; &lt;unit&gt;&#39;</span>
<span class="sd">                             unit -&gt; (&#39;seconds&#39;, &#39;minutes&#39;, &#39;days&#39;, &#39;hours&#39;)</span>
<span class="sd">            acrp      (str): Application Consistent recovery points interval &#39;&lt;time&gt; &lt;unit&gt;&#39;</span>
<span class="sd">                             unit -&gt; (&#39;seconds&#39;, &#39;minutes&#39;, &#39;days&#39;, &#39;hours&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">ccrp</span> <span class="ow">or</span> <span class="n">acrp</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">CVWebAutomationException</span><span class="p">(</span><span class="s2">&quot;Either CCRP or ACRP must be set&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_pick_time</span><span class="p">(</span><span class="s2">&quot;useCcrp&quot;</span><span class="p">,</span> <span class="n">ccrp</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pick_time</span><span class="p">(</span><span class="s2">&quot;useAcrp&quot;</span><span class="p">,</span> <span class="n">acrp</span><span class="p">)</span>

    <span class="nd">@PageService</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">configure_retention</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">retention</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">merge_delay</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">max_rp_interval</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_rp_offline</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">off_peak_only</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            retention            (str): Duration for which a recovery point is retained for</span>
<span class="sd">            merge               (bool): Whether to merge recovery points</span>
<span class="sd">            merge_delay          (str): Merge recovery points older than this interval</span>
<span class="sd">            max_rp_interval      (str): Recovery point max retention interval</span>
<span class="sd">            max_rp_offline       (str): After what time to switch to latest recovery if RPstore is offline</span>
<span class="sd">            off_peak_only       (bool): Whether to prune and merge only on non-peak time</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pick_time</span><span class="p">(</span><span class="s2">&quot;useRpRetention&quot;</span><span class="p">,</span> <span class="n">retention</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">merge</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">checkbox_select</span><span class="p">(</span><span class="s2">&quot;useRpMerge&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_pick_time</span><span class="p">(</span><span class="s2">&quot;useRpMergeDelay&quot;</span><span class="p">,</span> <span class="n">merge_delay</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pick_time</span><span class="p">(</span><span class="s2">&quot;useMaxRpInterval&quot;</span><span class="p">,</span> <span class="n">max_rp_interval</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pick_time</span><span class="p">(</span><span class="s2">&quot;useMaxRpStoreOfflineTime&quot;</span><span class="p">,</span> <span class="n">max_rp_offline</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">off_peak_only</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">checkbox_select</span><span class="p">(</span><span class="s2">&quot;useOffPeakSchedule&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__admin_console</span><span class="o">.</span><span class="n">checkbox_deselect</span><span class="p">(</span><span class="s2">&quot;useOffPeakSchedule&quot;</span><span class="p">)</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Commvault Systems Inc. All Rights Reserved

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>