

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FileSystem.FSUtils package &mdash; Commvault Automation 11.20 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Commvault Automation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">FileSystem.FSUtils package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-FileSystem.FSUtils.fs_constants">FileSystem.FSUtils.fs_constants module</a></li>
<li><a class="reference internal" href="#module-FileSystem.FSUtils.fshelper">FileSystem.FSUtils.fshelper module</a><ul>
<li><a class="reference internal" href="#fshelper-instance-attributes">FSHelper Instance Attributes:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-FileSystem.FSUtils.ibmihelper">FileSystem.FSUtils.ibmihelper module</a><ul>
<li><a class="reference internal" href="#ibmihelper">IBMiHelper</a><ul>
<li><a class="reference internal" href="#attributes">Attributes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-FileSystem.FSUtils.migration_assistant_helper">FileSystem.FSUtils.migration_assistant_helper module</a><ul>
<li><a class="reference internal" href="#migrationassistanthelper">MigrationAssistantHelper:</a></li>
<li><a class="reference internal" href="#migrationassistanthelper-instance-attributes">MigrationAssistantHelper Instance Attributes:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-FileSystem.FSUtils.onepasshelper">FileSystem.FSUtils.onepasshelper module</a></li>
<li><a class="reference internal" href="#module-FileSystem.FSUtils.tdfshelper">FileSystem.FSUtils.tdfshelper module</a></li>
<li><a class="reference internal" href="#module-FileSystem.FSUtils.three_dfs_helper">FileSystem.FSUtils.three_dfs_helper module</a></li>
<li><a class="reference internal" href="#module-FileSystem.FSUtils.unixfshelper">FileSystem.FSUtils.unixfshelper module</a></li>
<li><a class="reference internal" href="#module-FileSystem.FSUtils.winfshelper">FileSystem.FSUtils.winfshelper module</a><ul>
<li><a class="reference internal" href="#winfshelper">WinFSHelper:</a></li>
<li><a class="reference internal" href="#winfshelper-instance-attributes">WinFSHelper Instance Attributes:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-FileSystem.FSUtils">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Commvault Automation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>FileSystem.FSUtils package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/FileSystem.FSUtils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="filesystem-fsutils-package">
<h1>FileSystem.FSUtils package<a class="headerlink" href="#filesystem-fsutils-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-FileSystem.FSUtils.fs_constants">
<span id="filesystem-fsutils-fs-constants-module"></span><h2>FileSystem.FSUtils.fs_constants module<a class="headerlink" href="#module-FileSystem.FSUtils.fs_constants" title="Permalink to this headline">¶</a></h2>
<p>File for All the constants related to FileSystem</p>
</div>
<div class="section" id="module-FileSystem.FSUtils.fshelper">
<span id="filesystem-fsutils-fshelper-module"></span><h2>FileSystem.FSUtils.fshelper module<a class="headerlink" href="#module-FileSystem.FSUtils.fshelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing File System operations</p>
<p>ScanType , IndexEnabled, CommitCondition and FSHelper are 4 classes defined in this file.</p>
<p>ScanType: Enum constants for all the scan types currently supported for file system subclients</p>
<p>IndexEnabled: With Blocklevel we check Meta Data Collection on or not.</p>
<p>CommitCondition: Enum constants for all supported commit conditions.</p>
<p>FSHelper: Helper class to perform file system operations</p>
<dl>
<dt>FSHelper:</dt><dd><p>__init__()                        –  initializes file system helper object</p>
<p>create_backupset()                –  creates new backupset</p>
<p>create_instance()                 –  creates new instance for filesystem big data apps</p>
<p>create_subclient()                –  creates new subclient</p>
<p>update_subclient()                –  updates properties of existing subclient</p>
<p>run_backup()                      –  Run backup on the testcase subclient</p>
<p>find_items_subclient()            –  Find items by browse
on the testcase subclient</p>
<p>compare_lists()                   –  Compare source and destination
list and find differennces</p>
<p>restore_in_place()                –  Run in place restore</p>
<p>restore_out_of_place()            –  Run out of place restore</p>
<p>run_backup_verify()               –  Initiates backup and
performs the applicable verifications</p>
<p>run_restore_verify()              –  Initiates restore for data
backed up in the given job and performs the applicable verifications</p>
<p>run_find_verify()                 –  Finds items backed up in the given job
and compares it with items from machine</p>
<p>add_new_data_incr()               –  Adds new data for incremental
with provisions for modification after this function execution,
call mod_data_incr for modifications</p>
<p>mod_data_incr()                   –  Modifies the data added by add_new_data_incr
call add_new_data_incr before calling this.</p>
<p>check_pseudo_client()             –  Checks for the existence of pseudo-client on CS
for Usercentric laptop clients</p>
<p>check_scheduled_backup()          –  Checks for the status of the scheduled backup job of
pseudo-client for Usercentric laptop clients</p>
<p>pseudo_client_cleanup()           –  Removes pseudo-client from CS for Usercentric
laptop clients</p>
<p>get_subclient_content()           –  Generates the subclient content list</p>
<p>volume_level_restore()            –  To perform blocklevel volume level restore on client</p>
<p>backup_copy()                     –  Run backup copy from Subclient level</p>
<p>get_backup_stream_count()         –  Returns the number of streams used by a backup job</p>
<p>get_restore_stream_count()        –  Returns the number of streams used by a restore job</p>
<p>verify_dc()                       –  Verifies whether the job used Scan optimization</p>
<p>validate_trueup()                 –  Checks if trueup ran or not;
based on conditional variable it also checks
if trueup picked up files for backup.</p>
<p>run_systemstate_backup()          –  Checks for the system state property and runs a backup</p>
<p>run_onetouch_backup()             –  Checking if onetouch option is enabled and running a backup</p>
<p>commit_job()                      –  Commits the backup job if the threshold condition is met or exceeded.</p>
<p>parse_restart_string()            –  Parses a backup job restart string and
prepares a dictionary of collect file ID to offset value.</p>
<p>create_expected_commit_files()    –  Prepares the expected committed files for the committed backup job.</p>
<p>get_actual_commit_files()         –  Retrieves the actual commit files that were generated by scan.</p>
<p>validate_backup()                 – Function checks whether the files are backedup or not.</p>
<p>validate_cross_machine_restore()   – Function checks files are restored properly or not.</p>
<p>validate_restore_for_selected_files() – Function checks selected/deleted files are restored or not.</p>
<p>validate_collect_files()          – Function checks backup files with collect files</p>
<p>validate_commit_files()           –  Function checks whether the commit collect file and
commit dirchange file were created correctly.</p>
<p>_update_ref_time_dict()           –  Updates the reference time dictionary self.job_ref_time_dict.</p>
<p>extent_level_validation()         –  Function attempts to check whether large files were backed up as extents.
It also, optionally, validates the extent eligible collect file.</p>
<p>generate_testdata()                – To generate the test data</p>
<p>validate_filters()                 – To validate the filters set at client group level</p>
<p>validate_failed_files()             – To validate the failed files from collects</p>
<p>is_snapshot_deleted()               – To check if snapshot has been deleted</p>
<p>get_snapshot_id()                   – To get the snapshot ID created for that job</p>
<p>validate_pre_post_commands()        –  To validate the pre post commands are set correctly</p>
<p>validate_rfc_files()                – To validate Remote File cache Files</p>
<p>get_index_cache()                   – To get index Cache Path on Indexing MA.</p>
<p>get_cluster_nodes()                 – To get list of cluster nodes</p>
<p>active_cluster_node()               – To get active cluster node</p>
<p>do_failover()                       – To do cluster failover</p>
</dd>
</dl>
<div class="section" id="fshelper-instance-attributes">
<h3>FSHelper Instance Attributes:<a class="headerlink" href="#fshelper-instance-attributes" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p><strong>subclient_job_results_directory</strong>            –  Returns the subclient job  results directory path.</p>
</div></blockquote>
<dl class="class">
<dt id="FileSystem.FSUtils.fshelper.CommitCondition">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.FSUtils.fshelper.</code><code class="sig-name descname">CommitCondition</code><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#CommitCondition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.CommitCondition" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>Constants for all supported commit conditions</p>
<dl class="attribute">
<dt id="FileSystem.FSUtils.fshelper.CommitCondition.FILES">
<code class="sig-name descname">FILES</code><em class="property"> = 1</em><a class="headerlink" href="#FileSystem.FSUtils.fshelper.CommitCondition.FILES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.FSUtils.fshelper.CommitCondition.SECONDS">
<code class="sig-name descname">SECONDS</code><em class="property"> = 2</em><a class="headerlink" href="#FileSystem.FSUtils.fshelper.CommitCondition.SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="FileSystem.FSUtils.fshelper.FSHelper">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.FSUtils.fshelper.</code><code class="sig-name descname">FSHelper</code><span class="sig-paren">(</span><em class="sig-param">testcase</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper class to perform file system operations</p>
<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.active_cluster_node">
<code class="sig-name descname">active_cluster_node</code><span class="sig-paren">(</span><em class="sig-param">cluster_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.active_cluster_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.active_cluster_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the active cluster node.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>cluster_name     (str)   –      cluster name</p>
</dd>
<dt>Returns:</dt><dd><p>active_node      (str)  –      active cluster node</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.add_new_data_incr">
<code class="sig-name descname">add_new_data_incr</code><span class="sig-paren">(</span><em class="sig-param">incr_path</em>, <em class="sig-param">slash_format</em>, <em class="sig-param">scan_type=&lt;ScanType.RECURSIVE: 1&gt;</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.add_new_data_incr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.add_new_data_incr" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds new data for incremental with provisions for modification
after this function execution call mod_data_incr for modifications</p>
<p>Args:</p>
<blockquote>
<div><p>incr_path       (str)              – path for adding data</p>
<p>slash_format    (str)              – OS path separator format</p>
<dl class="simple">
<dt>scan_type       (ScanType(Enum))   – scan type(RECURSIVE/OPTIMIZED/CHANGEJOURNAL)</dt><dd><p>default: ScanType.RECURSIVE</p>
</dd>
</dl>
<p>kwargs (dict)                    – dictionary of optional arguments
Available kwargs Options:</p>
<blockquote>
<div><dl class="simple">
<dt>dirs                (int)   –  number of directories in each level</dt><dd><p>default: 3</p>
</dd>
<dt>files               (int)   –  number of files in each directory</dt><dd><p>default: 5</p>
</dd>
<dt>file_size           (int)   –  Size of the files in KB</dt><dd><p>default: 20</p>
</dd>
<dt>levels              (int)   –  number of levels to be created</dt><dd><p>default: 1</p>
</dd>
<dt>hlinks              (bool)  –  whether to create hardlink files</dt><dd><p>default: True</p>
</dd>
<dt>slinks              (bool)  –  whether to create symbolic link files</dt><dd><p>default: True</p>
</dd>
<dt>sparse              (bool)  –  whether to create sparse files</dt><dd><p>default: True</p>
</dd>
<dt>sparse_hole_size    (int)   –  Size of the holes in sparse files in KB</dt><dd><p>default: 1024</p>
</dd>
<dt>options             (str)   –  to specify any other additional parameters</dt><dd><p>default: “”</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception - Any error occurred while</dt><dd><p>populating the data.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.backup_copy">
<code class="sig-name descname">backup_copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.backup_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.backup_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs Offline backup copy for the given subclient</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.check_pseudo_client">
<code class="sig-name descname">check_pseudo_client</code><span class="sig-paren">(</span><em class="sig-param">pseudo_client_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.check_pseudo_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.check_pseudo_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if pseudo-client is created on CS for a usercentric
laptop client and check if it belongs to
‘Usercentric clients’ client group.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>pseudo_client_name  (str) - Name of the pseudo-client</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception - If pseudo-client doesn’t exist</dt><dd><p>If pseudo-client does not belong to “Usercentric clients” client group</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.check_scheduled_backup">
<code class="sig-name descname">check_scheduled_backup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.check_scheduled_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.check_scheduled_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>To check if, for a user-centric laptop client, scheduled
backup was launched on the pseudo-client and
whether it was successful</p>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception - If retreiving Job ID fails</dt><dd><p>If first backup job was not scheduled
If the scheduled job did not complete successfully</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.commit_job">
<code class="sig-name descname">commit_job</code><span class="sig-paren">(</span><em class="sig-param">job</em>, <em class="sig-param">threshold</em>, <em class="sig-param">commit_condition</em>, <em class="sig-param">timeout=300</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.commit_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.commit_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the backup job if the threshold condition is met or exceeded.</p>
<dl>
<dt>Args:</dt><dd><p>job                 (object)                –  Instance of Job object, the job that has to be committed.</p>
<p>threshold           (int)                   –  Threshold value for the condition
based on which job will be committed.</p>
<dl class="simple">
<dt>commit_condition    (CommitCondition(Enum)) –  Commit condition can take one of the following values.</dt><dd><ul class="simple">
<li><p>FILES</p></li>
<li><p>SECONDS</p></li>
</ul>
</dd>
</dl>
<p>timeout             (int)                   –  Specifies how long we must wait (in seconds)
for the job to be committed before we give up.</p>
<blockquote>
<div><p>default:    300</p>
</div></blockquote>
</dd>
<dt>Example:</dt><dd><p>job_1 = self.helper.run_backup(backup_level=”Full”, wait_to_complete=False)
self.helper.commit_job(job_1[0], 3, CommitCondition.FILES)</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception:
Any error occurred while trying to commit the job.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.compare_lists">
<code class="sig-name descname">compare_lists</code><span class="sig-paren">(</span><em class="sig-param">source_list</em>, <em class="sig-param">destination_list</em>, <em class="sig-param">sort_list=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.compare_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.compare_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the source list with destination list
and checks if they are same.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>source_list      (list)</p>
<p>destination_list (list)</p>
<p>sort_list        (bool)    – Indicates whether the list
should be sorted before comparison</p>
<blockquote>
<div><p>default: False</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool   -   Returns True if lists are same or returns False</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurred while comparing the lists.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.create_backupset">
<code class="sig-name descname">create_backupset</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">delete=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.create_backupset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.create_backupset" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Creates new backupset with specified parameters</dt><dd><p>under the current testcase Instance.</p>
</dd>
</dl>
<p>Checks if the backupset exists or not.
If the backupset exists, deletes the existing backupset
and creates new one with the testcase id.</p>
<dl>
<dt>Args:</dt><dd><p>name   (str)  – name of the backupset</p>
<dl class="simple">
<dt>delete (bool) – indicates whether existing backupset should be deleted</dt><dd><p>default: False</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occured during backupset creation</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.create_expected_commit_files">
<code class="sig-name descname">create_expected_commit_files</code><span class="sig-paren">(</span><em class="sig-param">committed_job</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.create_expected_commit_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.create_expected_commit_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the expected committed files for the committed backup job.
These files will be compared with the actual collect files that are prepared by scan.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>committed_job   (object)    –  Instance of Job, of the committed job.</p>
</dd>
<dt>Returns:</dt><dd><p>dict -   Returns a dictionary of lists containing entries in the commit collect and commit dirchange.</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.create_instance">
<code class="sig-name descname">create_instance</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">delete=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.create_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.create_instance" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Creates new Instance with specified parameters</dt><dd><p>under the current Client.</p>
</dd>
</dl>
<p>Checks if the Instance exists or not.
If the Instance exists, deletes the existing Instance
and creates new one with the testcase id.</p>
<dl>
<dt>Args:</dt><dd><p>name   (str)  – name of the Instance</p>
<dl class="simple">
<dt>delete (bool) – indicates whether existing Instance should be deleted</dt><dd><p>default: False</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occured during Instance creation</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.create_subclient">
<code class="sig-name descname">create_subclient</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">storage_policy</em>, <em class="sig-param">content</em>, <em class="sig-param">filter_content=None</em>, <em class="sig-param">exception_content=None</em>, <em class="sig-param">trueup_option=True</em>, <em class="sig-param">trueup_days=30</em>, <em class="sig-param">scan_type=&lt;ScanType.RECURSIVE: 1&gt;</em>, <em class="sig-param">data_readers=2</em>, <em class="sig-param">allow_multiple_readers=False</em>, <em class="sig-param">read_buffer_size=512</em>, <em class="sig-param">block_level_backup=None</em>, <em class="sig-param">delete=False</em>, <em class="sig-param">data_access_nodes=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.create_subclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.create_subclient" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates subclient under current testcase backupset
with specified parameters</p>
<dl>
<dt>Args:</dt><dd><p>name (str)                       – subclient name</p>
<p>storage_policy (str)             – storage policy to assign to subclient</p>
<p>content (list)                   – content list</p>
<dl class="simple">
<dt>filter_content (list)            – filter list</dt><dd><p>default: None</p>
</dd>
<dt>exception_conent (list)          – exception list</dt><dd><p>default: None</p>
</dd>
<dt>trueup_option (bool)             – enable / disable true up</dt><dd><p>default: True</p>
</dd>
<dt>trueup_days (int)                – trueup after n days value of the subclient</dt><dd><p>default: 30</p>
</dd>
<dt>data_readers (int)               – number of data readers</dt><dd><p>default: 2</p>
</dd>
<dt>allow_multiple_readers (bool)    – enable / disable allow multiple readers</dt><dd><p>default: False</p>
</dd>
<dt>read_buffer_size (int)           – read buffer size in KB</dt><dd><p>default: 512</p>
</dd>
<dt>delete (bool)                    – indicates whether existing subclient should be deleted</dt><dd><p>default: False</p>
</dd>
<dt>scan_type(ScanType(Enum))        –  scan type (RECURSIVE/OPTIMIZED/CHANGEJOURNAL)</dt><dd><p>default: ScanType.RECURSIVE</p>
</dd>
<dt>data_access_nodes(list)          – Data Access nodes for NFS share or big data apps</dt><dd><p>default : None</p>
</dd>
<dt>block_level_backup (str)         – blocklevel backup data switch</dt><dd><p>default: None</p>
</dd>
</dl>
<p>**kwargs  (dict)              –  Optional arguments.</p>
<p>Available kwargs Options:</p>
<blockquote>
<div><p>software_compression(SoftwareCompression(Enum)) :   Software compression property for a subclient.
(ON_CLIENT/ON_MEDIA_AGENT/USE_STORAGE_POLICY_SETTINGS/OFF)</p>
<p>use_vss (dict)  –  Enable or Disable Use VSS, Applicable to Windows FS only.
Dictionary contains the keys ‘useVSS’, ‘vssOptions’ and ‘useVssForAllFilesOptions’.</p>
<dl class="simple">
<dt>useVSS:</dt><dd><p>True    -   ENABLED
False   -   DISABLED</p>
</dd>
<dt>vssOptions:</dt><dd><p>1   -   For all files
2   -   For locked files only</p>
</dd>
<dt>useVssForAllFilesOptions:</dt><dd><p>1   -   Fail the job
2   -   Continue and reset access time
3   -   Continue and do not reset access time</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occurred during Subclient creation</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.do_failover">
<code class="sig-name descname">do_failover</code><span class="sig-paren">(</span><em class="sig-param">cluster_name</em>, <em class="sig-param">failover_node</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.do_failover"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.do_failover" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the list of cluster nodes</p>
<dl>
<dt>Args:</dt><dd><p>cluster_name     (str)   –      cluster name</p>
<p>failover_node    (str)   –      node to make as active node</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.extent_level_validation">
<code class="sig-name descname">extent_level_validation</code><span class="sig-paren">(</span><em class="sig-param">job</em>, <em class="sig-param">cvf_validation=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.extent_level_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.extent_level_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to check whether large files were backed up as extents.
It also, optionally, validates the extent eligible collect file.</p>
<dl>
<dt>Args:</dt><dd><p>job             (object)    –  Instance of backup Job.</p>
<p>cvf_validation  (bool)      –  If true, validates entries in the extent eligible collect file.</p>
</dd>
<dt>Returns:</dt><dd><p>bool    -   Returns True if the lists are identical.
Returns False if the contents of the lists are different.</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.extract_filename">
<code class="sig-name descname">extract_filename</code><span class="sig-paren">(</span><em class="sig-param">dir_paths</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.extract_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.extract_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get filenames from their path
Args:</p>
<blockquote>
<div><p>dir_paths (list) : Entity to access it’s files</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>list of files names (base names)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.find_items_subclient">
<code class="sig-name descname">find_items_subclient</code><span class="sig-paren">(</span><em class="sig-param">path='\\**\\*'</em>, <em class="sig-param">filters=None</em>, <em class="sig-param">from_time=None</em>, <em class="sig-param">to_time=None</em>, <em class="sig-param">copy_precedence=0</em>, <em class="sig-param">media_agent=''</em>, <em class="sig-param">page_size=100000</em>, <em class="sig-param">sorted_output=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.find_items_subclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.find_items_subclient" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches a file/folder in the subclient backup content,
and returns all the files matching the filters given.</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>path   (str)          –  directory path to get the items list</dt><dd><p>default: ‘***’</p>
</dd>
<dt>filters (list)        – list of filters</dt><dd><p>to exclude from the given path</p>
</dd>
<dt>from_time (int)       –  time to find the contents after</dt><dd><p>format: timestamp
default: None</p>
</dd>
<dt>to_time (int)         –  time to find the contents before</dt><dd><p>format: timestamp
default: None</p>
</dd>
<dt>copy_precedence (int) – copy precedence for the find operation</dt><dd><p>default: 0</p>
</dd>
<dt>media_agent (str)     – mediaagent to be used for the find operation</dt><dd><p>default: ‘’</p>
</dd>
<dt>page_size (int)       – page size for the find</dt><dd><p>default: 100000</p>
</dd>
<dt>sorted_output (bool)  – to specify whether the list should be sorted.</dt><dd><p>default : True</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><dl class="simple">
<dt>list    -   list of the items</dt><dd><p>from the find operation on the subclient</p>
</dd>
<dt>dict    -   Dictionary of all the paths</dt><dd><p>with additional metadata retrieved from browse</p>
</dd>
</dl>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurred while doing the find operation.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.generate_testdata">
<code class="sig-name descname">generate_testdata</code><span class="sig-paren">(</span><em class="sig-param">file_extensions</em>, <em class="sig-param">path=None</em>, <em class="sig-param">no_of_files=5</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.generate_testdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.generate_testdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates files with the specified extensions</p>
<dl class="simple">
<dt>Args:</dt><dd><p>file_extensions   (list)    –  List of all the extensions
path               (str)    –  Source path to create files on
no.of files        (int)    –  File count to create in destination</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.get_actual_commit_files">
<code class="sig-name descname">get_actual_commit_files</code><span class="sig-paren">(</span><em class="sig-param">committed_job</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.get_actual_commit_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.get_actual_commit_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the actual commit files generated by scan.
These files will be compared with the expected collect files that we created based on the restart string.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>committed_job   (object)    –  Instance of Job, of the committed job.</p>
</dd>
<dt>Returns:</dt><dd><p>dict -   Returns a dictionary of lists containing entries in the commit collect and commit dirchange.</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.get_backup_stream_count">
<code class="sig-name descname">get_backup_stream_count</code><span class="sig-paren">(</span><em class="sig-param">job</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.get_backup_stream_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.get_backup_stream_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of streams used by a backup job</p>
<dl class="simple">
<dt>Args:</dt><dd><p>job    (object)  – job object of the backup job to be checked</p>
</dd>
<dt>Returns:</dt><dd><p>int   -   the number of streams used by a backup job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.get_cluster_nodes">
<code class="sig-name descname">get_cluster_nodes</code><span class="sig-paren">(</span><em class="sig-param">cluster_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.get_cluster_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.get_cluster_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the list of cluster nodes</p>
<dl class="simple">
<dt>Args:</dt><dd><p>cluster_name     (str)   –      cluster name</p>
</dd>
<dt>Returns:</dt><dd><p>nodes           (list)    –       list of cluster nodes</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.get_collect_file_list">
<code class="sig-name descname">get_collect_file_list</code><span class="sig-paren">(</span><em class="sig-param">collect_file_path</em>, <em class="sig-param">collect_file_level</em>, <em class="sig-param">match_string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.get_collect_file_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.get_collect_file_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the list of collect files
Args:</p>
<blockquote>
<div><p>collect_file_path   (str)    –  Path of Collect files location.
collect_file_level  (str)    –  Level_type to collect files.
match_string         (str)    –  Determines os_type.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>list    -   List of collect files in the specified path</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.get_index_cache">
<code class="sig-name descname">get_index_cache</code><span class="sig-paren">(</span><em class="sig-param">media_agent=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.get_index_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.get_index_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the index cache for the given media agent</p>
<dl class="simple">
<dt>Args:</dt><dd><p>media_agent     (obj)   –      The media agent CvPySDK client object</p>
</dd>
<dt>Returns:</dt><dd><p>(str)       -       The index cache path of the media agent</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.get_logs_for_job_from_file">
<code class="sig-name descname">get_logs_for_job_from_file</code><span class="sig-paren">(</span><em class="sig-param">job_id</em>, <em class="sig-param">log_file_name</em>, <em class="sig-param">search_term=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.get_logs_for_job_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.get_logs_for_job_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>From a log file object only return those log lines for a particular job ID.</p>
<dl>
<dt>Args:</dt><dd><p>job_id          (str)   –  Job ID for which log lines need to be fetched.</p>
<p>log_file_name   (bool)  –  Name of the log file.</p>
<p>search_term     (str)   –  Only capture those log lines containing the search term.</p>
</dd>
<dt>Returns:</dt><dd><p>str     -   rn separated string containing the requested log lines.</p>
<p>None    -   If no log lines were found for the given job ID or containing the given search term.</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.get_restore_stream_count">
<code class="sig-name descname">get_restore_stream_count</code><span class="sig-paren">(</span><em class="sig-param">job</em>, <em class="sig-param">log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.get_restore_stream_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.get_restore_stream_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of streams used by a restore job</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>job    (object)  – job object of the restore job to be checked</p>
<dl class="simple">
<dt>log_dir  (str)  – path of the log directory</dt><dd><p>default:None</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>int   -   the number of streams used by a restore job</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurred while getting the restore stream count</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.get_snapshot_id">
<code class="sig-name descname">get_snapshot_id</code><span class="sig-paren">(</span><em class="sig-param">job</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.get_snapshot_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.get_snapshot_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get eh snapshotID created for that job</p>
<dl class="simple">
<dt>Args:</dt><dd><p>Job         (obj)  –  Job object</p>
</dd>
<dt>Returns:</dt><dd><p>String    -   Returns the snapshot ID</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.get_storage_policy">
<em class="property">static </em><code class="sig-name descname">get_storage_policy</code><span class="sig-paren">(</span><em class="sig-param">commcell_object</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.get_storage_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.get_storage_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of first online storage policy in the given commcell</p>
<dl class="simple">
<dt>Args:</dt><dd><p>commcell_object     (object)  –  instance of the Commcell class</p>
</dd>
<dt>Returns:</dt><dd><p>str - name of the selected storage policy</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if there is no online storage policy in the given commcell</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.get_subclient_content">
<code class="sig-name descname">get_subclient_content</code><span class="sig-paren">(</span><em class="sig-param">test_path</em>, <em class="sig-param">slash_format</em>, <em class="sig-param">subclient_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.get_subclient_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.get_subclient_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the subclient content list.</p>
<dl>
<dt>Args:</dt><dd><p>test_path (str) : The testpath provided for the test case</p>
<p>slash_format (str) : The slash format for the platform</p>
<p>subclient_name (str) : The name of the subcllient for which data is generated.</p>
</dd>
<dt>Returns:</dt><dd><p>list : list of subclient contents for this test case</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.is_snapshot_deleted">
<code class="sig-name descname">is_snapshot_deleted</code><span class="sig-paren">(</span><em class="sig-param">snapshot_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.is_snapshot_deleted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.is_snapshot_deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check if snapshot has been deleted post backup</p>
<dl class="simple">
<dt>Args:</dt><dd><p>snapshot_id         (String)  –  snapshot ID</p>
</dd>
<dt>Raises:</dt><dd><p>Exception if snapshot has not been deleted</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.job_ref_time_dict">
<em class="property">property </em><code class="sig-name descname">job_ref_time_dict</code><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.job_ref_time_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of jobs and their reference times.</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.mod_data_incr">
<code class="sig-name descname">mod_data_incr</code><span class="sig-paren">(</span><em class="sig-param">scan_type=&lt;ScanType.RECURSIVE: 1&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.mod_data_incr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.mod_data_incr" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies the data added by add_new_data_incr
call add_new_data_incr before calling this.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>scan_type(ScanType(Enum))   – scan type(RECURSIVE/OPTIMIZED/CHANGEJOURNAL)</dt><dd><p>default: ScanType.RECURSIVE</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occurred while modifying the data.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.parse_backup_restart_string">
<code class="sig-name descname">parse_backup_restart_string</code><span class="sig-paren">(</span><em class="sig-param">job</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.parse_backup_restart_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.parse_backup_restart_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the restart map file and fetches the restart string from JM
to prepare a dictionary of collect file ID to offset value.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>job  (object)   –  Instance of Job object, the job for which a restart string has to be parsed.</p>
</dd>
<dt>Returns:</dt><dd><p>dict -   Returns a dictionary of collect file ID to offset value.</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.populate_tc_inputs">
<em class="property">static </em><code class="sig-name descname">populate_tc_inputs</code><span class="sig-paren">(</span><em class="sig-param">cv_testcase</em>, <em class="sig-param">mandatory=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.populate_tc_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.populate_tc_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes all the test case inputs after validation</p>
<dl class="simple">
<dt>Args:</dt><dd><p>cv_testcase    (obj)    –    Object of CVTestCase
mandatory      (bool)   –    whether to check for mandatory inputs
and raise exception if not found</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if a valid CVTestCase object is not passed.
if CVTestCase object doesn’t have agent initialized</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.pseudo_client_cleanup">
<code class="sig-name descname">pseudo_client_cleanup</code><span class="sig-paren">(</span><em class="sig-param">pseudo_client_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.pseudo_client_cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.pseudo_client_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>To clean up pseudo-client from CS for
usercentric laptop client.</p>
<dl class="simple">
<dt>Raises:</dt><dd><p>Exception - if pseudo-client could not be removed</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.rem_common_files">
<code class="sig-name descname">rem_common_files</code><span class="sig-paren">(</span><em class="sig-param">list_1</em>, <em class="sig-param">list_2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.rem_common_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.rem_common_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to remove common file with b in a
Args:</p>
<blockquote>
<div><p>list_1 (list) : Entity in which common files to be removed
list_2 (list) : Entity which is compared to get common files</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>list of files excluding common files</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.restore_in_place">
<code class="sig-name descname">restore_in_place</code><span class="sig-paren">(</span><em class="sig-param">paths</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.restore_in_place"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.restore_in_place" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the files/folders specified
in the input paths list to the same location.</p>
<dl>
<dt>Args:</dt><dd><p>paths     (list)  –  list of full paths of files/folders to restore</p>
<p>Kwargs:
Keyword argument of restore options:</p>
<blockquote>
<div><dl>
<dt>Example:</dt><dd><p>{</p>
<dl class="simple">
<dt>overwrite                (bool)  – unconditional overwrite files</dt><dd><p>default: True</p>
</dd>
</dl>
<p>restore_data_and_acl     (bool)  – restore data and ACL files</p>
<blockquote>
<div><p>default: True</p>
</div></blockquote>
<dl>
<dt>copy_precedence          (int)   – copy precedence value</dt><dd><p>default: None</p>
</dd>
<dt>from_time                (str)   – time from(restore the contents after)</dt><dd><p>format: YYYY-MM-DD HH:MM:SS</p>
<p>default: None</p>
</dd>
<dt>to_time                  (str)   – time to(restore the contents before)</dt><dd><p>format: YYYY-MM-DD HH:MM:SS</p>
<p>default: None</p>
</dd>
<dt>restoreDataInsteadOfStub (bool)  – to restore data instead of stub</dt><dd><p>default: True</p>
</dd>
<dt>restoreOnlyStubExists    (bool)  – to restore data only if stub exists</dt><dd><p>default: False</p>
</dd>
<dt>overwriteFiles           (bool)  – to overwrite if data on media is newer</dt><dd><p>default: True</p>
</dd>
<dt>doNotOverwriteFileOnDisk (bool)  – to not overwrite files on disk</dt><dd><p>default: False</p>
</dd>
</dl>
<p>disableStubRestore       (bool)  – will not allow stub restore
in case dangle stub existed</p>
<blockquote>
<div><p>default True</p>
</div></blockquote>
<p>_schedule_pattern        (dict)  – schedule create job option</p>
<blockquote>
<div><p>default :None</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>object - instance of the Job class for this restore job</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occurred while running restore
or restore didn’t complete successfully.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.restore_out_of_place">
<code class="sig-name descname">restore_out_of_place</code><span class="sig-paren">(</span><em class="sig-param">destination_path</em>, <em class="sig-param">paths</em>, <em class="sig-param">client=None</em>, <em class="sig-param">overwrite=True</em>, <em class="sig-param">restore_data_and_acl=True</em>, <em class="sig-param">restore_ACL=True</em>, <em class="sig-param">copy_precedence=None</em>, <em class="sig-param">from_time=None</em>, <em class="sig-param">to_time=None</em>, <em class="sig-param">preserve_level=1</em>, <em class="sig-param">proxy_client=None</em>, <em class="sig-param">impersonate_user=None</em>, <em class="sig-param">impersonate_password=None</em>, <em class="sig-param">is_vlr_restore=False</em>, <em class="sig-param">is_client_big_data_apps=None</em>, <em class="sig-param">destination_instance=None</em>, <em class="sig-param">no_of_streams=1</em>, <em class="sig-param">restore_nodes=None</em>, <em class="sig-param">iscsi_server=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.restore_out_of_place"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.restore_out_of_place" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the files/folders specified
in the input paths list to the input client,
at the specified destionation location.</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>client                (str/object) –  either the name or the instance of Client</dt><dd><p>default: None</p>
</dd>
</dl>
<p>destination_path      (str)        –  full path of the restore location on client</p>
<p>paths                 (list)       –  list of full paths of
files/folders to restore</p>
<dl>
<dt>overwrite             (bool)       –  unconditional overwrite files during restore</dt><dd><p>default: True</p>
</dd>
<dt>restore_data_and_acl  (bool)       –  restore data and ACL of files</dt><dd><p>default: True</p>
</dd>
<dt>restore_ACL           (bool)       –  restore ACLs for Unix</dt><dd><p>default: True</p>
</dd>
<dt>copy_precedence       (int)        –  copy precedence value</dt><dd><p>default: None</p>
</dd>
<dt>from_time             (str)        –  time to restore the contents after</dt><dd><p>format: YYYY-MM-DD HH:MM:SS</p>
<p>default: None</p>
</dd>
<dt>to_time               (str)        –  time to retore the contents before</dt><dd><p>format: YYYY-MM-DD HH:MM:SS</p>
<p>default: None</p>
</dd>
<dt>preserve_level        (int)        –  preserve level option to set in restore</dt><dd><p>default: 0</p>
</dd>
<dt>proxy_client          (str)        –  proxy that needed to be used for restore</dt><dd><p>default: None</p>
</dd>
<dt>impersonate_user      (str)        –  Impersonate user options for restore</dt><dd><p>default: None</p>
</dd>
</dl>
<p>impersonate_password  (str)        –  Impersonate password option for restore
in base64 encoded form</p>
<blockquote>
<div><p>default: None</p>
</div></blockquote>
<dl class="simple">
<dt>is_vlr_restore        (bool)       –  Blocklevel Switch to run restore of Volume</dt><dd><p>default: False</p>
</dd>
</dl>
<p>is_client_big_data_apps(bool)      –  to indicate if the destintation client
is of type DISTRIBUTED_IDA</p>
<blockquote>
<div><p>default : None</p>
</div></blockquote>
<p>destination_instance  (str)        –  destination instance if the destination
client is of type DISTRIBUTED_IDA</p>
<blockquote>
<div><p>default : None</p>
</div></blockquote>
<dl class="simple">
<dt>no_of_streams         (int)        –  number of streams used for restore</dt><dd><p>default : 1</p>
</dd>
</dl>
<p>restore_nodes         (list)       –  the data access nodes used for restore
in case of multi-node restore.</p>
<blockquote>
<div><p>default : None</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>object - instance of the Job class for this restore job</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception - Any error occurred while running restore</dt><dd><p>or restore didn’t complete successfully.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.run_backup">
<code class="sig-name descname">run_backup</code><span class="sig-paren">(</span><em class="sig-param">backup_level='Incremental'</em>, <em class="sig-param">incremental_backup=False</em>, <em class="sig-param">incremental_level='BEFORE_SYNTH'</em>, <em class="sig-param">wait_to_complete=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.run_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.run_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiates backup job with specified options
on the current testcase subclient object
and waits for completion.</p>
<dl>
<dt>Args:</dt><dd><p>backup_level            (str)   –  level of backup
(Full/Incremental/Differential/Synthetic_full)</p>
<blockquote>
<div><p>default: Incremental</p>
</div></blockquote>
<p>incremental_backup      (bool)  –  run incremental backup
only applicable in case of Synthetic_full backup</p>
<blockquote>
<div><p>default: False</p>
</div></blockquote>
<p>incremental_level       (str)   –  run incremental backup
before/after synthetic full (BEFORE_SYNTH / AFTER_SYNTH)
only applicable in case of Synthetic_full backup</p>
<blockquote>
<div><p>default: BEFORE_SYNTH</p>
</div></blockquote>
<p>wait_to_complete        (bool)  –  Specifies whether to wait until job finishes.</p>
</dd>
<dt>Returns:</dt><dd><p>list    - list of instances of the Job class for the backup jobs ran</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occurred while running backup or
backup didn’t complete successfully.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.run_backup_verify">
<code class="sig-name descname">run_backup_verify</code><span class="sig-paren">(</span><em class="sig-param">scan_type=&lt;ScanType.RECURSIVE: 1&gt;</em>, <em class="sig-param">backup_level='Incremental'</em>, <em class="sig-param">incremental_backup=False</em>, <em class="sig-param">incremental_level='BEFORE_SYNTH'</em>, <em class="sig-param">scan_marking=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.run_backup_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.run_backup_verify" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Initiates backup and performs the applicable verifications</dt><dd><p>on current test case subclient</p>
</dd>
<dt>Args:</dt><dd><dl class="simple">
<dt>scan_type         (ScanType(Enum)) – scan type(RECURSIVE/OPTIMIZED/CHANGEJOURNAL)</dt><dd><p>default: ScanType.RECURSIVE</p>
</dd>
</dl>
<p>backup_level      (str)            – level of backup
(Full/Incremental/Differential/Synthetic_full)</p>
<blockquote>
<div><p>default: Incremental</p>
</div></blockquote>
<p>incremental_backup(bool)           – run incremental backup
only applicable in case of Synthetic_full backup</p>
<blockquote>
<div><p>default: False</p>
</div></blockquote>
<p>incremental_level (str)            – run incremental backup
before/after synthetic full(BEFORE_SYNTH / AFTER_SYNTH)
only applicable in case of Synthetic_full backup</p>
<blockquote>
<div><p>default: BEFORE_SYNTH</p>
</div></blockquote>
<p>scan_marking      (bool)           –  to check whether
the job ran as Scan Marking Job</p>
<blockquote>
<div><p>default: False</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>list    - instances of the Job class for the backup job ran</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occurred while
running backup or during verification.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.run_find_verify">
<code class="sig-name descname">run_find_verify</code><span class="sig-paren">(</span><em class="sig-param">machine_path</em>, <em class="sig-param">job=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.run_find_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.run_find_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds items backed up in the given job
and compares it with items from machine</p>
<dl>
<dt>Args:</dt><dd><p>machine_path (str)       – Source data path on the machine</p>
<dl class="simple">
<dt>job (obj)                – instance of the job class whose data needs to be found</dt><dd><p>default : None</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occurred while finding items or during verification.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.run_onetouch_backup">
<code class="sig-name descname">run_onetouch_backup</code><span class="sig-paren">(</span><em class="sig-param">backup_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.run_onetouch_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.run_onetouch_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Checking if onetouch option is enabled and running a backup</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.run_restore_verify">
<code class="sig-name descname">run_restore_verify</code><span class="sig-paren">(</span><em class="sig-param">slash_format</em>, <em class="sig-param">data_path</em>, <em class="sig-param">tmp_path</em>, <em class="sig-param">data_path_leaf</em>, <em class="sig-param">job=None</em>, <em class="sig-param">cleanup=True</em>, <em class="sig-param">is_client_big_data_apps=None</em>, <em class="sig-param">destination_instance=None</em>, <em class="sig-param">no_of_streams=1</em>, <em class="sig-param">proxy_client=None</em>, <em class="sig-param">restore_nodes=None</em>, <em class="sig-param">iscsi_server=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.run_restore_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.run_restore_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiates restore for data backed up in the given job
and performs the applicable verifications</p>
<dl>
<dt>Args:</dt><dd><p>slash_format    (str)       – OS path separator format</p>
<p>data_path       (str/list)  – Source data path, a single source path can be provided as a string or
multiple source paths can be provided as a list of strings.</p>
<p>tmp_path        (str)       – temporary path for restoring the data</p>
<p>data_path_leaf  (str)       – leaf level of the data_path</p>
<p>job             (obj)       – instance of the job class
whose data needs to be restored</p>
<blockquote>
<div><p>default : None</p>
</div></blockquote>
<dl class="simple">
<dt>cleanup (bool)           – to indicate if restored data should be cleaned up</dt><dd><p>default : True</p>
</dd>
</dl>
<p>is_client_big_data_apps(bool) – to indicate if the destintation client
is of type DISTRIBUTED_IDA</p>
<blockquote>
<div><p>default : None</p>
</div></blockquote>
<p>destination_instance (str) – destination instance if the destination
client is of type DISTRIBUTED_IDA</p>
<blockquote>
<div><p>default : None</p>
</div></blockquote>
<p>no_of_streams (int)      – number of streams used for restore</p>
<blockquote>
<div><p>default : 1</p>
</div></blockquote>
<p>proxy_client(str)        – Proxy for restore</p>
<blockquote>
<div><p>default : None</p>
</div></blockquote>
<p>restore_nodes (list)     – the data access nodes used for restore in case of
multi-node restore.</p>
<blockquote>
<div><p>default : None</p>
</div></blockquote>
<p>iSCSIServer (str)         – iscsi server option for restore</p>
<blockquote>
<div><p>defaults: None</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>object - instance of the Job class for this restore job</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception - Any error occurred while</dt><dd><p>running restore or during verification.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.run_systemstate_backup">
<code class="sig-name descname">run_systemstate_backup</code><span class="sig-paren">(</span><em class="sig-param">backup_type</em>, <em class="sig-param">wait_to_complete=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.run_systemstate_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.run_systemstate_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Checking if system state is enabled and running a backup
Args:</p>
<blockquote>
<div><p>backup_type              (str)                              – The type of backup job to be run.</p>
<p>wait_to_complete     (bool)                         – Specifies whether to wait until job finishes.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>list    - list of instances of the Job class for the backup jobs ran</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.subclient_job_results_directory">
<em class="property">property </em><code class="sig-name descname">subclient_job_results_directory</code><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.subclient_job_results_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the subclient job  results directory path.</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.update_subclient">
<code class="sig-name descname">update_subclient</code><span class="sig-paren">(</span><em class="sig-param">storage_policy=None</em>, <em class="sig-param">content=None</em>, <em class="sig-param">filter_content=None</em>, <em class="sig-param">exception_content=None</em>, <em class="sig-param">trueup_option=None</em>, <em class="sig-param">trueup_days=None</em>, <em class="sig-param">scan_type=None</em>, <em class="sig-param">data_readers=None</em>, <em class="sig-param">allow_multiple_readers=None</em>, <em class="sig-param">read_buffer_size=None</em>, <em class="sig-param">block_level_backup=None</em>, <em class="sig-param">createFileLevelIndex=False</em>, <em class="sig-param">data_access_nodes=None</em>, <em class="sig-param">backup_system_state=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.update_subclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.update_subclient" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates subclient property of current
testcase subclient with specified parameters</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>storage_policy (str)            – storage policy to assign to subclient</dt><dd><p>default: None</p>
</dd>
<dt>content (list)                  – content list</dt><dd><p>default: None</p>
</dd>
<dt>filter_content (list)           – filter list</dt><dd><p>default: None</p>
</dd>
<dt>exception_conent (list)         – exception list</dt><dd><p>default: None</p>
</dd>
<dt>trueup_option (bool)            – enable / disable true up</dt><dd><p>default: None</p>
</dd>
<dt>trueup_days (int)               – trueup after n days value of the subclient</dt><dd><p>default: None</p>
</dd>
<dt>scan_type(ScanType(Enum))       – scan type(RECURSIVE/OPTIMIZED/CHANGEJOURNAL)</dt><dd><p>default: None</p>
</dd>
<dt>data_readers (int)              – number of data readers</dt><dd><p>default: None</p>
</dd>
<dt>allow_multiple_readers (bool)   – enable / disable allow multiple readers</dt><dd><p>default: None</p>
</dd>
<dt>read_buffer_size (int)          – read buffer size in KB</dt><dd><p>default: None</p>
</dd>
</dl>
<p>data_access_nodes (list)        – sets the list passed as data access nodes
or backup nodes for this subclient</p>
<dl class="simple">
<dt>blockLevelBackup                – enable/Disable Blocklevel Option</dt><dd><p>default:None</p>
</dd>
<dt>createFileLevelIndex            – Enable/Diable Metadata option</dt><dd><p>default:False</p>
</dd>
<dt>backup_system_state             –  Enable/Disable system state option</dt><dd><p>default:None</p>
</dd>
<dt>backup_onetouch                 –  Enable/Disable 1-Touch Recovery option</dt><dd><p>default:None</p>
</dd>
<dt>onetouch_server                 – provides onetouch server name</dt><dd><p>default:None</p>
</dd>
<dt>onetouch_server_directory       – Provides onetouch server directory</dt><dd><p>default:None</p>
</dd>
</dl>
<p>**kwargs  (dict)              –  Optional arguments.</p>
<p>Available kwargs Options:</p>
<blockquote>
<div><p>software_compression(SoftwareCompression(Enum)) :   Software compression property for a subclient.
(ON_CLIENT/ON_MEDIA_AGENT/USE_STORAGE_POLICY_SETTINGS/OFF)</p>
<p>catalog_acl                     –  Enable/Disable catalog acl option</p>
<p>use_vss (dict)  –  Enable or Disable Use VSS, Applicable to Windows FS only.
Dictionary contains the keys ‘useVSS’, ‘vssOptions’ and ‘useVssForAllFilesOptions’.</p>
<dl class="simple">
<dt>useVSS:</dt><dd><p>True    -   ENABLED
False   -   DISABLED</p>
</dd>
<dt>vssOptions:</dt><dd><p>1   -   For all files
2   -   For locked files only</p>
</dd>
<dt>useVssForAllFilesOptions:</dt><dd><p>1   -   Fail the job
2   -   Continue and reset access time
3   -   Continue and do not reset access time</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occurred during Subclient Property update</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.validate_backup">
<code class="sig-name descname">validate_backup</code><span class="sig-paren">(</span><em class="sig-param">content_paths</em>, <em class="sig-param">restore_path</em>, <em class="sig-param">dest_client=None</em>, <em class="sig-param">add_exclusions=None</em>, <em class="sig-param">rem_exclusions=None</em>, <em class="sig-param">exceptions_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.validate_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.validate_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Vadilates whether content is backedup or not
Args:</p>
<blockquote>
<div><p>content_paths       list(paths): Folder path to which the data is compared
restore_path        (str): Destination path of restored files
dest_client         (str): Name of the destination client
add_exclusions      list(paths): Exclusions of a subclient
rem_exclusions      list(paths): Removed Exclusions of subclient
exceptions_list      list(paths): Exceptions of a subclient</p>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception :</dt><dd><p>– If exception files are not backedup
– If removed Exclusion files are not backedup
– The restored files doesn’t match with backedup content</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.validate_collect_files">
<code class="sig-name descname">validate_collect_files</code><span class="sig-paren">(</span><em class="sig-param">subclient_id</em>, <em class="sig-param">collect_file_level</em>, <em class="sig-param">new_path=None</em>, <em class="sig-param">deleted_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.validate_collect_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.validate_collect_files" title="Permalink to this definition">¶</a></dt>
<dd><p>” Validates the modified files/folders are backed up or not
Args:</p>
<blockquote>
<div><p>subclient_id    (str) :        –  To determine the subclient.
collect_file_level  (str) :    –  Level_type to collect files.
new_path   list(paths) :       –  List of new paths added</p>
<blockquote>
<div><p>to the subclient content.</p>
</div></blockquote>
<dl class="simple">
<dt>deleted_path   list(paths)<span class="classifier">–  List of paths deleted from</span></dt><dd><p>the subclient content.</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>– if new files are not backed up.
– if deleted files are not marked as delete.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.validate_commit_files">
<code class="sig-name descname">validate_commit_files</code><span class="sig-paren">(</span><em class="sig-param">expected_commit_files</em>, <em class="sig-param">actual_commit_files</em>, <em class="sig-param">only_cvf=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.validate_commit_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.validate_commit_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Function checks whether the commit collect file and commit dirchange file were created correctly.</p>
<dl>
<dt>Args:</dt><dd><p>expected_commit_files   (dict)  –  Dictionary of commit files created by create_expected_commit_files.</p>
<p>actual_commit_files     (dict)  –  Dictionary of commit files created by get_actual_commit_files.</p>
<p>only_cvf                (bool)  –  If true, skips validation of the commit dirchange.</p>
</dd>
<dt>Returns:</dt><dd><p>bool    -   Returns True if the lists are identical.
Returns False if the contents of the lists are different.</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.validate_cross_machine_restore">
<code class="sig-name descname">validate_cross_machine_restore</code><span class="sig-paren">(</span><em class="sig-param">content_paths</em>, <em class="sig-param">restore_path</em>, <em class="sig-param">dest_client=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.validate_cross_machine_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.validate_cross_machine_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Vadilates whether content is backedup or not
Args:</p>
<blockquote>
<div><p>content_paths       list(paths): Folder path to which the data is compared
restore_path        (str): Destination path of restored files
dest_client         (str): Name of the destination client</p>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception :</dt><dd><p>– The restored files doesn’t match with backedup content</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.validate_failed_files">
<code class="sig-name descname">validate_failed_files</code><span class="sig-paren">(</span><em class="sig-param">source_list=[]</em>, <em class="sig-param">job=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.validate_failed_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.validate_failed_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to validate failed files</p>
<dl>
<dt>Args:</dt><dd><p>source_list         (list)  –  list of source paths to be locked.</p>
<p>Job                 (str)  –  Job type Failed or not .</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.validate_filters">
<code class="sig-name descname">validate_filters</code><span class="sig-paren">(</span><em class="sig-param">win_filters</em>, <em class="sig-param">unix_filters</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.validate_filters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.validate_filters" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to validate whether the filters set are being honoured or not</p>
<dl>
<dt>Args:</dt><dd><p>win_filters         (list)  –  windows filters list.</p>
<p>unix_filters        (list)  –  unix filters list.</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>bool    -   Returns True if the filters are being honoured correctly</dt><dd><p>Returns False if the filters are not being honoured</p>
</dd>
</dl>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.validate_pre_post_commands">
<code class="sig-name descname">validate_pre_post_commands</code><span class="sig-paren">(</span><em class="sig-param">commands_from_inputs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.validate_pre_post_commands"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.validate_pre_post_commands" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to validate if pre_post_commands are set</p>
<dl class="simple">
<dt>Args:</dt><dd><p>commands_from_inputs         (dict)  –  Pre/Post commands set by user</p>
</dd>
<dt>Raises:</dt><dd><p>Exception if the commands set in the DB and commands specified by user are not same</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.validate_restore_for_selected_files">
<code class="sig-name descname">validate_restore_for_selected_files</code><span class="sig-paren">(</span><em class="sig-param">backup_files</em>, <em class="sig-param">restore_path</em>, <em class="sig-param">dest_client=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.validate_restore_for_selected_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.validate_restore_for_selected_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates whether selected/deleted files are backedup or not
Args:</p>
<blockquote>
<div><p>backup_files   list(filepaths)    –  List of select/delete file paths.
restore_path  (str)    –  Destination path of restored files.
dest_client    (str): Name of the destination client</p>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception :</dt><dd><p>– If the selected/deleted files are not backup</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.validate_rfc_files">
<code class="sig-name descname">validate_rfc_files</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">source_list</em>, <em class="sig-param">delete_rfc=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.validate_rfc_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.validate_rfc_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to validate Remote file cache with backup and restore</p>
<dl>
<dt>Args:</dt><dd><p>jobid                (str)  –  Job ID of backup  .</p>
<p>source_list         (list)  –  list of RFC files to be validated .</p>
<dl class="simple">
<dt>delete_rfc           (bool) –  True: Deletes RFC path</dt><dd><p>Default :False</p>
</dd>
</dl>
</dd>
<dt>Raises:</dt><dd><p>Exception if file not available in media agent RFC paths</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.validate_trueup">
<code class="sig-name descname">validate_trueup</code><span class="sig-paren">(</span><em class="sig-param">job</em>, <em class="sig-param">check_for_trueupfiles=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.validate_trueup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.validate_trueup" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Given job object, it runs a query in JMMisc table and</dt><dd><p>checks if itemtype 38 and 44 are present in query result.
ItemType - 38 - Confirms if true up ran or not.
ItemType - 44 - Confirms if true up picked up files or not.</p>
</dd>
<dt>Args:</dt><dd><dl class="simple">
<dt>job (object)                – instance of the Job class</dt><dd><p>for the backup job to query.</p>
</dd>
<dt>check_for_trueupfiles (bool)  – conditional variable to check</dt><dd><dl class="simple">
<dt>if trueup ran and picked up files.</dt><dd><p>default: False</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>bool     - If checkForTrueupFiles is False</dt><dd><p>Returns True if trueup Ran
If checkForTrueupFiles is True
Returns True if trueup Ran and picked up files.</p>
</dd>
</dl>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurred during SQL query execution.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.verify_collect_extent_acl">
<code class="sig-name descname">verify_collect_extent_acl</code><span class="sig-paren">(</span><em class="sig-param">source_list</em>, <em class="sig-param">job_type</em>, <em class="sig-param">acl=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.verify_collect_extent_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.verify_collect_extent_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>To verify the extent/acls only files
Args:</p>
<blockquote>
<div><p>source_list (list): List of files from source data
job_type  (str): Full/incremental
acl (int): 1- extent/container check</p>
<blockquote>
<div><p>2 - only acl check
3 - extent/container/acl check</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">return(boolean)</dt>
<dd class="field-odd"><p>True - Successful
False - Failed</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.verify_dc">
<code class="sig-name descname">verify_dc</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.verify_dc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.verify_dc" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies whether the job used Scan optimization</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>jobid    (int)  – jobid to be checked</p>
<dl class="simple">
<dt>log_dir  (str)  – path of the log directory</dt><dd><p>default:None</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool   -   Returns True if dc scan was successful or else false</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurred while verifying the scan status</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.verify_scan_marking">
<code class="sig-name descname">verify_scan_marking</code><span class="sig-paren">(</span><em class="sig-param">job_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.verify_scan_marking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.verify_scan_marking" title="Permalink to this definition">¶</a></dt>
<dd><p>“Verifies whether the job ran onle Scan phase i.e., Scan Marking Job
Args :</p>
<blockquote>
<div><p>jobId   – to verify the given job ran only Scan phase</p>
</div></blockquote>
<dl>
<dt>Return:</dt><dd><p>True        – if ran only Scan phases and the job is in Compeleted State</p>
<p>False       – if didn’t ran Scan Marking Job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.fshelper.FSHelper.volume_level_restore">
<code class="sig-name descname">volume_level_restore</code><span class="sig-paren">(</span><em class="sig-param">source_path</em>, <em class="sig-param">destination_path</em>, <em class="sig-param">client_name</em>, <em class="sig-param">job=None</em>, <em class="sig-param">cleanup=True</em>, <em class="sig-param">from_time=None</em>, <em class="sig-param">to_time=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#FSHelper.volume_level_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.FSHelper.volume_level_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to perform volume level restore</p>
<dl>
<dt>Args:</dt><dd><p>source_path(str)       – Source Path for the restore</p>
<p>destination_path(str)  – Destination Path you want to restore</p>
<p>client_name(str)       – On client which you want to perform Volume level Restore</p>
<p>from_time (str)        – From time for Restore</p>
<blockquote>
<div><p>default : None</p>
</div></blockquote>
<p>to_time (str)          – to time for Restore</p>
<blockquote>
<div><p>default : None</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occurred while doing volume level restore.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="FileSystem.FSUtils.fshelper.IndexEnabled">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.FSUtils.fshelper.</code><code class="sig-name descname">IndexEnabled</code><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#IndexEnabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.IndexEnabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>With Blocklevel we check Meta Data Collection on or not</p>
<dl class="attribute">
<dt id="FileSystem.FSUtils.fshelper.IndexEnabled.INDEX">
<code class="sig-name descname">INDEX</code><em class="property"> = 2</em><a class="headerlink" href="#FileSystem.FSUtils.fshelper.IndexEnabled.INDEX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.FSUtils.fshelper.IndexEnabled.NOINDEX">
<code class="sig-name descname">NOINDEX</code><em class="property"> = 1</em><a class="headerlink" href="#FileSystem.FSUtils.fshelper.IndexEnabled.NOINDEX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="FileSystem.FSUtils.fshelper.ScanType">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.FSUtils.fshelper.</code><code class="sig-name descname">ScanType</code><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#ScanType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.ScanType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>Constants for all the scan types
currently supported for file system subclients</p>
<dl class="attribute">
<dt id="FileSystem.FSUtils.fshelper.ScanType.CHANGEJOURNAL">
<code class="sig-name descname">CHANGEJOURNAL</code><em class="property"> = 3</em><a class="headerlink" href="#FileSystem.FSUtils.fshelper.ScanType.CHANGEJOURNAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.FSUtils.fshelper.ScanType.OPTIMIZED">
<code class="sig-name descname">OPTIMIZED</code><em class="property"> = 2</em><a class="headerlink" href="#FileSystem.FSUtils.fshelper.ScanType.OPTIMIZED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.FSUtils.fshelper.ScanType.RECURSIVE">
<code class="sig-name descname">RECURSIVE</code><em class="property"> = 1</em><a class="headerlink" href="#FileSystem.FSUtils.fshelper.ScanType.RECURSIVE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="FileSystem.FSUtils.fshelper.SoftwareCompression">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.FSUtils.fshelper.</code><code class="sig-name descname">SoftwareCompression</code><a class="reference internal" href="../_modules/FileSystem/FSUtils/fshelper.html#SoftwareCompression"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.fshelper.SoftwareCompression" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>Constants for all the supported software compression values.</p>
<dl class="attribute">
<dt id="FileSystem.FSUtils.fshelper.SoftwareCompression.OFF">
<code class="sig-name descname">OFF</code><em class="property"> = 4</em><a class="headerlink" href="#FileSystem.FSUtils.fshelper.SoftwareCompression.OFF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.FSUtils.fshelper.SoftwareCompression.ON_CLIENT">
<code class="sig-name descname">ON_CLIENT</code><em class="property"> = 1</em><a class="headerlink" href="#FileSystem.FSUtils.fshelper.SoftwareCompression.ON_CLIENT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.FSUtils.fshelper.SoftwareCompression.ON_MEDIA_AGENT">
<code class="sig-name descname">ON_MEDIA_AGENT</code><em class="property"> = 2</em><a class="headerlink" href="#FileSystem.FSUtils.fshelper.SoftwareCompression.ON_MEDIA_AGENT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.FSUtils.fshelper.SoftwareCompression.USE_STORAGE_POLICY_SETTINGS">
<code class="sig-name descname">USE_STORAGE_POLICY_SETTINGS</code><em class="property"> = 3</em><a class="headerlink" href="#FileSystem.FSUtils.fshelper.SoftwareCompression.USE_STORAGE_POLICY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-FileSystem.FSUtils.ibmihelper">
<span id="filesystem-fsutils-ibmihelper-module"></span><h2>FileSystem.FSUtils.ibmihelper module<a class="headerlink" href="#module-FileSystem.FSUtils.ibmihelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing IBMi File System operations
IBMiHelper: Helper class to perform file system operations which derives from the UnixFSHelper.</p>
<div class="section" id="ibmihelper">
<h3>IBMiHelper<a class="headerlink" href="#ibmihelper" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>__init__()                      –  initializes IBMi helper object</p>
<p>num_libraries()                 –  Returns the number of libraries that are generated.</p>
<p>get_subclient_content()         –  Generates the subclient content list.</p>
<p>add_new_data_incr()             –  Adds new data for incremental backups</p>
<p>mod_data_incr()                 –  Modifies the data added by add_new_data_incr</p>
<dl class="simple">
<dt>run_restore_verify()            –  Initiates restore for data</dt><dd><p>backed up in the given job
and performs the applicable verifications</p>
</dd>
<dt>run_find_verify()               –  Finds items backed up in the given job</dt><dd><p>and compares it with items from machine</p>
</dd>
<dt>run_complete_restore_verify()   –  Initiates restore of complete /QSYS.LIB data backed up for</dt><dd><p>this subclient</p>
</dd>
</dl>
<p>set_client_side_deduplication() –  Set subclient property to perform client side deduplication</p>
<p>set_object_level_backup()       –  Set the subclient property to backup data as objects.</p>
<p>get_log_directory()             –  Returns the log directory of the IBMi client</p>
<p>verify_from_log()               –  Parse the log file to match a regular expression.</p>
<p>update_filter_and_exception()   –  Updates the subclient’s filter and exception content.</p>
<p>get_wildcard_content()          –  Returns a wildcard content for subclient.</p>
<p>enable_synclib()                –  Enables synclib for subclient.</p>
<p>create_ibmi_dr_subclient()      –  Create IBMi DR subclient with IBMi specific parameters</p>
<p>set_savf_file_backup()          –  Enable SAVF file backups for an IBMi subclient</p>
<dl class="simple">
<dt>configure_ibmi_default_sc()      –  Creates new backupset, check pre-defined subclient</dt><dd><p>and set with specified parameters
under the current testcase Instance.</p>
</dd>
<dt>compare_ibmi_data()             –  Function to perform meta data comparision &amp; Checksum</dt><dd><p>comparision of source and destination paths.</p>
</dd>
</dl>
</div></blockquote>
<div class="section" id="attributes">
<h4>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p><strong>num_libraries</strong>               –  The number of libraries created for this testcase</p>
</div></blockquote>
<dl class="class">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.FSUtils.ibmihelper.</code><code class="sig-name descname">IBMiHelper</code><span class="sig-paren">(</span><em class="sig-param">testcase</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#FileSystem.FSUtils.unixfshelper.UnixFSHelper" title="FileSystem.FSUtils.unixfshelper.UnixFSHelper"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystem.FSUtils.unixfshelper.UnixFSHelper</span></code></a></p>
<p>Helper class to perform file system operations</p>
<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.add_new_data_incr">
<code class="sig-name descname">add_new_data_incr</code><span class="sig-paren">(</span><em class="sig-param">incr_path</em>, <em class="sig-param">slash_format</em>, <em class="sig-param">scan_type=&lt;ScanType.RECURSIVE: 1&gt;</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.add_new_data_incr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.add_new_data_incr" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds new data for incremental. For IFS paths, this will call the UnixFsHelper
implementation with provisions for modification after this function execution call
mod_data_incr for modifications</p>
<dl>
<dt>Args:</dt><dd><p>incr_path           (str)   : path for adding data</p>
<p>slash_format        (str)   : OS path separator format</p>
<dl>
<dt>scan_type           (str)<span class="classifier">scan type as one of below</span></dt><dd><blockquote>
<div><p>RECURSIVE
OPTIMIZED
CHANGEJOURNAL</p>
</div></blockquote>
<p>default: ScanType.RECURSIVE</p>
</dd>
</dl>
<p><a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs            (dict)  : dictionary of optional arguments</p>
<blockquote>
<div><p>options:</p>
<blockquote>
<div><dl class="simple">
<dt>dirs        (int)<span class="classifier">number of directories in each level.</span></dt><dd><p>default: 3</p>
</dd>
<dt>files       (int)<span class="classifier">number of files in each directory</span></dt><dd><p>default: 5</p>
</dd>
<dt>file_size   (int)<span class="classifier">Size of the files in KB</span></dt><dd><p>default: 20</p>
</dd>
<dt>levels      (int)<span class="classifier">number of levels to be created</span></dt><dd><p>default: 1</p>
</dd>
<dt>hlinks      (bool)<span class="classifier">whether to create hardlink files</span></dt><dd><p>default: True</p>
</dd>
<dt>slinks      (bool)<span class="classifier">whether to create symbolic link files</span></dt><dd><p>default: True</p>
</dd>
<dt>sparse      (bool)<span class="classifier">whether to create sparse files</span></dt><dd><p>default: True</p>
</dd>
<dt>sparse_hole_size (int)<span class="classifier">Size of the holes in sparse files in KB</span></dt><dd><p>default: 1024</p>
</dd>
<dt>options     (str)<span class="classifier">to specify any other additional parameters to the script.</span></dt><dd><p>default: “”</p>
</dd>
</dl>
<p>increment_count (bool)  : to specify if counters need to be incremented</p>
</div></blockquote>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>Any error occurred while populating the data.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.compare_ibmi_data">
<code class="sig-name descname">compare_ibmi_data</code><span class="sig-paren">(</span><em class="sig-param">source_path</em>, <em class="sig-param">destination_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.compare_ibmi_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.compare_ibmi_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to perform meta data comparision &amp; Checksum comparision
of source and destination paths.
Args:</p>
<blockquote>
<div><p>source_path(str)       – Source Path for the restore
destination_path(str)  – Destination Path you want to restore</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - error while comparing the paths.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.configure_ibmi_default_sc">
<code class="sig-name descname">configure_ibmi_default_sc</code><span class="sig-paren">(</span><em class="sig-param">backupset_name</em>, <em class="sig-param">subclient_name</em>, <em class="sig-param">storage_policy</em>, <em class="sig-param">filter_content=None</em>, <em class="sig-param">exception_content=None</em>, <em class="sig-param">scan_type=&lt;ScanType.RECURSIVE: 1&gt;</em>, <em class="sig-param">data_readers=2</em>, <em class="sig-param">allow_multiple_readers=False</em>, <em class="sig-param">savfdta=True</em>, <em class="sig-param">delete=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.configure_ibmi_default_sc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.configure_ibmi_default_sc" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Creates new backupset, check pre-defined subclient and set with specified parameters</dt><dd><p>under the current testcase Instance.</p>
</dd>
</dl>
<p>Checks if the backupset exists or not.
If the backupset exists, deletes the existing backupset
and creates new one with the testcase id.</p>
<dl>
<dt>Args:</dt><dd><p>backupset_name   (str)          – name of the backupset</p>
<p>subclient_name   (str)          – subclient name</p>
<p>storage_policy (str)            – storage policy to assign to subclient</p>
<p>content (list)                  – content list</p>
<dl>
<dt>filter_content (list)           – filter list</dt><dd><p>default: None</p>
</dd>
<dt>exception_conent (list)         – exception list</dt><dd><blockquote>
<div><p>default: None</p>
</div></blockquote>
<dl class="simple">
<dt>data_readers (int)             – number of data readers</dt><dd><p>default: 2</p>
</dd>
</dl>
</dd>
<dt>allow_multiple_readers (bool)   – enable / disable allow multiple readers</dt><dd><p>default: False</p>
</dd>
<dt>scan_type(ScanType(Enum))        –  scan type (RECURSIVE/OPTIMIZED)</dt><dd><p>default: ScanType.RECURSIVE</p>
</dd>
<dt>savfdta (bool)                   – backup save file data along with SAVF object</dt><dd><p>default: True</p>
</dd>
<dt>delete (bool)                    – indicates whether existing backupset should be deleted</dt><dd><p>default: False</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occured while configuring pre-defined subclient.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.create_ibmi_dr_subclient">
<code class="sig-name descname">create_ibmi_dr_subclient</code><span class="sig-paren">(</span><em class="sig-param">subclient_name</em>, <em class="sig-param">storage_policy</em>, <em class="sig-param">additional_library=None</em>, <em class="sig-param">data_readers=2</em>, <em class="sig-param">allow_multiple_readers=False</em>, <em class="sig-param">delete=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.create_ibmi_dr_subclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.create_ibmi_dr_subclient" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a IBMi DR subclient with specific IBMi configurations set.
Args:</p>
<blockquote>
<div><p>subclient_name          (str)   :   Name of the new subclient</p>
<p>storage_policy          (str)   :   Name of the storage policy to use</p>
<dl>
<dt>additional_library      (list)<span class="classifier">List of additional libraries to backup</span></dt><dd><p>default :   None</p>
</dd>
<dt>data_readers            (int)<span class="classifier">number of data readers</span></dt><dd><p>default: 2</p>
</dd>
<dt>allow_multiple_readers (bool)<span class="classifier">enable / disable allow multiple readers</span></dt><dd><p>default: False</p>
</dd>
<dt>delete                  (bool)<span class="classifier">Should subclient be deleted if existing</span></dt><dd><blockquote>
<div><p>default :   False</p>
</div></blockquote>
<p><a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs               (dict)  : Dictionary of optional arguments.</p>
<blockquote>
<div><p>options                 :</p>
<blockquote>
<div><p>tmp_dir         (str)   :   Temporary path</p>
<p>backup_max_time (int)   :   Maximum time the backup can run, in minutes</p>
<dl class="simple">
<dt>save_security   (bool)<span class="classifier">Option to enable SAVSEC backup</span></dt><dd><p>default : True</p>
</dd>
<dt>save_config     (bool)<span class="classifier">Option to enable SAVCFG backup</span></dt><dd><p>default : False</p>
</dd>
</dl>
<p>user_program    (str)   :   program to bring system to ristricted state</p>
<p>print_system_info   (bool)  :   Pring system information during backup</p>
<p>notify_user     (bool)  : notify users about DR backup initiation</p>
<p>notify_delay    (int)   :   delay time before ending subsystems, in minutes</p>
<p>notify_message  (str)   : message content to noitify users</p>
<p>user_ipl_program    (str)   : custom startup program</p>
<p>rstd_cmd        (str)   : command to run in ristricted state.</p>
<p>dvd_image_format    (str)   ; dvd image naming format</p>
</div></blockquote>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None    :   Sets the testcase.subclient object</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>Any error occurred while creating subclient:</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.enable_synclib">
<code class="sig-name descname">enable_synclib</code><span class="sig-paren">(</span><em class="sig-param">synclib_value='*SYNCLIB'</em>, <em class="sig-param">sync_queue=''</em>, <em class="sig-param">sync_all_lib=True</em>, <em class="sig-param">check_point=''</em>, <em class="sig-param">active_wait_time=600</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.enable_synclib"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.enable_synclib" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables the synclib backups for the subclient in testcase.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>synclib_value       (str)<span class="classifier">Value to which save while active option is set.</span></dt><dd><p>default: ‘<a href="#id5"><span class="problematic" id="id6">*</span></a>SYNCLIB’</p>
</dd>
<dt>sync_queue          (str)<span class="classifier">Path for the sync queue</span></dt><dd><p>default: ‘’</p>
</dd>
<dt>sync_all_lib        (bool)<span class="classifier">Whether to synchronize all libraries before backup</span></dt><dd><p>default: True</p>
</dd>
<dt>check_point         (str)<span class="classifier">Command to run on checkpoint</span></dt><dd><p>default: ‘’</p>
</dd>
<dt>active_wait_time    (int)<span class="classifier">Amount of time to wait for check point in seconds.</span></dt><dd><p>default: 600</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.get_log_directory">
<code class="sig-name descname">get_log_directory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.get_log_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.get_log_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log directory of the IBMi client</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str : The log directory path</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.get_subclient_content">
<code class="sig-name descname">get_subclient_content</code><span class="sig-paren">(</span><em class="sig-param">test_path</em>, <em class="sig-param">slash_format</em>, <em class="sig-param">subclient_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.get_subclient_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.get_subclient_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the subclient content list. For IFS, calls the unix implementation.</p>
<dl>
<dt>Args:</dt><dd><p>test_path           (str)   : The test path provided for the test case</p>
<p>slash_format        (str)   : The slash format for the platform</p>
<p>subclient_name      (str)   : The name of the subclient for which data is generated.</p>
</dd>
<dt>Returns:</dt><dd><p>list : list of subclient contents for this test case</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.get_wildcard_content">
<code class="sig-name descname">get_wildcard_content</code><span class="sig-paren">(</span><em class="sig-param">subclient_content</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.get_wildcard_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.get_wildcard_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a wildcard to substitute for the subclient content.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>subclient_content       (str) : subclient content path</p>
</dd>
<dt>Returns:</dt><dd><p>str : subclient content in wildcard format.</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>If the subclient content provided is not library file system.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.mod_data_incr">
<code class="sig-name descname">mod_data_incr</code><span class="sig-paren">(</span><em class="sig-param">scan_type=&lt;ScanType.RECURSIVE: 1&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.mod_data_incr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.mod_data_incr" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies the data added by add_new_data_incr call add_new_data_incr before calling this.
For LFS, it adds more incremental data. For IFS, it calls the UnixFsHelper implementation</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>scan_type       (ScanType(Enum))<span class="classifier">scan type</span></dt><dd><p>default : ScanType.RECURSIVE</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>Any error occurred while modifying the data.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.num_libraries">
<em class="property">property </em><code class="sig-name descname">num_libraries</code><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.num_libraries" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of libraries that are generated for this test</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.run_complete_restore_verify">
<code class="sig-name descname">run_complete_restore_verify</code><span class="sig-paren">(</span><em class="sig-param">content</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.run_complete_restore_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.run_complete_restore_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiates restore of complete /QSYS.LIB data backed up for this subclient.
This runs a find on source, then deletes all the source files and
attempts an in-place restore. The initial find is compared with find on restored data.</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>content     (list)  : list of the content for this testcase</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>Any error occurred while running restore or during verification.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.run_find_verify">
<code class="sig-name descname">run_find_verify</code><span class="sig-paren">(</span><em class="sig-param">machine_path</em>, <em class="sig-param">job=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.run_find_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.run_find_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds items backed up in the given job and compares it with items from machine</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>machine_path    (str)   : Source data path on the machine</p>
<dl class="simple">
<dt>job             (obj)<span class="classifier">instance of the job class whose data needs to be restored</span></dt><dd><p>default : None</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>Any error occurred while finding items or during verification.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.run_restore_verify">
<code class="sig-name descname">run_restore_verify</code><span class="sig-paren">(</span><em class="sig-param">slash_format</em>, <em class="sig-param">data_path</em>, <em class="sig-param">tmp_path</em>, <em class="sig-param">data_path_leaf</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.run_restore_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.run_restore_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiates restore for data backed up in the given job
and performs the applicable verifications</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>slash_format    (str)   : OS path separator format</p>
<p>data_path       (str)   : Source data path</p>
<p>tmp_path        (str)   : temporary path for restoring the data</p>
<p>data_path_leaf  (str)   : leaf level of the data_path</p>
<p><a href="#id7"><span class="problematic" id="id8">**</span></a>kwargs        (dict)  : Dictionary of optional arguments.</p>
<blockquote>
<div><p>options             :</p>
<blockquote>
<div><dl class="simple">
<dt>job     (obj)<span class="classifier">instance of the job class whose data needs to be restored</span></dt><dd><p>default : None</p>
</dd>
<dt>cleanup (bool)<span class="classifier">to indicate if restored data should be cleaned up</span></dt><dd><p>default : True</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>Any error occurred while running restore or during verification.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.set_client_side_deduplication">
<code class="sig-name descname">set_client_side_deduplication</code><span class="sig-paren">(</span><em class="sig-param">generate_signature_on_ibmi=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.set_client_side_deduplication"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.set_client_side_deduplication" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the subclient property to generate signature on ibmi client.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>generate_signature_on_ibmi  (bool)<span class="classifier">Enable or disable the property</span></dt><dd><p>default: True</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>SDKException:</dt><dd><p>if failed to update number properties for subclient</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.set_object_level_backup">
<code class="sig-name descname">set_object_level_backup</code><span class="sig-paren">(</span><em class="sig-param">object_level_backup=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.set_object_level_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.set_object_level_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the subclient property to backup data as objects.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>object_level_backup     (bool)<span class="classifier">Enable or disable the property</span></dt><dd><p>default: True</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>SDKException:</dt><dd><p>if failed to update number properties for subclient</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.set_savf_file_backup">
<code class="sig-name descname">set_savf_file_backup</code><span class="sig-paren">(</span><em class="sig-param">value=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.set_savf_file_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.set_savf_file_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the savf file backup property to user provided value</p>
<dl class="simple">
<dt>Args:</dt><dd><p>value   (bool)  :   Boolean to set/unset the savf file backup property</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.update_filter_and_exception">
<code class="sig-name descname">update_filter_and_exception</code><span class="sig-paren">(</span><em class="sig-param">filter_content=None</em>, <em class="sig-param">exception_content=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.update_filter_and_exception"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.update_filter_and_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Update subclient with new filters and exceptions</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>filter_content          (list)<span class="classifier">List of filters</span></dt><dd><p>default : None</p>
</dd>
<dt>exception_content       (list)<span class="classifier">List of exceptions</span></dt><dd><p>default : None</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>If the filter and exception update fails.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.verify_dc">
<code class="sig-name descname">verify_dc</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.verify_dc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.verify_dc" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies whether the job used Scan optimization</p>
<blockquote>
<div><blockquote>
<div><dl>
<dt>Args:</dt><dd><p>jobid       (int)   : jobid to be checked</p>
<dl class="simple">
<dt>log_dir     (str)<span class="classifier">path of the log directory</span></dt><dd><p>default: None</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool    : Returns True if dc scan was successful or else false</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurred while verifying the scan status</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.ibmihelper.IBMiHelper.verify_from_log">
<code class="sig-name descname">verify_from_log</code><span class="sig-paren">(</span><em class="sig-param">logfile</em>, <em class="sig-param">regex</em>, <em class="sig-param">jobid=None</em>, <em class="sig-param">expectedvalue=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.verify_from_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.ibmihelper.IBMiHelper.verify_from_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the log file for regex and check if the expected value matches.</p>
<dl>
<dt>Args:</dt><dd><p>logfile         (str) : Log file to parse</p>
<p>regex           (str) : Regex to parse the log file with</p>
<dl class="simple">
<dt>jobid           (str)<span class="classifier">Job id</span></dt><dd><p>default: None</p>
</dd>
<dt>expectedvalue   (str)<span class="classifier">The expected value in regex match</span></dt><dd><p>default: None</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>bool : True if lines matching regex and expected value were found.</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>If no lines matching the regex and expected value is found.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
</div>
<div class="section" id="module-FileSystem.FSUtils.migration_assistant_helper">
<span id="filesystem-fsutils-migration-assistant-helper-module"></span><h2>FileSystem.FSUtils.migration_assistant_helper module<a class="headerlink" href="#module-FileSystem.FSUtils.migration_assistant_helper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing operations related to the Migration Assistance feature.</p>
<p>MigrationAssistantHelper is the only class defined in this file.</p>
<p>MigrationAssistantHelper: Helper class to perform operations for the Migration Assistance feature.</p>
<div class="section" id="migrationassistanthelper">
<h3>MigrationAssistantHelper:<a class="headerlink" href="#migrationassistanthelper" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>__init__()                              –  Initializes MA helper object.</p>
<p>populate_migration_assistant_inputs()   –  Initializes the MA specific attributes
in addition to calling FSHelper.populate_tc_inputs() to initialize all other inputs.</p>
<p>create_default_backupset()              –  Creates a new backup set with the provided name
if it doesn’t exist and sets it as the default backup set.</p>
<p>get_ma_entries_from_machine()           –  Prepares a list of entries
from the machine that should get backed up as part of Migration Assistant User Settings.</p>
<p>get_ma_entries_from_cvfs()              –  Prepares a list of MA entries
from the collect file.</p>
<p>collect_registry_entries()              –  Collects registry entries
from the specified machine under a specified sub key.</p>
<p>compare_lists()                         –  Compares the source list with destination list
and checks for equality or if the entries in the destination list can
form a subset of the entries in the source list.</p>
<p>get_sid_for_user_profile()              –  Retrieves the SID for the user profile.</p>
<p>run_sync_restore()                      –  Launches a Sync. Restore job
on the specified destination client.</p>
<p>get_moniker_paths()                     –  Fetches the path for each of the monikers
from the machine for the given user profile.</p>
<p>perform_ma_validation()                 –  Validates whether the collect file has all
the MA entries by comparing it against a list of expected MA entries from the machine.</p>
<p>generate_test_data_for_ma()             –  Generates test data under the well-known folders.</p>
<p>ma_restore_verify()                     –  Initiates restore for data backed up in the
given job and performs the applicable verifications.</p>
<p>delete_dataset_for_ma()                 –  Cleans up the dataset created under well known folders.</p>
</div></blockquote>
</div>
<div class="section" id="migrationassistanthelper-instance-attributes">
<h3>MigrationAssistantHelper Instance Attributes:<a class="headerlink" href="#migrationassistanthelper-instance-attributes" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p><strong>moniker_dict</strong>    –  Returns a dictionary of monikers to their paths on the client machine.</p>
</div></blockquote>
<dl class="class">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.FSUtils.migration_assistant_helper.</code><code class="sig-name descname">MigrationAssistantHelper</code><span class="sig-paren">(</span><em class="sig-param">testcase</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#FileSystem.FSUtils.fshelper.FSHelper" title="FileSystem.FSUtils.fshelper.FSHelper"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystem.FSUtils.fshelper.FSHelper</span></code></a></p>
<p>Helper class to perform Migration Assistance operations</p>
<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.cleanup_run_for_ma">
<code class="sig-name descname">cleanup_run_for_ma</code><span class="sig-paren">(</span><em class="sig-param">days=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.cleanup_run_for_ma"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.cleanup_run_for_ma" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the dataset that was created under the well known folders and deletes the backupset.</p>
<dl>
<dt>Args:</dt><dd><p>days            (int)   –  dataset older than the given days will be cleaned up.</p>
<blockquote>
<div><p>default: None</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.collect_registry_entries">
<code class="sig-name descname">collect_registry_entries</code><span class="sig-paren">(</span><em class="sig-param">machine_object</em>, <em class="sig-param">subkey_name</em>, <em class="sig-param">recurse=True</em>, <em class="sig-param">find_subkey=None</em>, <em class="sig-param">find_entry=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.collect_registry_entries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.collect_registry_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Collects registry entries from the specified machine under a specified sub key.</p>
<dl>
<dt>Args:</dt><dd><p>machine_object  (object)    –  Instance of Machine class
connected to the remote machine to get registry entries from.</p>
<p>subkey_name     (str)       –  Name of the subkey
in the registry. An example of a subkey name is ‘HKLM:SOFTWARECommVault Systems’</p>
<p>recurse         (bool)      –  Whether to recurse through subkeys or not.</p>
<blockquote>
<div><p>default:    True</p>
</div></blockquote>
<p>find_subkey     (str)       –  Name of the key to search for in the given subkey.</p>
<blockquote>
<div><p>default:    None</p>
</div></blockquote>
<p>find_entry      (str)       –  Name of the entry to search for,
specifying a subkey is mandatory.</p>
<blockquote>
<div><p>default:    None</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>dict    -   A dictionary of dictionaries containing
the entry name as the key and the entry data as value.</p>
</dd>
<dt>Raises:</dt><dd><p>Exception:
If any error occurs when collecting registry entries.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.compare_lists">
<code class="sig-name descname">compare_lists</code><span class="sig-paren">(</span><em class="sig-param">source_list</em>, <em class="sig-param">destination_list</em>, <em class="sig-param">check_subset=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.compare_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.compare_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the source list with destination list and checks if they are same or if
the entries in the destination list can form a subset of the entries in the source list.</p>
<dl>
<dt>Args:</dt><dd><p>source_list         (list)  –  1st list to compare the contents of.</p>
<p>destination_list    (list)  –  2nd list to compare the contents of.</p>
<p>check_subset        (bool)  –  Checks if the entries in the destination list
can form a subset of the entries in the source list.</p>
<blockquote>
<div><p>default:    True</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>tuple   -   tuple consisting of a boolean and a string, where:</p>
<blockquote>
<div><p>bool:</p>
<blockquote>
<div><p>returns True if the lists are identical</p>
<p>returns False if the contents of the lists are different</p>
</div></blockquote>
<p>str:</p>
<blockquote>
<div><p>empty string in case of True, otherwise string consisting of the
differences b/w the 2 lists separated by new-line</p>
</div></blockquote>
</div></blockquote>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.create_MigrationAssistantHelper_object">
<code class="sig-name descname">create_MigrationAssistantHelper_object</code><span class="sig-paren">(</span><em class="sig-param">machine_name=None</em>, <em class="sig-param">commcell_object=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.create_MigrationAssistantHelper_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.create_MigrationAssistantHelper_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the instance of one of the Subclasses MigrationAssisatntHelper for MAc/Windows,
based on the OS details of the remote client.</p>
<dl class="simple">
<dt>If Commcell Object is given, and the Client is Commvault Client:</dt><dd><p>Gets the OS Info from Client OS Info attribute</p>
</dd>
</dl>
<p>Otherwise, Pings the client, and decides the OS based on the TTL value.</p>
<p>TTL Value: 64 (Linux) / 128 (Windows) / 255 (UNIX)</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.create_default_backupset">
<code class="sig-name descname">create_default_backupset</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.create_default_backupset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.create_default_backupset" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new backup set with the given name and sets it as the default backup set.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>name    (str)   –  Name of the backupset.</p>
</dd>
<dt>Returns:</dt><dd><p>None    -   If the backupset was created successfully.</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>Any error occured during backupset creation or updation of backupset as default.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.generate_test_data_for_ma">
<code class="sig-name descname">generate_test_data_for_ma</code><span class="sig-paren">(</span><em class="sig-param">machine_object</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">add_incr=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.generate_test_data_for_ma"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.generate_test_data_for_ma" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates test data under the well-known folders.</p>
<dl>
<dt>Args:</dt><dd><p>machine_object  (object)    –  Instance of the Machine class
connected to the remote machine on which the test data needs to be generated.</p>
<p>suffix          (str)       –  An optional suffix to help identify the dataset.</p>
<p>add_incr        (bool)      –  Specifies whether
data is being added for an incremental backup or not.</p>
<blockquote>
<div><p>default:    True</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_ma_entries_from_cvfs">
<code class="sig-name descname">get_ma_entries_from_cvfs</code><span class="sig-paren">(</span><em class="sig-param">machine_object</em>, <em class="sig-param">backup_level</em>, <em class="sig-param">profile=None</em>, <em class="sig-param">get_entries_as_list=True</em>, <em class="sig-param">flag='&lt;ma&gt;'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.get_ma_entries_from_cvfs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_ma_entries_from_cvfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a list of MA entries from the collect file.</p>
<dl>
<dt>Args:</dt><dd><p>machine_object      (object)    –  Instance of Machine class
connected to the remote machine to get collect file entries from.</p>
<p>backup_level        (str)                           –  Level of backup.</p>
<blockquote>
<div><dl class="simple">
<dt>Valid values are:</dt><dd><ul class="simple">
<li><p>Full</p></li>
<li><p>Incremental</p></li>
<li><p>Differential</p></li>
<li><p>Synthetic_full</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<p>profile             (str)                           –  The profile
whose MA entries need to be fetched.</p>
<p>get_entries_as_list (bool)                          –  Whether entries
need to be returned in the form of a list.</p>
<blockquote>
<div><p>default:    True</p>
</div></blockquote>
<p>flag                (str)                           –  The flag(s) to search for
as written in the collect file.</p>
<blockquote>
<div><p>default:    &lt;ma&gt;</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>list    -   list of MA items from the collect file.</p>
</dd>
<dt>Raises:</dt><dd><p>Exception:
If any error occurs when collecting MA entries from the collect files.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_ma_entries_from_machine">
<code class="sig-name descname">get_ma_entries_from_machine</code><span class="sig-paren">(</span><em class="sig-param">machine_object</em>, <em class="sig-param">appdata_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.get_ma_entries_from_machine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_ma_entries_from_machine" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a list of entries from the machine that should
get backed up as part of Migration Assistant User Settings.</p>
<dl>
<dt>Args:</dt><dd><p>machine_object  (object)    –  Instance of Machine class
connected to the remote machine to get MA entries from.</p>
<p>appdata_path    (str)       –  Profile path for the given user.
E.g. C:UsersAdministrator\AppData</p>
</dd>
<dt>Returns:</dt><dd><p>list    -   list of items that would be backed up
as part of MA for given user profile.</p>
</dd>
<dt>Raises:</dt><dd><p>Exception:
If any error occurs when collecting MA entries from the machine.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_moniker_paths">
<code class="sig-name descname">get_moniker_paths</code><span class="sig-paren">(</span><em class="sig-param">machine_object</em>, <em class="sig-param">user_profile</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.get_moniker_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_moniker_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the path for each of the monikers from the machine for the given user profile.</p>
<dl>
<dt>Args:</dt><dd><p>machine_object  (object)    –  Instance of Machine class
connected to the remote machine for which the paths corresponding
to the monikers need to be fetched from.</p>
<p>user_profile    (str)       –  Name of the user profile
for which the paths corresponding to the monikers need to be fetched.</p>
</dd>
<dt>Returns:</dt><dd><p>dict    -   A dictionary of the monikers and their corresponding paths.</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_sid_for_user_profile">
<code class="sig-name descname">get_sid_for_user_profile</code><span class="sig-paren">(</span><em class="sig-param">machine_object</em>, <em class="sig-param">user_profile</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.get_sid_for_user_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_sid_for_user_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the SID for the user profile.</p>
<dl>
<dt>Args:</dt><dd><p>machine_object  (object)    –  Instance of Machine class
connected to the remote machine from which we need to get
the SID of the provided user profile.</p>
<p>user_profile    (str)       –  Name of the user profile.</p>
</dd>
<dt>Returns:</dt><dd><p>str -   SID of the user profile.</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.ma_restore_verify">
<code class="sig-name descname">ma_restore_verify</code><span class="sig-paren">(</span><em class="sig-param">job</em>, <em class="sig-param">suffix</em>, <em class="sig-param">ma_validation_flag=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.ma_restore_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.ma_restore_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiates restore for data backed up in the given job
and performs the applicable verifications.</p>
<dl>
<dt>Args:</dt><dd><p>job                 (object)    –  Instance of Job class
of the backup job that backed up MA items.</p>
<p>suffix              (str)       –  The suffix used to identify the subset of
the dataset that needs to be restored.</p>
<p>ma_validation_flag  (bool)      –  Whether MA validation is required.</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.moniker_dict">
<em class="property">property </em><code class="sig-name descname">moniker_dict</code><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.moniker_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.perform_ma_validation">
<code class="sig-name descname">perform_ma_validation</code><span class="sig-paren">(</span><em class="sig-param">backup_level</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.perform_ma_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.perform_ma_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates whether the collect file has all the MA entries by comparing it
against a list of expected MA entries from the machine.</p>
<dl>
<dt>Args:</dt><dd><p>backup_level    (str)   –  Level of backup.</p>
<blockquote>
<div><dl class="simple">
<dt>Valid values are:</dt><dd><ul class="simple">
<li><p>Full</p></li>
<li><p>Incremental</p></li>
<li><p>Differential</p></li>
<li><p>Synthetic_full</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>tuple   -   tuple consisting of a boolean and a string, where:</p>
<blockquote>
<div><p>bool:</p>
<blockquote>
<div><p>returns True if the lists are identical</p>
<p>returns False if the contents of the lists are different</p>
</div></blockquote>
<p>str:</p>
<blockquote>
<div><p>empty string in case of True, otherwise string consisting of the
differences b/w the 2 lists separated by new-line</p>
</div></blockquote>
</div></blockquote>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.populate_migration_assistant_inputs">
<em class="property">static </em><code class="sig-name descname">populate_migration_assistant_inputs</code><span class="sig-paren">(</span><em class="sig-param">cv_testcase</em>, <em class="sig-param">mandatory=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.populate_migration_assistant_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.populate_migration_assistant_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes all the test case inputs after validation</p>
<dl>
<dt>Args:</dt><dd><p>cv_testcase     (object)    –  Object of CVTestCase.</p>
<p>mandatory       (bool)      –  Whether to check for mandatory inputs
and raise exception if not found.</p>
<blockquote>
<div><p>default:    True</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None   -   If the inputs were populated successfully.</p>
</dd>
<dt>Raises:</dt><dd><dl>
<dt>Exception:</dt><dd><p>If a valid CVTestCase object is not passed.</p>
<p>If CVTestCase object doesn’t have agent initialized.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.run_sync_restore">
<code class="sig-name descname">run_sync_restore</code><span class="sig-paren">(</span><em class="sig-param">dst_client</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.run_sync_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.run_sync_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Launches a Sync. Restore job on the specified destination client.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>dst_client      (object)    –  Instance of Client object destination client
for the Sync. Restore.</p>
</dd>
<dt>Returns:</dt><dd><p>object -   Returns an instance of Job class for the Sync. Restore.</p>
</dd>
<dt>Raises:</dt><dd><p>Exception:
Any error occurred while running
Sync. Restore or if it did not complete successfully.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelperMac">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.FSUtils.migration_assistant_helper.</code><code class="sig-name descname">MigrationAssistantHelperMac</code><span class="sig-paren">(</span><em class="sig-param">testcase</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelperMac"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelperMac" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper" title="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper</span></code></a></p>
<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelperMac.get_ma_entries_from_mac_cvfs">
<code class="sig-name descname">get_ma_entries_from_mac_cvfs</code><span class="sig-paren">(</span><em class="sig-param">machine_object</em>, <em class="sig-param">backup_level</em>, <em class="sig-param">profile=None</em>, <em class="sig-param">get_entries_as_list=True</em>, <em class="sig-param">flag='&lt;ma&gt;'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelperMac.get_ma_entries_from_mac_cvfs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelperMac.get_ma_entries_from_mac_cvfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a list of MA entries from the collect file.</p>
<dl>
<dt>Args:</dt><dd><p>machine_object      (object)    –  Instance of Machine class
connected to the remote machine to get collect file entries from.</p>
<p>backup_level        (str)                           –  Level of backup.</p>
<blockquote>
<div><dl class="simple">
<dt>Valid values are:</dt><dd><ul class="simple">
<li><p>Full</p></li>
<li><p>Incremental</p></li>
<li><p>Differential</p></li>
<li><p>Synthetic_full</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<p>profile             (str)                           –  The profile
whose MA entries need to be fetched.</p>
<p>get_entries_as_list (bool)                          –  Whether entries
need to be returned in the form of a list.</p>
<blockquote>
<div><p>default:    True</p>
</div></blockquote>
<p>flag                (str)                           –  The flag(s) to search for
as written in the collect file.</p>
<blockquote>
<div><p>default:    &lt;ma&gt;</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>list    -   list of MA items from the collect file.</p>
</dd>
<dt>Raises:</dt><dd><p>Exception:
If any error occurs when collecting MA entries from the collect files.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelperMac.get_ma_entries_from_mac_machine">
<code class="sig-name descname">get_ma_entries_from_mac_machine</code><span class="sig-paren">(</span><em class="sig-param">machine_object</em>, <em class="sig-param">profile</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelperMac.get_ma_entries_from_mac_machine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelperMac.get_ma_entries_from_mac_machine" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a list of entries from the machine that should
get backed up as part of Migration Assistant User Settings.</p>
<dl>
<dt>Args:</dt><dd><p>machine_object  (object)    –  Instance of Machine class
connected to the remote machine to get MA entries from.</p>
<p>appdata_path    (str)       –  Profile path for the given user.
E.g. C:UsersAdministrator\AppData</p>
</dd>
<dt>Returns:</dt><dd><p>list    -   list of items that would be backed up
as part of MA for given user profile.</p>
</dd>
<dt>Raises:</dt><dd><p>Exception:
If any error occurs when collecting MA entries from the machine.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelperMac.perform_ma_validation">
<code class="sig-name descname">perform_ma_validation</code><span class="sig-paren">(</span><em class="sig-param">backup_level</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelperMac.perform_ma_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelperMac.perform_ma_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates whether the collect file has all the MA entries by comparing it
against a list of expected MA entries from the machine.</p>
<dl>
<dt>Args:</dt><dd><p>backup_level    (str)   –  Level of backup.</p>
<blockquote>
<div><dl class="simple">
<dt>Valid values are:</dt><dd><ul class="simple">
<li><p>Full</p></li>
<li><p>Incremental</p></li>
<li><p>Differential</p></li>
<li><p>Synthetic_full</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>tuple   -   tuple consisting of a boolean and a string, where:</p>
<blockquote>
<div><p>bool:</p>
<blockquote>
<div><p>returns True if the lists are identical</p>
<p>returns False if the contents of the lists are different</p>
</div></blockquote>
<p>str:</p>
<blockquote>
<div><p>empty string in case of True, otherwise string consisting of the
differences b/w the 2 lists separated by new-line</p>
</div></blockquote>
</div></blockquote>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-FileSystem.FSUtils.onepasshelper">
<span id="filesystem-fsutils-onepasshelper-module"></span><h2>FileSystem.FSUtils.onepasshelper module<a class="headerlink" href="#module-FileSystem.FSUtils.onepasshelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing onepass operations</p>
<p>cvonepas_helper: Helper class to perform file system onepass operations</p>
<dl>
<dt>cvonepas_helper:</dt><dd><p>__init__()              –  initializes cvonepas_helper helper object</p>
<dl class="simple">
<dt>populate_inputs()       – use to pass all the input values</dt><dd><p>to related variables</p>
</dd>
</dl>
<p>get_client_machine()    – return client machine object</p>
<dl class="simple">
<dt>set_client_machine()    –  create new client machine object</dt><dd><p>and assign to self.client_machine</p>
</dd>
</dl>
<p>create_backupset()      – create new backupset</p>
<p>create_subclient()      –  creates new subclient</p>
<p>run_archive()           –  run onpass subclient archive job</p>
<p>set_scan_type()         – change subclient scan type setting</p>
<p>verify_stub()           –  verify stub creation</p>
<p>recall()                –  do onepass recall process</p>
<dl class="simple">
<dt>restore_in_place_restoreStub_unconditional()</dt><dd><dl class="simple">
<dt>–  Run onepass in place restore with</dt><dd><p>restore stub option enabled</p>
</dd>
</dl>
</dd>
</dl>
<p>verify_restore_result() –  verify onepass restore result</p>
<p>create_archiveset()     – creates new archiveset</p>
</dd>
</dl>
<dl class="class">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.FSUtils.onepasshelper.</code><code class="sig-name descname">cvonepas_helper</code><span class="sig-paren">(</span><em class="sig-param">testcase</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#FileSystem.FSUtils.fshelper.FSHelper" title="FileSystem.FSUtils.fshelper.FSHelper"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystem.FSUtils.fshelper.FSHelper</span></code></a></p>
<p>Helper class to perform file system operations</p>
<dl class="method">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper.create_archiveset">
<code class="sig-name descname">create_archiveset</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">delete=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.create_archiveset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper.create_archiveset" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Creates new archiveset with specified parameters</dt><dd><p>under the current testcase Instance.</p>
</dd>
</dl>
<p>Checks if the archiveset exists or not.
If the archiveset exists, deletes the existing archiveset
and creates new one with the testcase id.</p>
<dl>
<dt>Args:</dt><dd><p>name   (str)  – name of the archiveset</p>
<dl class="simple">
<dt>delete (bool) – indicates whether existing archiveset should be deleted</dt><dd><p>default: False</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occurred during archiveset creation</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper.create_backupset">
<code class="sig-name descname">create_backupset</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">delete=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.create_backupset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper.create_backupset" title="Permalink to this definition">¶</a></dt>
<dd><p>this is wrap function, it will just pass the request to
superclass create_backupset function</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><blockquote>
<div><p>name: (str)</p>
<blockquote>
<div><p>–need provide string value of testcase.id</p>
<dl class="simple">
<dt>default: None, function will assign backupset</dt><dd><p>Name  as Backupset_testcase.Id</p>
</dd>
</dl>
</div></blockquote>
<p>delete:         (bool)</p>
<blockquote>
<div><dl>
<dt>default: False - will not recreate backupset</dt><dd><blockquote>
<div><p>if existed</p>
</div></blockquote>
<p>True - will recreate backupset</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>parent class create_backupset function</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper.create_subclient">
<code class="sig-name descname">create_subclient</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">storage_policy=None</em>, <em class="sig-param">content=None</em>, <em class="sig-param">filter_content=None</em>, <em class="sig-param">exception_content=None</em>, <em class="sig-param">trueup_option=True</em>, <em class="sig-param">trueup_days=30</em>, <em class="sig-param">scan_type=&lt;ScanType.OPTIMIZED: 2&gt;</em>, <em class="sig-param">data_readers=2</em>, <em class="sig-param">allow_multiple_readers=False</em>, <em class="sig-param">read_buffer_size=512</em>, <em class="sig-param">block_level_backup=None</em>, <em class="sig-param">delete=False</em>, <em class="sig-param">data_access_nodes=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.create_subclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper.create_subclient" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is a wrap  function and will pass value to
parent class create_subclient function</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>storage_policy:  (str) – associated storage policy Name</p>
<dl>
<dt>name:     (str) – name of subclient, function will</dt><dd><p>set default name
dfault: None</p>
</dd>
<dt>content:  (list) – subclient content, function will</dt><dd><p>set default content if not
default: None</p>
</dd>
<dt>filter_content:   (list) – filter list</dt><dd><p>default: None</p>
</dd>
<dt>exception_content:(list) – exception list</dt><dd><p>default: None</p>
</dd>
<dt>trueup_option:     (bool) – enable / disable true up</dt><dd><p>default: True</p>
</dd>
<dt>trueup_days:        (int)  – trueup after n days</dt><dd><p>default: 30</p>
</dd>
<dt>scan_type:          (ScanType(Enum))</dt><dd><dl>
<dt>–scan type as one of below</dt><dd><blockquote>
<div><p>RECURSIVE
OPTIMIZED
CHANGEJOURNAL</p>
</div></blockquote>
<p>default: ScanType.OPTIMIZED</p>
</dd>
</dl>
</dd>
<dt>data_readers:           (int) –number of data readers</dt><dd><p>default: 2</p>
</dd>
<dt>allow_multiple_readers: (bool)–enable / disable</dt><dd><p>allow multiple readers
default: False</p>
</dd>
<dt>read_buffer_size:   (int) –read buffer size in KB</dt><dd><p>default: 512</p>
</dd>
<dt>delete:             (bool) – indicates whether existing</dt><dd><p>subclient should be deleted
default: False</p>
</dd>
<dt>block_level_backup  (str) – blocklevel backup data switch</dt><dd><p>default: None</p>
</dd>
<dt>data_access_nodes   (list) –creates a subclient with</dt><dd><p>access nodes for NAS onepas
default : None</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>parent class create_subclient function will assigned value</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occurred during Subclient creation</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper.get_client_machine">
<code class="sig-name descname">get_client_machine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.get_client_machine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper.get_client_machine" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the machine object.</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper.populate_inputs">
<code class="sig-name descname">populate_inputs</code><span class="sig-paren">(</span><em class="sig-param">mandatory=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.populate_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper.populate_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes all the test case inputs after validation
Args:</p>
<blockquote>
<div><dl class="simple">
<dt>mandatory      (bool)   –  whether to check  mandatory inputs</dt><dd><p>and raise exception if not found</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if a valid CVTestCase object is not passed.
if CVTestCase object doesn’t have agent initialized</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper.prepare_turbo_testdata">
<code class="sig-name descname">prepare_turbo_testdata</code><span class="sig-paren">(</span><em class="sig-param">content_path</em>, <em class="sig-param">test_file_list</em>, <em class="sig-param">size1=0</em>, <em class="sig-param">size2=0</em>, <em class="sig-param">backup_type='Full'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.prepare_turbo_testdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper.prepare_turbo_testdata" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>This function will generate test files mainly for onepass use</dt><dd><p>Args:</p>
<blockquote>
<div><p>content_path (str): the folder path</p>
<dl class="simple">
<dt>test_file_list (list):</dt><dd><p>e.g
[(‘shouldbearchive.txt ‘True’),
(‘shouldnotbearchive.txt ‘False’)]
each item in testFileList will be tuple type
include fileName and ‘True’/’False’
fileName- the name of the file it will create
‘True’ - means this file will meet migration rule
and will create file with size as Size1
‘False’- means this file will not meet migration rule
and will create file with size as Size2</p>
</dd>
</dl>
<p>size1   (int) -size of file using byte as unit, default is 0</p>
<p>size2   (int) -size of file using byte as unit, default is 0</p>
<p>backup_type  (str) backup job type, default is ‘Full’</p>
</div></blockquote>
<p>Return:</p>
<blockquote>
<div><p>self.client_machine.get_checksum_list(content_path)</p>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if error occurred</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper.recall">
<code class="sig-name descname">recall</code><span class="sig-paren">(</span><em class="sig-param">org_hashcode=None</em>, <em class="sig-param">path=None</em>, <em class="sig-param">checksum=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.recall"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper.recall" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will do stub recall and verify recall result
should match original file</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>org_hashcode  (list)  with each item is a tuple object</dt><dd><p>e.g
{(‘file1.txt’ hashcode_valule),
(‘file2.txt’ hashcode_valule)}
default: None ,
function will use self.org_hashcode</p>
</dd>
<dt>path               (str)  parent folder path</dt><dd><p>default: None, function will use
subclient content path</p>
</dd>
<dt>checksum            Boolean if true we would ask for checksum of files </dt><dd><p>which will trigger recall</p>
</dd>
</dl>
</dd>
<dt>Return:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>exception:</dt><dd><p>if recalled stub file hash code doesn’t match
original file hash value</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper.restore_in_place_restore_stub">
<code class="sig-name descname">restore_in_place_restore_stub</code><span class="sig-paren">(</span><em class="sig-param">paths=None</em>, <em class="sig-param">from_time=None</em>, <em class="sig-param">to_time=None</em>, <em class="sig-param">delete_original_path=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.restore_in_place_restore_stub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper.restore_in_place_restore_stub" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the files/folders specified
in the input paths list to the same location.
by default _restore_in_place function will set restore ACL = True,
unconditional overwrite = True
then do in palce restore, this is a wrap function to explicitly
set restoreDatainsteadofStub= True</p>
<dl>
<dt>Args:</dt><dd><dl>
<dt>paths                   (list)  –  list of full paths</dt><dd><p>of files/folders to restore</p>
</dd>
<dt>from_time           (str)       –  time to</dt><dd><blockquote>
<div><p>retore the contents after</p>
</div></blockquote>
<p>format: YYYY-MM-DD HH:MM:SS
default: None</p>
</dd>
<dt>to_time           (str)         –  time to</dt><dd><blockquote>
<div><p>retore the contents before</p>
</div></blockquote>
<p>format: YYYY-MM-DD HH:MM:SS
default: None</p>
</dd>
<dt>delete_original_path (bool)</dt><dd><dl>
<dt>default - True, it will delete existing path</dt><dd><blockquote>
<div><p>before restore</p>
</div></blockquote>
<p>False, will not clean restore path</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>object - instance of the Job class for this restore job</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception - Any error occurred while running restore</dt><dd><p>or restore didn’t complete successfully.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper.run_archive">
<code class="sig-name descname">run_archive</code><span class="sig-paren">(</span><em class="sig-param">backup_level='INCREMENTAL'</em>, <em class="sig-param">do_not_wait=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.run_archive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper.run_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is a wrap function to run an archive job
for related subclient</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><blockquote>
<div><blockquote>
<div><dl>
<dt>backup_level  (str)</dt><dd><p>Full -&gt;FULL job,
INCREMENTAL-&gt;INCREMENTAL job,
DIFFERENTIAL-&gt;DIFFERENTIAL job,
SYNTHETIC_FULL-&gt;</p>
<blockquote>
<div><p>SYNTHETIC_FULL -runIncrementalBackup false,</p>
</div></blockquote>
<dl class="simple">
<dt>SynFullBackupWithIncBefore-&gt;</dt><dd><p>SYNTHETIC_FULL -runIncrementalBackup true,</p>
</dd>
<dt>SynFullBackupWithIncAfter-&gt;</dt><dd><p>SYNTHETIC_FULL -runIncrementalBackup true</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>do_not_wait    (bool) True  - will return job instance and</dt><dd><blockquote>
<div><p>not wait job finish</p>
</div></blockquote>
<dl class="simple">
<dt>False - will wait job finish then</dt><dd><p>return the job instance</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><dl class="simple">
<dt>object - instance of the Job class for this archive job if</dt><dd><p>its an immediate return Job
instance of the Job class for the archive job if
its a finished Job</p>
</dd>
</dl>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>SDKException:</dt><dd><p>if backup level specified is not correct</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper.set_client_machine">
<code class="sig-name descname">set_client_machine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.set_client_machine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper.set_client_machine" title="Permalink to this definition">¶</a></dt>
<dd><p>set machine object</p>
<p>for traditional file system and onepass local Agent, we will
use actual client machine to create machine object
for pseudo client, we will create machine object point
to agent machine
for multi-nodes pseudo client, we will use the first node
as main node, and create machine object point to first node
since all the agent machine should be active machine on CS,
so we will create agent machine object based on cvd method
to minimize the input requirements (no extra agent machine
login account info needed)</p>
<dl class="simple">
<dt>Args:</dt><dd><p>None</p>
</dd>
<dt>Return:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if fail to create machine object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper.set_scan_type">
<code class="sig-name descname">set_scan_type</code><span class="sig-paren">(</span><em class="sig-param">scan_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.set_scan_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper.set_scan_type" title="Permalink to this definition">¶</a></dt>
<dd><p>set subclient scan type</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>scan_type  (ScanType(Enum))</dt><dd><dl class="simple">
<dt>–scan type as one of below</dt><dd><p>RECURSIVE
OPTIMIZED
CHANGEJOURNAL
default: ScanType.OPTIMIZED</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Return:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception - Any error occurred during Subclient creation</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper.verify_restore_result">
<code class="sig-name descname">verify_restore_result</code><span class="sig-paren">(</span><em class="sig-param">source_path=None</em>, <em class="sig-param">dest_path=None</em>, <em class="sig-param">verify_acl=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.verify_restore_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper.verify_restore_result" title="Permalink to this definition">¶</a></dt>
<dd><p>this function will verify restore result</p>
<dl>
<dt>Args:</dt><dd><p>source_path  (str) original path of test data</p>
<p>dest_path    (str)  restored data path</p>
<dl>
<dt>verify_acl   (bool) True - will verify ACL</dt><dd><p>False - will not verify ACL</p>
<p>default: False</p>
</dd>
</dl>
</dd>
<dt>Return:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception - Any error occurred while running restore</dt><dd><p>or restore didn’t complete successfully.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.onepasshelper.cvonepas_helper.verify_stub">
<code class="sig-name descname">verify_stub</code><span class="sig-paren">(</span><em class="sig-param">path=None</em>, <em class="sig-param">test_data_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.verify_stub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.onepasshelper.cvonepas_helper.verify_stub" title="Permalink to this definition">¶</a></dt>
<dd><p>this function will verify whether stub rules get honor</p>
<dl>
<dt>Args:</dt><dd><blockquote>
<div><dl>
<dt>path     (str)  parent folder path</dt><dd><dl class="simple">
<dt>default: None function will automatically assign</dt><dd><p>self.subclient_props[‘subclient_content’][0]</p>
</dd>
</dl>
</dd>
<dt>test_data_list (list) with each item as tuple type</dt><dd><dl>
<dt>e.g</dt><dd><p>[(‘shouldbearchive.txt ‘True’),
(‘shouldnotbearchive.txt ‘False’)]
fileName- the name of the file it will create
‘True’ - means this file will meet migration rule</p>
<blockquote>
<div><p>and will create file with size as Size1</p>
</div></blockquote>
<dl class="simple">
<dt>‘False’- means file will not meet migration rule</dt><dd><p>and will create file with size as Size2</p>
</dd>
<dt>default: None, function will automatically</dt><dd><p>assign self.test_file_list</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>exception:</dt><dd><p>if should stub file didn’t stub or
should not stub file get stubbed</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-FileSystem.FSUtils.tdfshelper">
<span id="filesystem-fsutils-tdfshelper-module"></span><h2>FileSystem.FSUtils.tdfshelper module<a class="headerlink" href="#module-FileSystem.FSUtils.tdfshelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing 3dfs server operations</p>
<p>TDFSServerUtils is the class defined in this file.</p>
<p>tdfshelper: Helper class to perform 3dfs server operations</p>
<dl>
<dt>TDfsServerUtils:</dt><dd><p>create_3dfs_share()                 –  For creating 3dfs share</p>
<p>list_3dfs_share()                   –  For listing all the share of 3dfs server</p>
<p>delete_3dfs_share()                 –  To delete a particular share</p>
<p>cleanup_3dfs()                      –  To delete all the share</p>
<dl class="simple">
<dt>compare_ace()                       –  Method which compare ace of two path</dt><dd><p>used for 3dfs ACL project</p>
</dd>
<dt>validate_user_folder_permission()   –  To validate if the user has expected access</dt><dd><p>on folder</p>
</dd>
<dt>validate_user_file_permission()     –  To validate if the user has expected access</dt><dd><p>on folder</p>
</dd>
</dl>
<p>get_tdfs_ip()                       –  To get ip address of 3dfs server</p>
</dd>
</dl>
<dl class="class">
<dt id="FileSystem.FSUtils.tdfshelper.TDfsServerUtils">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.FSUtils.tdfshelper.</code><code class="sig-name descname">TDfsServerUtils</code><span class="sig-paren">(</span><em class="sig-param">testcase</em>, <em class="sig-param">tdfs_server_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/tdfshelper.html#TDfsServerUtils"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.tdfshelper.TDfsServerUtils" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper class for 3dfs
Initialize instance of the TDfsServerHelper class.</p>
<blockquote>
<div><p>Args:</p>
<blockquote>
<div><p>nfs_server_hostname  (str)       –  hostname of NFS server</p>
<p>testcase            (object)     –  instance of the CVTestCase class</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>object - instance of the TDfsServerHelper class</p>
</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="FileSystem.FSUtils.tdfshelper.TDfsServerUtils.cleanup_3dfs">
<code class="sig-name descname">cleanup_3dfs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/tdfshelper.html#TDfsServerUtils.cleanup_3dfs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.tdfshelper.TDfsServerUtils.cleanup_3dfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all the 3dfs share for a 3dfs server</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.tdfshelper.TDfsServerUtils.compare_ace">
<code class="sig-name descname">compare_ace</code><span class="sig-paren">(</span><em class="sig-param">source_path</em>, <em class="sig-param">destination_path</em>, <em class="sig-param">user</em>, <em class="sig-param">user_obj</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/tdfshelper.html#TDfsServerUtils.compare_ace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.tdfshelper.TDfsServerUtils.compare_ace" title="Permalink to this definition">¶</a></dt>
<dd><p>compare ace of user between source and destination path</p>
<dl>
<dt>Args:</dt><dd><p>source_path     (str)   –  Source path for ACE comparison</p>
<p>destination_path (str)  –  Destination path for ACE comparison</p>
<p>user             (str)  –  Required user</p>
<p>user_obj         (str)  –  User which has acl read permission</p>
</dd>
<dt>Return:</dt><dd><p>(Bool) – True if it matches</p>
</dd>
</dl>
<p>Raises Exception            - If ace does not match</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.tdfshelper.TDfsServerUtils.create_3dfs_share">
<code class="sig-name descname">create_3dfs_share</code><span class="sig-paren">(</span><em class="sig-param">backupset_name</em>, <em class="sig-param">extra_option=None</em>, <em class="sig-param">client_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/tdfshelper.html#TDfsServerUtils.create_3dfs_share"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.tdfshelper.TDfsServerUtils.create_3dfs_share" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to create 3dfs share</p>
<dl>
<dt>Args:</dt><dd><p>backsettName   (str)   –  Backupset Name for 3dfs server</p>
<dl>
<dt>extra_option   (dict)  – dictionary that includes all optional options</dt><dd><p>options:</p>
<blockquote>
<div><dl class="simple">
<dt>subclientName       (str)<span class="classifier">If provided it will create subclient level share</span></dt><dd><p>otherwise backupset level share will be created</p>
</dd>
</dl>
<p>show_deleted        (bool) : Include deleted items option</p>
<p>enable_acl          (bool) : Enable acl for share option</p>
<p>refresh_on_backup   (bool) : Forever share option</p>
<p>to_time             (str)  : To_time for share</p>
<p>nfs_clients         (str)  : Comma separated nfs clients for permission</p>
<p>uid                 (str)  : Cassandra OS user that needs permission for the restored files</p>
<p>gid                 (str)  : The Cassandra OS group that needs permission for the restored files</p>
<p>access_mask          (str)  : access mask for Casandra restore subclients</p>
</div></blockquote>
</dd>
</dl>
<p>client_name   (str)    –  client name for 3dfs server</p>
</dd>
<dt>Return:</dt><dd><p>Str -  return share_name of the share created.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.tdfshelper.TDfsServerUtils.data_copy_compare">
<code class="sig-name descname">data_copy_compare</code><span class="sig-paren">(</span><em class="sig-param">sourcemachine</em>, <em class="sig-param">mountpoint_name</em>, <em class="sig-param">test_path</em>, <em class="sig-param">nfsclient=None</em>, <em class="sig-param">username=None</em>, <em class="sig-param">password=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/tdfshelper.html#TDfsServerUtils.data_copy_compare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.tdfshelper.TDfsServerUtils.data_copy_compare" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Compares the checksum of source path with exported share on nfs client</dt><dd><p>and checks if they are same. (This is Unix checksum)</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>sourcemachine (object)  – machine object of client machine</p>
<p>mountpoint_name (str)   – Directory name on which share is mounted</p>
<p>test_path (str)         – path for comaparison</p>
<p>nfsclient(str)          – if Mentioned, username and password need</p>
<p>username (str)          – NFS cliennt username</p>
<p>passwordd   (str)       – NFS client password</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>Return:</dt><dd><p>(bool)                      –True if source hash match with destination</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.tdfshelper.TDfsServerUtils.delete_3dfs_share">
<code class="sig-name descname">delete_3dfs_share</code><span class="sig-paren">(</span><em class="sig-param">share_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/tdfshelper.html#TDfsServerUtils.delete_3dfs_share"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.tdfshelper.TDfsServerUtils.delete_3dfs_share" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to delete the share</p>
<p>Args:</p>
<blockquote>
<div><p>share_name     (str)    :share name which you want to delete</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.tdfshelper.TDfsServerUtils.get_tdfs_ip">
<code class="sig-name descname">get_tdfs_ip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/tdfshelper.html#TDfsServerUtils.get_tdfs_ip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.tdfshelper.TDfsServerUtils.get_tdfs_ip" title="Permalink to this definition">¶</a></dt>
<dd><p>To get the ip address of tdfs server</p>
<p>Return:</p>
<blockquote>
<div><p>(str)  – ip address of tdfs server</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.tdfshelper.TDfsServerUtils.list_3dfs_share">
<code class="sig-name descname">list_3dfs_share</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/tdfshelper.html#TDfsServerUtils.list_3dfs_share"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.tdfshelper.TDfsServerUtils.list_3dfs_share" title="Permalink to this definition">¶</a></dt>
<dd><p>To list the 3dfs share present for the server</p>
<p>Return:</p>
<blockquote>
<div><p>Dict- Share name as key and share id as value</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.tdfshelper.TDfsServerUtils.validate_user_file_permission">
<code class="sig-name descname">validate_user_file_permission</code><span class="sig-paren">(</span><em class="sig-param">action</em>, <em class="sig-param">user_machine_obj</em>, <em class="sig-param">permission</em>, <em class="sig-param">test_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/tdfshelper.html#TDfsServerUtils.validate_user_file_permission"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.tdfshelper.TDfsServerUtils.validate_user_file_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the access of user of based on the permission and action
Args:</p>
<blockquote>
<div><p>action              (str)   –  Allow or deny</p>
<dl class="simple">
<dt>user_machine_obj    (machine_obj)   – Machine obejct created with</dt><dd><p>required user credentials</p>
</dd>
<dt>permission          (str)           – Permission to check</dt><dd><p>Valid permission- read, readandexecute,write,
modify and full control</p>
</dd>
</dl>
<p>test_path           (str)           – File for which we need to check the permission</p>
</div></blockquote>
<p>Return:</p>
<blockquote>
<div><p>bool                                –  IF the access is as expected return True</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.tdfshelper.TDfsServerUtils.validate_user_folder_permission">
<code class="sig-name descname">validate_user_folder_permission</code><span class="sig-paren">(</span><em class="sig-param">action</em>, <em class="sig-param">user_machine_obj</em>, <em class="sig-param">permission</em>, <em class="sig-param">test_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/tdfshelper.html#TDfsServerUtils.validate_user_folder_permission"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.tdfshelper.TDfsServerUtils.validate_user_folder_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the access of user of based on the permission and action</p>
<dl>
<dt>Args:</dt><dd><p>action              (str)   –  Allow or Deny</p>
<dl>
<dt>user_machine_obj    (machine_obj)   – Machine obejct created</dt><dd><p>with required user credential</p>
</dd>
<dt>permission          (str)           – Permission to check</dt><dd><p>Valid permission- read, readandexecute,</p>
<p>write, modify and full control</p>
</dd>
<dt>test_path           (str)           – Folder for which we need</dt><dd><p>to check the permission</p>
</dd>
</dl>
</dd>
<dt>Return:</dt><dd><p>bool                                –  IF the access is as expected return True</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-FileSystem.FSUtils.three_dfs_helper">
<span id="filesystem-fsutils-three-dfs-helper-module"></span><h2>FileSystem.FSUtils.three_dfs_helper module<a class="headerlink" href="#module-FileSystem.FSUtils.three_dfs_helper" title="Permalink to this headline">¶</a></h2>
<p>#This is helper class for 3dfs which derives from the FSHelper
# All 3dfs test cases have to inherit this class to perform basic 3dfs operations
# ConfigureArchive store utility is used</p>
<blockquote>
<div><p>populate_dfs_inputs() - populates 3dfs inputs
export_share() - exports 3dfs share
unexport_share() - unexport share
errorcode_export_unexport() - Evaluates the exported shared output XML
mount_nfsclient() - Mount the share on the nfs client
umount_nfsclient() - unmount the share from nfs client
data_copy_compare() - compares data between the source and share on destination</p>
</div></blockquote>
<dl class="class">
<dt id="FileSystem.FSUtils.three_dfs_helper.threedfshelper">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.FSUtils.three_dfs_helper.</code><code class="sig-name descname">threedfshelper</code><span class="sig-paren">(</span><em class="sig-param">testcase</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/three_dfs_helper.html#threedfshelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.three_dfs_helper.threedfshelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#FileSystem.FSUtils.fshelper.FSHelper" title="FileSystem.FSUtils.fshelper.FSHelper"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystem.FSUtils.fshelper.FSHelper</span></code></a></p>
<p>helper class to perform 3dfs operations</p>
<dl class="method">
<dt id="FileSystem.FSUtils.three_dfs_helper.threedfshelper.data_copy_compare">
<code class="sig-name descname">data_copy_compare</code><span class="sig-paren">(</span><em class="sig-param">nfsclient</em>, <em class="sig-param">sourcemachine</em>, <em class="sig-param">mountpoint_name</em>, <em class="sig-param">usrname</em>, <em class="sig-param">passwd</em>, <em class="sig-param">test_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/three_dfs_helper.html#threedfshelper.data_copy_compare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.three_dfs_helper.threedfshelper.data_copy_compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the checksum of source path with exported share on nfs client
and checks if they are same. (This is Unix checksum)</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>nfsclient (int) – Destination machine on which share is exported
machine (object)   – Source machine
mountpoint_name (str) – directory name on which share is exported
usrname (str)   – NFS cliennt username
passwd   (str)       – NFS client password
test_path  – source path</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.three_dfs_helper.threedfshelper.mount_nfsclient">
<code class="sig-name descname">mount_nfsclient</code><span class="sig-paren">(</span><em class="sig-param">nfsclient</em>, <em class="sig-param">usrname</em>, <em class="sig-param">passwd</em>, <em class="sig-param">dfsma</em>, <em class="sig-param">share_name</em>, <em class="sig-param">mountpoint_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/three_dfs_helper.html#threedfshelper.mount_nfsclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.three_dfs_helper.threedfshelper.mount_nfsclient" title="Permalink to this definition">¶</a></dt>
<dd><p>Mount the specified share</p>
<dl>
<dt>Args:</dt><dd><p>nfsclient (Str)– NFS client machine on which share is exported</p>
<p>usrname (Str) –  NFS client user name credentials</p>
<p>passwd(Str) – NFS client password</p>
<p>dfsMA (Strg)  –  3dfs server MA</p>
<p>share_name (Str) – Name of the share which has to be unexported</p>
<p>mountpoint_name (Type -String) – directory name on which share will be mounted</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurred while unmounting the share.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.three_dfs_helper.threedfshelper.populate_dfs_inputs">
<em class="property">static </em><code class="sig-name descname">populate_dfs_inputs</code><span class="sig-paren">(</span><em class="sig-param">cv_testcase</em>, <em class="sig-param">mandatory=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/three_dfs_helper.html#threedfshelper.populate_dfs_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.three_dfs_helper.threedfshelper.populate_dfs_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes all the test case inputs after validation
Args:</p>
<blockquote>
<div><blockquote>
<div><p>cv_testcase    (obj)    –    Object of CVTestCase
mandatory      (bool)   –    whether to check for mandatory inputs</p>
<blockquote>
<div><p>and raise exception if not found</p>
</div></blockquote>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if a valid CVTestCase object is not passed.
if CVTestCase object doesn’t have agent initialized</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.three_dfs_helper.threedfshelper.unmount_nfsclient">
<code class="sig-name descname">unmount_nfsclient</code><span class="sig-paren">(</span><em class="sig-param">nfsclient</em>, <em class="sig-param">usrname</em>, <em class="sig-param">passwd</em>, <em class="sig-param">mountpoint_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/three_dfs_helper.html#threedfshelper.unmount_nfsclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.three_dfs_helper.threedfshelper.unmount_nfsclient" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmount the specified share</p>
<dl class="simple">
<dt>Args:</dt><dd><p>nfsclient (Type -String)–  NFS client machine on which share is exported
usrname ((Type -String))–  NFS client user n ame
passwd (Type -String) – NFS client password
mountpoint_name (Type -String)– directory name on which share is mounted</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception:
if any error occurred while unmounting the share.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-FileSystem.FSUtils.unixfshelper">
<span id="filesystem-fsutils-unixfshelper-module"></span><h2>FileSystem.FSUtils.unixfshelper module<a class="headerlink" href="#module-FileSystem.FSUtils.unixfshelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing Unix File System operations</p>
<p>UnixFSHelper is the only class defined in this file.</p>
<p>UnixFSHelper: Helper class to perform file system operations</p>
<dl>
<dt>UnixFSHelper:</dt><dd><p>__init__()                   –  initializes unix file system helper object</p>
<p>verify_dc()                  –  Verifies whether the job used Scan optimization</p>
<p>get_restore_stream_count()   –  returns the number of streams used by a restore job</p>
<p>mount_openvms_testpath()     –  Mounts OpenVMS test path on the associated unix proxy</p>
<p>execute_openvms_command()    –  Executes a command on OpenVMS remotely using ssh</p>
<p>unmount_openvms_testpath()   –  Unmounts the OpenVMS test path mounted on the proxy client.</p>
</dd>
</dl>
<dl class="class">
<dt id="FileSystem.FSUtils.unixfshelper.UnixFSHelper">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.FSUtils.unixfshelper.</code><code class="sig-name descname">UnixFSHelper</code><span class="sig-paren">(</span><em class="sig-param">testcase</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/unixfshelper.html#UnixFSHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.unixfshelper.UnixFSHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#FileSystem.FSUtils.fshelper.FSHelper" title="FileSystem.FSUtils.fshelper.FSHelper"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystem.FSUtils.fshelper.FSHelper</span></code></a></p>
<p>Helper class to perform file system operations</p>
<dl class="method">
<dt id="FileSystem.FSUtils.unixfshelper.UnixFSHelper.execute_openvms_command">
<code class="sig-name descname">execute_openvms_command</code><span class="sig-paren">(</span><em class="sig-param">command_string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/unixfshelper.html#UnixFSHelper.execute_openvms_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.unixfshelper.UnixFSHelper.execute_openvms_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies whether the job used Scan optimization</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>command_string  (str)   – command to be executed</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurred while executing the command on OpenVMS</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.unixfshelper.UnixFSHelper.get_restore_stream_count">
<code class="sig-name descname">get_restore_stream_count</code><span class="sig-paren">(</span><em class="sig-param">job</em>, <em class="sig-param">log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/unixfshelper.html#UnixFSHelper.get_restore_stream_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.unixfshelper.UnixFSHelper.get_restore_stream_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of streams used by a restore job</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>job    (object)  – job object of the restore job to be checked</p>
<dl class="simple">
<dt>log_dir  (str)  – path of the log directory</dt><dd><p>default:None</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>int   -   the number of streams used by a restore job</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurred while getting the restore stream count</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.unixfshelper.UnixFSHelper.mount_openvms_testpath">
<code class="sig-name descname">mount_openvms_testpath</code><span class="sig-paren">(</span><em class="sig-param">test_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/unixfshelper.html#UnixFSHelper.mount_openvms_testpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.unixfshelper.UnixFSHelper.mount_openvms_testpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Mounts OpenVMS test path on the proxy associated with the OpenVMS client.</p>
<p>For OpenVMS,
since we cannot directly execute shell script on OpenVMS,
we first mount the OpenVMS test path onto the associated proxy client.
Finally, we execute the shell scripts or commands to generate data,
verify data or related tasks on the proxy client at the mount location.</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>test_path   (str)   – OpenVMS test path to be mounted.</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurred while mounting OpenVMS test path.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.unixfshelper.UnixFSHelper.unmount_openvms_testpath">
<code class="sig-name descname">unmount_openvms_testpath</code><span class="sig-paren">(</span><em class="sig-param">test_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/unixfshelper.html#UnixFSHelper.unmount_openvms_testpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.unixfshelper.UnixFSHelper.unmount_openvms_testpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmounts the OpenVMS test path mounted on the proxy client.
This function is only executed when the mounting was successful.
To check that we use the boolean variable is_openvms_testpath_mounted.</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>test_path   (str)   – OpenVMS test path to be unmounted.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.unixfshelper.UnixFSHelper.verify_dc">
<code class="sig-name descname">verify_dc</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/unixfshelper.html#UnixFSHelper.verify_dc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.unixfshelper.UnixFSHelper.verify_dc" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies whether the job used Scan optimization</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>jobid    (int)  – jobid to be checked</p>
<dl class="simple">
<dt>log_dir  (str)  – path of the log directory</dt><dd><p>default:None</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool   -   Returns True if dc scan was successful or else false</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurred while verifying the scan status</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-FileSystem.FSUtils.winfshelper">
<span id="filesystem-fsutils-winfshelper-module"></span><h2>FileSystem.FSUtils.winfshelper module<a class="headerlink" href="#module-FileSystem.FSUtils.winfshelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing Windows File System operations</p>
<p>WinFSHelper is the only class defined in this file.</p>
<p>WinFSHelper: Helper class to perform file system operations</p>
<div class="section" id="winfshelper">
<h3>WinFSHelper:<a class="headerlink" href="#winfshelper" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>remote_login()                              –  Establishes remote desktop connection with the client.</p>
<p>get_log_file()                              –  Reads and returns the contents of a log file as a string.</p>
<p>get_logs_for_job_from_file()                –  From a log file object only return those
log lines for a particular job ID.</p>
<p>get_current_extent_level_pass()             –  It retrieves the current pass number for
the extent level backup job.</p>
<p>get_copyid_for_extent_backup()              –  It retrieves the copy ID for the extent level backup.</p>
<p>is_copyid_persistent()                      –  Checks if given copy ID is persistent.</p>
<p>multi_stream_restore_validation()           –  Checks whether the restore job used multiple streams.</p>
<p>get_failed_items_in_jr()                    –  Returns a dictionary containing entries from
Failures.cvf and FailedFileRetryCollect.cvf in the form of a dictionary.</p>
<p>get_extent_backup_stream_count()            –  Returns number of streams used by an extent level backup from logs.</p>
<p>get_restore_stream_count()                  –  Returns number of streams used by a restore job from logs.</p>
<p>bmr_verify_vmware()                         –  Checks whether the machine booed up properly post 1-touch to vmware</p>
<p>bmr_verify_hyperv()                         –  Checks whether the machine booed up properly post 1-touch to hyper-v</p>
<p>get_no_of_qualified_objects_from_filescan() –  Returns number of objects qualified for backup from FileScan.log.</p>
</div></blockquote>
</div>
<div class="section" id="winfshelper-instance-attributes">
<h3>WinFSHelper Instance Attributes:<a class="headerlink" href="#winfshelper-instance-attributes" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p><strong>log_files_dir</strong>   –  Returns the Commvault log file directory for the client machine instance.</p>
</div></blockquote>
<dl class="class">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.FSUtils.winfshelper.</code><code class="sig-name descname">WinFSHelper</code><span class="sig-paren">(</span><em class="sig-param">testcase</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#FileSystem.FSUtils.fshelper.FSHelper" title="FileSystem.FSUtils.fshelper.FSHelper"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystem.FSUtils.fshelper.FSHelper</span></code></a></p>
<p>Helper class to perform file system operations</p>
<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.bmr_verify_hyperv">
<code class="sig-name descname">bmr_verify_hyperv</code><span class="sig-paren">(</span><em class="sig-param">vmname</em>, <em class="sig-param">mach_username</em>, <em class="sig-param">mach_password</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper.bmr_verify_hyperv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.bmr_verify_hyperv" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of streams used by a restore job.
Args:</p>
<blockquote>
<div><p>vmname              (str)       –  Name of the VM on which script is to be invoked.
mach_username       (str)       –  username of the guest OS.
mach_password       (str)       –  Password of the guest OS.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>If the script returns anything other than true</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.bmr_verify_vmware">
<code class="sig-name descname">bmr_verify_vmware</code><span class="sig-paren">(</span><em class="sig-param">esxservername</em>, <em class="sig-param">esxusername</em>, <em class="sig-param">esxpassword</em>, <em class="sig-param">vmname</em>, <em class="sig-param">mach_username</em>, <em class="sig-param">mach_password</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper.bmr_verify_vmware"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.bmr_verify_vmware" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of streams used by a restore job.</p>
<dl>
<dt>Args:</dt><dd><p>esxservername       (str)       –  Name of the ESX server.</p>
<p>esxusername         (str)       –  Username of the ESX server</p>
<p>esxpassword         (str)       –  Password of the ESX server.</p>
<p>vmname              (str)       –  Name of the VM on which script is to be invoked.</p>
<p>mach_username       (str)       –  username of the guest OS.</p>
<p>mach_password       (str)       –  Password of the guest OS.</p>
</dd>
</dl>
<p>Returns:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>If the script returns anything other than true</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.get_copyid_for_extent_backup">
<code class="sig-name descname">get_copyid_for_extent_backup</code><span class="sig-paren">(</span><em class="sig-param">job</em>, <em class="sig-param">return_log_line=True</em>, <em class="sig-param">exit_on_vss_snap_failure=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper.get_copyid_for_extent_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.get_copyid_for_extent_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the CopyId of VSS snap for the extent level job.</p>
<dl>
<dt>Args:</dt><dd><p>job                         (obj)   –  Job object for which log lines need to be fetched.</p>
<p>return_log_line             (bool)  –  Log line indicating the CopyId.</p>
<p>exit_on_vss_snap_failure    (bool)  –  Indicates whether to raise an exception if snap creation failed.</p>
</dd>
</dl>
<p>Returns:</p>
<blockquote>
<div><p>str -   CopyId of the VSS snap.</p>
<p>str -   The log line indicating the CopyId.</p>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>If creation of the persistent VSS snap failed.
We can disable this behavior by setting exit_on_vss_snap_failure to False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.get_current_extent_level_pass">
<code class="sig-name descname">get_current_extent_level_pass</code><span class="sig-paren">(</span><em class="sig-param">job</em>, <em class="sig-param">return_log_line=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper.get_current_extent_level_pass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.get_current_extent_level_pass" title="Permalink to this definition">¶</a></dt>
<dd><p>It retrieves the current pass number for the extent level backup job.</p>
<dl>
<dt>Args:</dt><dd><p>job             (obj)   –  Job object for which log lines need to be fetched.</p>
<p>return_log_line (bool)  –  Log line indicating the current pass.</p>
</dd>
</dl>
<p>Returns:</p>
<blockquote>
<div><p>int -   Value of the current pass.</p>
<p>str -   The log line indicating the current pass number.</p>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.get_extent_backup_stream_count">
<code class="sig-name descname">get_extent_backup_stream_count</code><span class="sig-paren">(</span><em class="sig-param">job</em>, <em class="sig-param">log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper.get_extent_backup_stream_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.get_extent_backup_stream_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number of streams used by an extent level job from logs.</p>
<dl>
<dt>Args:</dt><dd><p>job     (object)    –  Instance of restore job.</p>
<dl class="simple">
<dt>log_dir (str)       –  Path of the log directory.</dt><dd><p>default:None</p>
</dd>
</dl>
</dd>
</dl>
<p>Returns:</p>
<blockquote>
<div><p>int     -   Number of streams used by the backup job.</p>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.get_failed_items_in_jr">
<code class="sig-name descname">get_failed_items_in_jr</code><span class="sig-paren">(</span><em class="sig-param">return_only_paths=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper.get_failed_items_in_jr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.get_failed_items_in_jr" title="Permalink to this definition">¶</a></dt>
<dd><p>Read entries from Failures.cvf and FailedFileRetryCollect.cvf if they exist.</p>
<p>Args:</p>
<blockquote>
<div><p>return_only_paths   –  Extracts the path name from the entries. Simplifies comparison
against the output of a “dir” command or a list of path names for verification purposes.</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>dict    -   A dictionary containing entries from Failures.cvf and FailedFileRetryCollect.cvf.
The names of the collect files are the keys and the entries in those files are the values.</p>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.get_log_file">
<code class="sig-name descname">get_log_file</code><span class="sig-paren">(</span><em class="sig-param">log_file_name</em>, <em class="sig-param">all_versions=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper.get_log_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.get_log_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the contents of a log file.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>log_file_name   (str)   –  Name of the log file.</p>
<p>all_versions    (bool)  –  Whether to parse all the older versions of the log file as well.
If it’s false, it will only read and return the contents of the most recent version of the file.</p>
<p><strong>support not yet implemented.</strong>
<strong>This argument will be ignored and not used till it is implemented</strong></p>
</dd>
<dt>Returns:</dt><dd><p>str     -</p>
</dd>
</dl>
</div></blockquote>
<p>separated string containing the requested log lines.</p>
<blockquote>
<div><dl class="simple">
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.get_logs_for_job_from_file">
<code class="sig-name descname">get_logs_for_job_from_file</code><span class="sig-paren">(</span><em class="sig-param">job_id</em>, <em class="sig-param">log_file_name</em>, <em class="sig-param">search_term=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper.get_logs_for_job_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.get_logs_for_job_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all log lines for a particular job ID or only those containing the search term if one is provided.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>job_id          (str)   –  Job ID for which log lines need to be fetched.</p>
<p>log_file_name   (bool)  –  Name of the log file.</p>
<p>search_term     (str)   –  Only capture those log lines containing the search term.</p>
</dd>
<dt>Returns:</dt><dd><p>str     -</p>
</dd>
</dl>
</div></blockquote>
<p>separated string containing the requested log lines.</p>
<blockquote>
<div><blockquote>
<div><p>None    -   If no log lines were found for the given job ID or containing the given search term.</p>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.get_no_of_qualified_objects_from_filescan">
<code class="sig-name descname">get_no_of_qualified_objects_from_filescan</code><span class="sig-paren">(</span><em class="sig-param">job</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper.get_no_of_qualified_objects_from_filescan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.get_no_of_qualified_objects_from_filescan" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of objects identified by the given backup job from FileScan.log.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>job (obj)   –  Instance of a Backup job.</p>
</dd>
<dt>Returns:</dt><dd><p>dict –  Returns the number of qualified files and folders.</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.get_restore_stream_count">
<code class="sig-name descname">get_restore_stream_count</code><span class="sig-paren">(</span><em class="sig-param">job</em>, <em class="sig-param">log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper.get_restore_stream_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.get_restore_stream_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number of streams used by a restore job from logs.</p>
<dl>
<dt>Args:</dt><dd><p>job     (object)    –  Instance of restore job.</p>
<p>log_dir (str)       –  Path of the log directory.</p>
</dd>
</dl>
<p>Returns:</p>
<blockquote>
<div><p>int     -   Number of streams used by the restore job.</p>
</div></blockquote>
<dl class="simple">
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.is_copyid_persistent">
<code class="sig-name descname">is_copyid_persistent</code><span class="sig-paren">(</span><em class="sig-param">copyid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper.is_copyid_persistent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.is_copyid_persistent" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if given CopyId is persistent.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>copyid      (str)   –  The CopyId.</p>
</dd>
<dt>Returns:</dt><dd><p>bool    -   True if the CopyId is persistent else False</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.log_files_dir">
<em class="property">property </em><code class="sig-name descname">log_files_dir</code><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.log_files_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log file directory for the given client.</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.populate_tc_inputs">
<em class="property">static </em><code class="sig-name descname">populate_tc_inputs</code><span class="sig-paren">(</span><em class="sig-param">cv_testcase</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper.populate_tc_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.populate_tc_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes all the test case inputs after validation</p>
<dl class="simple">
<dt>Args:</dt><dd><p>cv_testcase    (obj)    –    Object of CVTestCase</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.FSUtils.winfshelper.WinFSHelper.remote_login">
<code class="sig-name descname">remote_login</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/FSUtils/winfshelper.html#WinFSHelper.remote_login"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.FSUtils.winfshelper.WinFSHelper.remote_login" title="Permalink to this definition">¶</a></dt>
<dd><p>Establishes remote desktop connection with the client.</p>
<dl class="simple">
<dt>Raises:</dt><dd><p>Exception - If remote login is not successful</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-FileSystem.FSUtils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-FileSystem.FSUtils" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Commvault Systems Inc. All Rights Reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>