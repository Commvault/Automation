

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Server.DisasterRecovery package &mdash; Commvault Automation 11.24 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Commvault Automation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Server.DisasterRecovery package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-Server.DisasterRecovery.drhelper">Server.DisasterRecovery.drhelper module</a></li>
<li><a class="reference internal" href="#module-Server.DisasterRecovery.drmanagement_helper">Server.DisasterRecovery.drmanagement_helper module</a><ul>
<li><a class="reference internal" href="#drmanagementhelper">DRManagementHelper:</a></li>
<li><a class="reference internal" href="#drcommvaultcloudmanagement">DRCommvaultCloudManagement</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Server.DisasterRecovery.drvalidator">Server.DisasterRecovery.drvalidator module</a></li>
<li><a class="reference internal" href="#module-Server.DisasterRecovery">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Commvault Automation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Server.DisasterRecovery package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/Server.DisasterRecovery.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="server-disasterrecovery-package">
<h1>Server.DisasterRecovery package<a class="headerlink" href="#server-disasterrecovery-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-Server.DisasterRecovery.drhelper">
<span id="server-disasterrecovery-drhelper-module"></span><h2>Server.DisasterRecovery.drhelper module<a class="headerlink" href="#module-Server.DisasterRecovery.drhelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing DR operations</p>
<p>DRHelper is the only class defined in this file</p>
<p>DRHelper: Helper class to perform DR operations</p>
<p>DRHelper:</p>
<blockquote>
<div><p>__init__()                      –  initializes DR helper object</p>
<p>killrunningdrjobs               –  Kills already running DR jobs</p>
<p>trigger_dr_backup               –  triggers DR backup job</p>
<p>create_script                   –  creates batch file on windows or shell file on unix.</p>
<p>check_entity_existence          –  checks the exitence of the entity on the commcell.</p>
<p>create_dr_entities              –  creates disk library and dr storage policy.</p>
<p>dr_entities_cleanup             –  removes the disklibrary and dr policy created by create_dr_entities method</p>
<p>restore_db_with_csrecovery_assistant    –  restores databases using CSRecoveryAssistant tool</p>
<p>download_from_cvcloud           –   downloads the set folder from cvcloud.</p>
<p>download_from_third_party_cloud –  downloads given set folder from third party cloud.</p>
<p>get_latest_folder_network_dr_path – Get the Latest DR Folder from a network DR Path</p>
<p>get_cs_dump_in_path                 – Gets the CS Dump from a given Path</p>
<p>set_er_directory                – Sets the ER Staging Directory for the provided Path</p>
</div></blockquote>
<dl class="py class">
<dt id="Server.DisasterRecovery.drhelper.DRHelper">
<em class="property">class </em><code class="sig-prename descclassname">Server.DisasterRecovery.drhelper.</code><code class="sig-name descname">DRHelper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">commcell_object</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drhelper.html#DRHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drhelper.DRHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper class to perform DR operations</p>
<dl class="py method">
<dt id="Server.DisasterRecovery.drhelper.DRHelper.check_entity_existence">
<code class="sig-name descname">check_entity_existence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entity_type</span></em>, <em class="sig-param"><span class="n">entity_object</span></em>, <em class="sig-param"><span class="n">hardcheck</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drhelper.html#DRHelper.check_entity_existence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drhelper.DRHelper.check_entity_existence" title="Permalink to this definition">¶</a></dt>
<dd><p>checks the existence of the entity on commcell.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>entity_type     (str)      –           type of the entity</p>
<p>values:
‘policy’
‘library’
‘backupset’
‘subclient’</p>
<p>entity_object       (object/str)    –      object or name of the entity to be checked.</p>
<p>hardcheck           (bool)          –      True/False, To raise exception or To return bool value</p>
</dd>
<dt>Returns:</dt><dd><p>bool</p>
</dd>
<dt>Raises:</dt><dd><dl>
<dt>Exception:</dt><dd><p>when invalid arguments are passed</p>
<p>when hardcheck=true, and entity doesn’t exist on the commcell</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drhelper.DRHelper.create_script">
<code class="sig-name descname">create_script</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">content</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drhelper.html#DRHelper.create_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drhelper.DRHelper.create_script" title="Permalink to this definition">¶</a></dt>
<dd><p>creates script with content passed, using machine class object.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>content           (str)   –  content that is to be written to file</p>
</dd>
<dt>Returns:</dt><dd><p>path     (str)       –        Script path</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception(Exception_Code, Exception_Message):</dt><dd><p>if failed to create file</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drhelper.DRHelper.download_from_cvcloud">
<code class="sig-name descname">download_from_cvcloud</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">company_name</span></em>, <em class="sig-param"><span class="n">set_folder_name</span></em>, <em class="sig-param"><span class="n">destination_path</span></em>, <em class="sig-param"><span class="n">commcell_id</span></em>, <em class="sig-param"><span class="n">chunk_size</span><span class="o">=</span><span class="default_value">1000000</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drhelper.html#DRHelper.download_from_cvcloud"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drhelper.DRHelper.download_from_cvcloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Downloads given set folder from cvcloud to destination folder.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>company_name        (str)   -   name of the company.</p>
<p>commcell_id         (str)   -   hexadecimal id of the commcell</p>
<p>set_folder_name     (str)   -   set folder name.</p>
<p>destination_path    (str)   -   destination path for downloads.</p>
<dl class="simple">
<dt>chunk_size          (int)   -   chunk size of the file.</dt><dd><p>default: 1000000</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if path doesn’t exist
if set folder doesn’t exist in cvcloud
if failed to download the file.</p>
</dd>
</dl>
</dd>
</dl>
<p>NOTE: if commcell_id is None then id of the current commcell will be retrieved from
hexadecimal_id_of_the_commcell()</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drhelper.DRHelper.download_from_third_party_cloud">
<code class="sig-name descname">download_from_third_party_cloud</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vendor_name</span></em>, <em class="sig-param"><span class="n">loginname</span></em>, <em class="sig-param"><span class="n">password</span></em>, <em class="sig-param"><span class="n">mountpath</span></em>, <em class="sig-param"><span class="n">source_path</span></em>, <em class="sig-param"><span class="n">destination_path</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drhelper.html#DRHelper.download_from_third_party_cloud"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drhelper.DRHelper.download_from_third_party_cloud" title="Permalink to this definition">¶</a></dt>
<dd><p>downloads given set folder from third party cloud.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>vendor_name     (str)   –      name of the vendor</p>
<blockquote>
<div><p>NOTE: please refer CLOUD_SERVER_TYPES in mediaagentconstants.py for supported vendor names</p>
</div></blockquote>
<p>loginname       (str)   –      login name</p>
<p>password        (str)   –      password</p>
<p>mountpath       (str)   –      name of the mountpath</p>
<dl class="simple">
<dt>source_path     (str)   –      source_path</dt><dd><p>format: ‘DR/&lt;commcel_name&gt;/&lt;set_folder_name&gt;’</p>
</dd>
</dl>
<p>destination_path  (str) –      destination path for the download</p>
</dd>
<dt>NOTE: please refer <a class="reference external" href="https://documentation.commvault.com/commvault/v11/article?p=97863.htm">https://documentation.commvault.com/commvault/v11/article?p=97863.htm</a></dt><dd><p>for more details on format of loginname, moutpath</p>
</dd>
<dt>NOTE: Below functionality make use of CloudTestTool.exe which is under Base folder to download dumps</dt><dd><p>from various cloud vendors</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>when un-supported cloud vendor name is passed.
when destination directory is not found.
when format of loginName is incorrect
when failed to execute the download_cmd</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drhelper.DRHelper.dr_prerequisites">
<code class="sig-name descname">dr_prerequisites</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drhelper.html#DRHelper.dr_prerequisites"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drhelper.DRHelper.dr_prerequisites" title="Permalink to this definition">¶</a></dt>
<dd><p>creates disklibrary and DR storage policy.</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>properties of created entities.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drhelper.DRHelper.dr_prerequisites_cleanup">
<code class="sig-name descname">dr_prerequisites_cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drhelper.html#DRHelper.dr_prerequisites_cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drhelper.DRHelper.dr_prerequisites_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>removes the disklibrary and dr storage policy which got created using dr_prerequisites() method.</p>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drhelper.DRHelper.get_cs_dump_in_path">
<code class="sig-name descname">get_cs_dump_in_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dr_folder</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drhelper.html#DRHelper.get_cs_dump_in_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drhelper.DRHelper.get_cs_dump_in_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to get the CS Dump in a given Folder Path</p>
<p>Args:
dr_folder   (str): DR Folder path from which CS Dump would be returned</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>Commserver Dump name if present or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drhelper.DRHelper.get_latest_folder_network_dr_path">
<code class="sig-name descname">get_latest_folder_network_dr_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">local_mounted_path</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drhelper.html#DRHelper.get_latest_folder_network_dr_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drhelper.DRHelper.get_latest_folder_network_dr_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to get the latest DR folder from a mounted DR network Path</p>
<dl class="simple">
<dt>Args:</dt><dd><p>local_mounted_path  (str)   – local Mounted path of network DR path</p>
</dd>
<dt>Returns:</dt><dd><p>The DR Folder Path if present or none</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drhelper.DRHelper.kill_running_drjobs">
<code class="sig-name descname">kill_running_drjobs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drhelper.html#DRHelper.kill_running_drjobs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drhelper.DRHelper.kill_running_drjobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Kill already running DR jobs</p>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drhelper.DRHelper.restore_db_with_csrecovery_assistant">
<code class="sig-name descname">restore_db_with_csrecovery_assistant</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dbdumplocation</span></em>, <em class="sig-param"><span class="n">operation</span><span class="o">=</span><span class="default_value">'staging'</span></em>, <em class="sig-param"><span class="n">start_services_after_recovery</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">options</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drhelper.html#DRHelper.restore_db_with_csrecovery_assistant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drhelper.DRHelper.restore_db_with_csrecovery_assistant" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores CS using CSRecoveryAssistant.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><blockquote>
<div><p>dbdumplocation     (str)       –      db dump location.</p>
<p>operation          (str)       –      type of the operation.</p>
<blockquote>
<div><p>value:
‘staging’
‘recovery’</p>
</div></blockquote>
</div></blockquote>
<p>start_services_after_recovery   (bool)  –  start the services post recovery or not.</p>
<blockquote>
<div><dl class="simple">
<dt>options            (dict)      –      other additional parameters that can be passed</dt><dd><p>to CSRecovery tool</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if failed to restore the CS.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drhelper.DRHelper.set_er_directory">
<code class="sig-name descname">set_er_directory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drhelper.html#DRHelper.set_er_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drhelper.DRHelper.set_er_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the ER Staging Directory folder to the given path if provided else the default CommServeDR Location</p>
<p>Args:
path   (str): ER Staging Directory path to be set</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drhelper.DRHelper.trigger_dr_backup">
<code class="sig-name descname">trigger_dr_backup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">backup_type</span><span class="o">=</span><span class="default_value">'full'</span></em>, <em class="sig-param"><span class="n">compression</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">exclude_dbs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">client_list</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">advance_job_options</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">wait_for_completion</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drhelper.html#DRHelper.trigger_dr_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drhelper.DRHelper.trigger_dr_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggers a disaster recovery backup.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><blockquote>
<div><dl>
<dt>backup_type     (str)       –          type of the backup to trigger.</dt><dd><p>default: ‘full’</p>
<p>values:</p>
<p>“full”
“differential”</p>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>compression     (bool)      –          True/False, compression to be enabled or not</dt><dd><p>default: True</p>
</dd>
<dt>exclude_dbs     (list)      –          databases to be excluded during DR backup.</dt><dd><p>default: None</p>
<p>values:</p>
<p>‘appstudio’
‘history’
‘cvcloud’
‘workflow’
‘dm2’</p>
</dd>
<dt>client_list     (list)      –          log of the clients that need to be backed up.</dt><dd><p>default: None</p>
</dd>
</dl>
<p>advance_job_options     (dict)  –      advance job options to be included.</p>
<blockquote>
<div><blockquote>
<div><p>values:</p>
<dl class="simple">
<dt>{</dt><dd><p>“priority”: 66,
“start_in_suspended_state”: False,
“start_when_activity_is_low”: False,
“use_default_priority”: True,
“enable_total_running_time”: False,
“total_running_time”: 3600,
“enable_number_of_retries”: False,
“kill_running_job_when_total_running_time_expires”: False,
“number_of_retries”: 0,
“job_description”: “”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>wait_for_completion     (bool)  –      waits for the completion of the job.</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>job object</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>when job doesn’t reach expected state.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Server.DisasterRecovery.drmanagement_helper">
<span id="server-disasterrecovery-drmanagement-helper-module"></span><h2>Server.DisasterRecovery.drmanagement_helper module<a class="headerlink" href="#module-Server.DisasterRecovery.drmanagement_helper" title="Permalink to this headline">¶</a></h2>
<p>Main file for performing Commcell -&gt; Control Panel -&gt; DR Management related operations.</p>
<p>DRManagementHelper: Class for performing DR Management operations</p>
<p>DRCommvaultCloudManagement: Class for downloading dr dumps from commvault cloud.</p>
<div class="section" id="drmanagementhelper">
<h3>DRManagementHelper:<a class="headerlink" href="#drmanagementhelper" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>__init__()                          –   initializes DisasterRecoveryManagement class object</p>
<p>refresh()                           –   retrives the latest dr settings</p>
<p>set_local_dr_path                   –   sets the local dr path and validates the setting.</p>
<p>set_network_dr_path                 –   sets the unc path and validates the setting.</p>
<p>upload_metdata_to_commvault_cloud   –   sets ths account to be used for commvault cloud backup.</p>
<p>upload_metdata_to_cloud_library     –   sets the libarary to be used for cloud backup.</p>
<p>impersonate_user                    –   account to be used for execution of pre/post scripts</p>
<p>use_impersonate_user                –  gets the setting use_impersonate_user</p>
<dl class="simple">
<dt>number_of_metadata                  –  sets number of metadata folders to be retained</dt><dd><p>and validates the setting..</p>
</dd>
</dl>
<p>number_of_metadata                  –  gets the value of the setting, number of metadata to be retained.</p>
<p>use_vss                             –  sets the property and validates the setting.</p>
<p>use_vss                             –  gets the property</p>
<dl class="simple">
<dt>wild_card_settings                  –  sets log file names to be backed up for selected</dt><dd><p>clients and validates the setting..</p>
</dd>
</dl>
<p>wild_card_settings                  –  gets the log file names.</p>
<p>backup_metadata_folder              –  gets the metadata destination location or path.</p>
<p>upload_backup_metadata_to_cloud     –  gets the property.</p>
<p>upload_backup_metadata_to_cloud_lib –  sets the property and validates the setting..</p>
<p>dr_storage_policy                   –  gets the associated dr storage policy</p>
<p>dr_storage_policy                   –  sets the dr storage policy and validates the setting.</p>
<p>pre_scan_process                    –  sets the property and validates the setting.</p>
<p>pre_scan_process                    –  gets the property</p>
<p>post_scan_process                   –  sets the property and validates the setting.</p>
<p>post_scan_process                   –  gets the property</p>
<p>pre_backup_process                  –  sets the property and validates the setting.</p>
<p>pre_backup_process                  –  gets the property</p>
<p>post_backup_process                 –  sets the property and validates the setting.</p>
<p>post_backup_process                 –  gets the property</p>
<p>run_post_scan_process               –  sets the property and validates the setting.</p>
<p>run_post_scan_process               –  gets the property</p>
<p>run_post_backup_process             –  sets the property and validates the setting.</p>
<p>run_post_backup_process             –  gets the property</p>
</div></blockquote>
</div>
<div class="section" id="drcommvaultcloudmanagement">
<h3>DRCommvaultCloudManagement<a class="headerlink" href="#drcommvaultcloudmanagement" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>__init__()                          –   initializes DRCommvaultCloudManagement class object.</p>
<p>refresh()                           –   refreshes the company details.</p>
<p>_get_info()                         –   executes get api to fetch the company details.</p>
<p>get_company_name()                  –   gets the available company names.</p>
<p>get_commcell_ids_of_company         –   gets the available commcell id’s(hexadecimal) for a given company.</p>
<p>get_number_of_set_folders_of_a_commcell –  gets the count of set folders available for a given commcell.</p>
<p>get_available_set_folders_of_a_commcell –  gets the available set folder names for a given commcell.</p>
<p>get_file_names_of_a_set_folder          –  gets the file names for a given set folder name.</p>
<p>get_set_id_of_a_set_folder              –  gets the set id for a given set folder name.</p>
<p>get_status                              –  gets the status of last dr backup</p>
<p>get_file                                –  gets the file data in binary format.</p>
</div></blockquote>
<dl class="py class">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement">
<em class="property">class </em><code class="sig-prename descclassname">Server.DisasterRecovery.drmanagement_helper.</code><code class="sig-name descname">DRCommvaultCloudManagement</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">commcell_object</span></em>, <em class="sig-param"><span class="n">company_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">source_commcell_id</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRCommvaultCloudManagement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.company_name">
<em class="property">property </em><code class="sig-name descname">company_name</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.company_name" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the name of the company</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>(str)       –      name of the company</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_available_set_folders_of_a_commcell">
<code class="sig-name descname">get_available_set_folders_of_a_commcell</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hardcheck</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRCommvaultCloudManagement.get_available_set_folders_of_a_commcell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_available_set_folders_of_a_commcell" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the names of available set folders for a given commcell_id.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>hardcheck           (bool)  –      if company name not found and hardcheck = True</dt><dd><dl class="simple">
<dt>default:True                                    raises exception</dt><dd><dl class="simple">
<dt>if company name not found and hardcheck = False</dt><dd><p>logs the error</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>(int)           –      count of the available set folders for a given commcell</p>
</dd>
<dt>Raises:</dt><dd><dl>
<dt>Exception:</dt><dd><p>if company not found and hardcheck = True, raises exception</p>
<p>if company not found and hardcheck = False, logs the error</p>
</dd>
</dl>
</dd>
</dl>
<p>NOTE: use setters company_name and source_commcell_id to set the company name and source commcell id</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_commcell_ids_of_company">
<code class="sig-name descname">get_commcell_ids_of_company</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hardcheck</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRCommvaultCloudManagement.get_commcell_ids_of_company"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_commcell_ids_of_company" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the available commcell id’s for a given company name.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>company_name        (str)   –      name of the company</p>
<dl class="simple">
<dt>hardcheck           (bool)  –      if company name not found and hardcheck = True</dt><dd><dl class="simple">
<dt>default:True                                    raises exception</dt><dd><dl class="simple">
<dt>if company name not found and hardcheck = False</dt><dd><p>logs the error</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>(list)        –      list of commcell id’s</p>
</dd>
<dt>Raises:</dt><dd><dl>
<dt>Exception:</dt><dd><p>if company not found and hardcheck = True, raises exception</p>
<p>if company not found and hardcheck = False, logs the error</p>
</dd>
</dl>
</dd>
</dl>
<p>NOTE: commcell ids will be in hexadecimal format(eg: XXXXXXX)</p>
<p>NOTE: use setter company_name to set the company name</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_company_names">
<code class="sig-name descname">get_company_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRCommvaultCloudManagement.get_company_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_company_names" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the company names.</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>(list)     –          list of company names</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_dump_data">
<code class="sig-name descname">get_dump_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">set_id</span></em>, <em class="sig-param"><span class="n">file_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRCommvaultCloudManagement.get_dump_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_dump_data" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the data in binary format which can be written to a file.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>set_id      (int)   -       set_id associated to set folder in cvcloud</p>
<p>file_name   (str)   -       file to be downloaded from cvcloud</p>
</dd>
<dt>Returns:</dt><dd><p>response    (bytes) -       downloaded data</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if failed to get the required response.</p>
</dd>
</dl>
</dd>
</dl>
<p>NOTE: set id can be obtained with method get_set_id_of_a_set_folder()</p>
<p>use download_from_cvcloud() in drhelper module for downloading SET folders to destination path.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_file_names_of_a_set_folder">
<code class="sig-name descname">get_file_names_of_a_set_folder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">set_folder_name</span></em>, <em class="sig-param"><span class="n">hardcheck</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRCommvaultCloudManagement.get_file_names_of_a_set_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_file_names_of_a_set_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>gets file names of a set folder for a given commcell and company.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>set_folder_name    (str)    –      name of the set folder</p>
<dl class="simple">
<dt>hardcheck           (bool)  –      if company name not found and hardcheck = True</dt><dd><dl class="simple">
<dt>default:True                                    raises exception</dt><dd><dl class="simple">
<dt>if company name not found and hardcheck = False</dt><dd><p>logs the error</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>(list)           –      list of file names for a given set folder</p>
</dd>
<dt>Raises:</dt><dd><dl>
<dt>Exception:</dt><dd><p>if company not found and hardcheck = True, raises exception</p>
<p>if company not found and hardcheck = False, logs the error</p>
</dd>
</dl>
</dd>
</dl>
<p>NOTE: commcell id will be in hexadecimal format(eg: XXXXXXX)</p>
<p>NOTE: use setters company_name and source_commcell_id to set the company name and source commcell id</p>
<p>NOTE: set folder name format(eg: SET_123)</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_number_of_set_folders_of_a_commcell">
<code class="sig-name descname">get_number_of_set_folders_of_a_commcell</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hardcheck</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRCommvaultCloudManagement.get_number_of_set_folders_of_a_commcell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_number_of_set_folders_of_a_commcell" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the count of set folders assocaited to a commcell.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>hardcheck           (bool)  –      if company name not found and hardcheck = True</dt><dd><dl class="simple">
<dt>default:True                                    raises exception</dt><dd><dl class="simple">
<dt>if company name not found and hardcheck = False</dt><dd><p>logs the error</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>(int)           –      count of the available set folders for a given commcell</p>
</dd>
<dt>Raises:</dt><dd><dl>
<dt>Exception:</dt><dd><p>if company not found and hardcheck = True, raises exception</p>
<p>if company not found and hardcheck = False, logs the error</p>
</dd>
</dl>
</dd>
</dl>
<p>NOTE: use setters company_name and source_commcell_id to set the company name and source commcell id</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_set_id_of_a_set_folder">
<code class="sig-name descname">get_set_id_of_a_set_folder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">set_folder_name</span></em>, <em class="sig-param"><span class="n">hardcheck</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRCommvaultCloudManagement.get_set_id_of_a_set_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_set_id_of_a_set_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>gets set id of a set folder for a given commcell and company.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>company_name       (str)    –      name of the company</p>
<p>commcell_id        (str)    –      hexadecimal id of a commcell</p>
<p>set_folder_name    (str)    –      name of the set folder</p>
<dl class="simple">
<dt>hardcheck           (bool)  –      if company not found and hardcheck = True</dt><dd><dl class="simple">
<dt>default:True                                    raises exception</dt><dd><dl class="simple">
<dt>if company not found and hardcheck = False</dt><dd><p>logs the error</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>(int)           –      set id of a set folder.</p>
</dd>
<dt>Raises:</dt><dd><dl>
<dt>Exception:</dt><dd><p>if company not found and hardcheck = True, raises exception</p>
<p>if company not found and hardcheck = False, logs the error</p>
</dd>
</dl>
</dd>
</dl>
<p>NOTE: use setters company_name and source_commcell_id to set the company name and source commcell id</p>
<p>NOTE: set folder name format(eg: SET_123)</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_status_of_last_dr_backup_job">
<em class="property">property </em><code class="sig-name descname">get_status_of_last_dr_backup_job</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.get_status_of_last_dr_backup_job" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the status of last dr backup</p>
<dl>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>when failed to get the required response</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>(dict)  -   format as shown below
{</p>
<blockquote>
<div><p>“DRbackupURL”: “”,
“UploadStatus”: int,
“DRLastUploadedTime”: “”</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.refresh">
<code class="sig-name descname">refresh</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRCommvaultCloudManagement.refresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the latest set folder details from cvcloud</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.source_commcell_id">
<em class="property">property </em><code class="sig-name descname">source_commcell_id</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRCommvaultCloudManagement.source_commcell_id" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the hexadecimal id of the source commcell</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>(str)       –      hexadecimal id of the commcell</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper">
<em class="property">class </em><code class="sig-prename descclassname">Server.DisasterRecovery.drmanagement_helper.</code><code class="sig-name descname">DRManagementHelper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">commcell</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRManagementHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to perform all the disaster recovery management operations on commcell</p>
<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.backup_metadata_folder">
<em class="property">property </em><code class="sig-name descname">backup_metadata_folder</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.backup_metadata_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the backup metadata folder</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>(str)      –      Backup metadata folder</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.dr_storage_policy">
<em class="property">property </em><code class="sig-name descname">dr_storage_policy</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.dr_storage_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the storage policy name, that is being used for DR backups</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>(object)       –      storage policy object.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.impersonate_user">
<code class="sig-name descname">impersonate_user</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flag</span></em>, <em class="sig-param"><span class="n">username</span></em>, <em class="sig-param"><span class="n">password</span></em>, <em class="sig-param"><span class="n">validate</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRManagementHelper.impersonate_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.impersonate_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable/Disable Impersonate user option for pre/post scripts.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>flag        (bool)      –  True/False.</p>
<p>username    (str)       –  username with admin privileges.</p>
<p>password    (str)       –  password for the account.</p>
<p>validate   (bool)      –      whether to validate the setting has been updated successfully or not</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.number_of_metadata">
<em class="property">property </em><code class="sig-name descname">number_of_metadata</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.number_of_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the value, Number of metadata folders to be retained.</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>number of metadata     (int)</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.post_backup_process">
<em class="property">property </em><code class="sig-name descname">post_backup_process</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.post_backup_process" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the script path of the post backup process</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>(str)       –      script path</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.post_scan_process">
<em class="property">property </em><code class="sig-name descname">post_scan_process</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.post_scan_process" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the script path of the post scan process</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>(str)       –      script path</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.pre_backup_process">
<em class="property">property </em><code class="sig-name descname">pre_backup_process</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.pre_backup_process" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the script path of the pre backup process</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>(str)       –      script path</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.pre_scan_process">
<em class="property">property </em><code class="sig-name descname">pre_scan_process</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.pre_scan_process" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the script path of the pre scan process</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>(str)       –      script path</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.refresh">
<code class="sig-name descname">refresh</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRManagementHelper.refresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>refreshes the dr settings associated with commcell.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.run_post_backup_process">
<em class="property">property </em><code class="sig-name descname">run_post_backup_process</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.run_post_backup_process" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the value, run post backup process</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>True/False</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.run_post_scan_process">
<em class="property">property </em><code class="sig-name descname">run_post_scan_process</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.run_post_scan_process" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the value, run post scan process</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>True/False</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.set_local_dr_path">
<code class="sig-name descname">set_local_dr_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">validate</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRManagementHelper.set_local_dr_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.set_local_dr_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets local DR path</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>path       (str)       –         local path.</p>
<dl class="simple">
<dt>validate   (bool)      –         based on the bool value passed validation of setting</dt><dd><p>will be handled.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.set_network_dr_path">
<code class="sig-name descname">set_network_dr_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">username</span></em>, <em class="sig-param"><span class="n">password</span></em>, <em class="sig-param"><span class="n">validate</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRManagementHelper.set_network_dr_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.set_network_dr_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets network DR path</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>path       (str)       –      UNC path.</p>
<p>username   (str)       –      username with admin privileges of the remote machine.</p>
<p>password   (str)       –      password.</p>
<p>validate   (bool)      –      whether to validate the setting has been updated successfully or not</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.upload_backup_metadata_to_cloud">
<em class="property">property </em><code class="sig-name descname">upload_backup_metadata_to_cloud</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.upload_backup_metadata_to_cloud" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the upload backup metadata to cloud setting</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>True/False</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.upload_backup_metadata_to_cloud_lib">
<em class="property">property </em><code class="sig-name descname">upload_backup_metadata_to_cloud_lib</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.upload_backup_metadata_to_cloud_lib" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the upload metadata to cloud lib</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>(str)       –      Third party library name</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.upload_metdata_to_cloud_library">
<code class="sig-name descname">upload_metdata_to_cloud_library</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flag</span></em>, <em class="sig-param"><span class="n">libraryname</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">validate</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRManagementHelper.upload_metdata_to_cloud_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.upload_metdata_to_cloud_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable/Disable upload metadata to cloud library</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>flag       (bool)      –      True/False.</p>
<p>libraryname   (str/object)    –      Third party cloud library name or disklibrary object.</p>
<p>validate   (bool)      –      whether to validate the setting has been updated successfully or not</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.upload_metdata_to_commvault_cloud">
<code class="sig-name descname">upload_metdata_to_commvault_cloud</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flag</span></em>, <em class="sig-param"><span class="n">username</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">password</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">validate</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drmanagement_helper.html#DRManagementHelper.upload_metdata_to_commvault_cloud"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.upload_metdata_to_commvault_cloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable/Disable upload metadata to commvault cloud setting.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>flag       (bool)      –      True/False.</p>
<p>username   (str)       –      username of the commvault cloud.</p>
<p>password   (str)       –      password of the commvault cloud.</p>
<p>validate   (bool)      –      whether to validate the setting has been updated successfully or not</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.use_impersonate_user">
<em class="property">property </em><code class="sig-name descname">use_impersonate_user</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.use_impersonate_user" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the impersonate user(True/False)</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>True/False</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.use_vss">
<em class="property">property </em><code class="sig-name descname">use_vss</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.use_vss" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the value, use vss()</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>True/False</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.wild_card_settings">
<em class="property">property </em><code class="sig-name descname">wild_card_settings</code><a class="headerlink" href="#Server.DisasterRecovery.drmanagement_helper.DRManagementHelper.wild_card_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the wild card settings</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>(list)       –     client logs that are to be backed up</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-Server.DisasterRecovery.drvalidator">
<span id="server-disasterrecovery-drvalidator-module"></span><h2>Server.DisasterRecovery.drvalidator module<a class="headerlink" href="#module-Server.DisasterRecovery.drvalidator" title="Permalink to this headline">¶</a></h2>
<p>Main file for performing disaster recovery validations.</p>
<p>DRValidator is the only class defined in this file</p>
<p>DRValidator:</p>
<blockquote>
<div><p>__init__(test_object)                                       –  initialize instance of the DRValidator class.</p>
<p>validate()                                                  –  entry point for validation</p>
<p>trigger_dr_full_or_diff_job()                               –  Triggers full or differential dr jobs</p>
<dl class="simple">
<dt>full_dr_job_hash_comparison()                               –  compares hash values of source and destination</dt><dd><p>full dumps</p>
</dd>
<dt>diff_dr_job_hash_comparison()                               –  compares hash values of source and destination</dt><dd><p>diff dumps</p>
</dd>
</dl>
<p>set_destination_path_based_on_tcinputs()                    –  sets destination path based on tcinputs</p>
<p>validate_job_type()                                         –  validates job type.</p>
<p>hexadecimal_id_of_the_commcell()                              –  gets the hexadecimal id of the commcell</p>
<dl class="simple">
<dt>validate_dr_backup_metadata()                               –  Validates full and differential set folders by</dt><dd><p>comparing the hash values of set folder with
staging folder.</p>
</dd>
<dt>validate_commserve_recovery()                               –  validates cs recovery with full and</dt><dd><p>differential dumps.</p>
</dd>
<dt>validate_dr_metadata_restore()                              –  validates dr restore jobs by comparing the hash</dt><dd><p>values of restored folders with set folder</p>
</dd>
</dl>
<p>validate_set_folder_pruning()                               –  validates set folder pruning scenario.</p>
<p>validate_db_compress()                                      –  validates db compress scenario</p>
<p>_get_folder_or_file_names()                                 –  gets the file names in a folder</p>
<p>validate_client_logs()                                      –  checks the existence of log files</p>
<p>_wait_for_job_completion()                                  –  waits for the completion of the job.</p>
<p>validate_drbackup_qcommands()                               –  validates dr backup qcommands</p>
<p>validate_multiple_dr_jobs_initiation()                      –  validates multiple dr jobs initiation sceanrios.</p>
</div></blockquote>
<dl class="py class">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator">
<em class="property">class </em><code class="sig-prename descclassname">Server.DisasterRecovery.drvalidator.</code><code class="sig-name descname">DRValidator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">test_object</span></em>, <em class="sig-param"><span class="n">cvcloud_cs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cvcloud_username</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cvcloud_password</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>DRValidator helper class to perform DR validations</p>
<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.diff_dr_job_hash_comparison">
<code class="sig-name descname">diff_dr_job_hash_comparison</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">full_dump_source_path</span></em>, <em class="sig-param"><span class="n">diff_dump_source_path</span></em>, <em class="sig-param"><span class="n">destination_path</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.diff_dr_job_hash_comparison"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.diff_dr_job_hash_comparison" title="Permalink to this definition">¶</a></dt>
<dd><p>compares hash values of dr differential dumps</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>full_dump_source_path         (str)       –      source path of full dumps</p>
<p>diff_dump_source_path         (str)       –      source path of differential dumps</p>
<p>destination_path              (str)       –      destination path of full and differential dumps</p>
</dd>
</dl>
<p>Note:   destination path should have both full and diff dumps.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.full_dr_job_hash_comparison">
<code class="sig-name descname">full_dr_job_hash_comparison</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_path</span></em>, <em class="sig-param"><span class="n">destination_path</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.full_dr_job_hash_comparison"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.full_dr_job_hash_comparison" title="Permalink to this definition">¶</a></dt>
<dd><p>compares hash values of dr full dumps</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>source_path         (str)       –      source path of full dumps</p>
<p>destination_path    (str)       –      destination path of full dumps</p>
</dd>
</dl>
<p>Note:   paths can be staging path or set folder path or restored dumps</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.hexadecimal_id_of_the_commcell">
<code class="sig-name descname">hexadecimal_id_of_the_commcell</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.hexadecimal_id_of_the_commcell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.hexadecimal_id_of_the_commcell" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the hexadecimal id of the commcell.</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>(str)           –      hexadecimal id of the commcell.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.set_destination_path">
<code class="sig-name descname">set_destination_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">clean_up</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.set_destination_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.set_destination_path" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the destination path based on tcinputs</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>clean_up        (bool)      –          deletes the content present in UNC directory.</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raise:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if failed to clean up the directory.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.trigger_dr_full_or_diff_job">
<code class="sig-name descname">trigger_dr_full_or_diff_job</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">backup_type</span><span class="o">=</span><span class="default_value">'full'</span></em>, <em class="sig-param"><span class="n">client_list</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.trigger_dr_full_or_diff_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.trigger_dr_full_or_diff_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggers a one full dr job if backup_type = ‘full’ or
Triggers one full dr job followed by one differential dr job if backup_type = ‘differential’</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><blockquote>
<div><p>backup_type        (str)       –      type of backup</p>
</div></blockquote>
<p>client_list         (list)      –      list of client names.</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">feature</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">parameters</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Entry point for feature validations</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>feature        (list)      –      list of features to be validated.</p>
<p>parameters      (kwargs)   –       required parameters for the corresponding validate method.</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Returns :</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.validate_client_logs">
<code class="sig-name descname">validate_client_logs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">destination_path</span></em>, <em class="sig-param"><span class="n">client_list</span></em>, <em class="sig-param"><span class="n">log_file_names</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.validate_client_logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.validate_client_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates the existence of the log files in destination path.</p>
<blockquote>
<div><p>Args:</p>
<blockquote>
<div><p>destination_path    (str)   -   path of the archive folder</p>
<p>client_list         (list)  -   list of client names</p>
<p>log_file_names      (list)  -   list of log names to be checked.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if logs are not found.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.validate_commserve_recovery">
<code class="sig-name descname">validate_commserve_recovery</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">backup_type</span><span class="o">=</span><span class="default_value">'full'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.validate_commserve_recovery"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.validate_commserve_recovery" title="Permalink to this definition">¶</a></dt>
<dd><p>validates cs recovery with full and differential dumps.</p>
<dl>
<dt>Below scenarios are handled:</dt><dd><p>CSRecovery with Full dumps.
CSRecovery with Full and differential dumps.</p>
<dl>
<dt>Args:</dt><dd><p>backup_type (str)   -      type of backup to be triggered.</p>
<blockquote>
<div><p>values:</p>
<p>“full”
“differential”</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.validate_db_compress">
<code class="sig-name descname">validate_db_compress</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.validate_db_compress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.validate_db_compress" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates db compress scenario.</p>
<blockquote>
<div><p>triggers full and differential dr jobs with compression disabled.</p>
<p>triggers full and differential dr jobs with compression enabled.</p>
<p>Compares sizes of above set folders to validate the scenario.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.validate_dr_backup_metadata">
<code class="sig-name descname">validate_dr_backup_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">backup_type</span><span class="o">=</span><span class="default_value">'full'</span></em>, <em class="sig-param"><span class="n">client_list</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">log_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">upload_to_cvcloud</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">upload_to_third_party_cloud</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">er_staging_directory</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.validate_dr_backup_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.validate_dr_backup_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates full and differential set folders by comparing the hash values of set folder with staging folder.</p>
<dl class="simple">
<dt>Below scenarios are handled:</dt><dd><p>Set folder with full dumps compared with staging folder.
Set folder with full and differential dumps compared with staging folder.</p>
</dd>
</dl>
<p>Note:  Based on the tcinputs, set folder destination path will be set.</p>
<blockquote>
<div><p>Args:</p>
<blockquote>
<div><p>backup_type (str)   -      type of backup to be triggered.</p>
<blockquote>
<div><p>values:</p>
<p>“full”
“differential”</p>
</div></blockquote>
<p>client_list     (list)  -   list of clients to be set.</p>
<p>log_names       (list)  -   list of log names to be set</p>
<p>upload_to_cvcloud   (dict)  -   credentials to enable upload to cvcloud option.</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“CloudUserName”: “”,
“CloudPassword”: “”,
“CompanyName”: “”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<dl>
<dt>upload_to_third_party_cloud     (dict)   -   required key/value pairs to enable the option</dt><dd><blockquote>
<div><p>upload to third party cloud and to download dumps fom that
cloud.</p>
</div></blockquote>
<dl class="simple">
<dt>{</dt><dd><p>“VendorName”: “”,
“CloudLibraryName”: “”,
“LoginName”: “”,
“Password”: “”,
“MountPath”: “”</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>er_staging_directory            (str)   -   path of ERStaging directory</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.validate_dr_metadata_restore">
<code class="sig-name descname">validate_dr_metadata_restore</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">backup_type</span><span class="o">=</span><span class="default_value">'full'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.validate_dr_metadata_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.validate_dr_metadata_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>validates dr restore jobs by comparing the hash values of restored folders with set folder</p>
<dl>
<dt>Below scenarios are handled:</dt><dd><p>Restore of full dr backup by jobid and hash validation
Restore of full and differential dr backups by jobid and hash validation</p>
<dl>
<dt>Args:</dt><dd><p>backup_type (str)   -      type of backup to be triggered.</p>
<blockquote>
<div><p>values:</p>
<p>“full”
“differential”</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.validate_drbackup_qcommands">
<code class="sig-name descname">validate_drbackup_qcommands</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">backup_type</span><span class="o">=</span><span class="default_value">'full'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.validate_drbackup_qcommands"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.validate_drbackup_qcommands" title="Permalink to this definition">¶</a></dt>
<dd><p>validates dr backup full and differential qcommands.</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>backup_type         (full)  –     type of backup job to be triggered.</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if invalid backup_type is passed.
if hash values are not same.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.validate_job_type">
<code class="sig-name descname">validate_job_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job_object</span></em>, <em class="sig-param"><span class="n">expected_type</span><span class="o">=</span><span class="default_value">'full'</span></em>, <em class="sig-param"><span class="n">hardcheck</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.validate_job_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.validate_job_type" title="Permalink to this definition">¶</a></dt>
<dd><p>validates job type(full/differential)</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>job_object      (object)        –         job object</p>
<p>expected_type   (str)           –          expected type of the job</p>
<blockquote>
<div><p>values:
‘full’
‘differential’</p>
</div></blockquote>
<p>hardcheck       (bool)          –          True/False</p>
<blockquote>
<div><dl class="simple">
<dt>if job type doesn’t match with expected type and hardcheck is true</dt><dd><p>raises exception</p>
</dd>
<dt>if job type doesn’t match with expected type and hardcheck is false</dt><dd><p>returns false</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>bool</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>when job type doesn’t match</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.validate_multiple_dr_jobs_initiation">
<code class="sig-name descname">validate_multiple_dr_jobs_initiation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">backup_types</span></em>, <em class="sig-param"><span class="n">scenario</span><span class="o">=</span><span class="default_value">'full'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.validate_multiple_dr_jobs_initiation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.validate_multiple_dr_jobs_initiation" title="Permalink to this definition">¶</a></dt>
<dd><p>validates multiple job initiation.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>backup_types            (list)  –  list of job types need to be triggered.</p>
<p>NOTE: as of now two major combinations are handled as follows.</p>
<blockquote>
<div><p>[‘full’, ‘full’, ‘full’, ‘differential’, ‘full’, ‘differential’]</p>
<p>[‘differential, ‘differential’, ‘differential’, ‘full’, ‘full’, ‘differential’]</p>
</div></blockquote>
<p>scenario                (str)   –  type of scenario to be validated.</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raise:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if status of job is not matched</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.DisasterRecovery.drvalidator.DRValidator.validate_set_folder_pruning">
<code class="sig-name descname">validate_set_folder_pruning</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/DisasterRecovery/drvalidator.html#DRValidator.validate_set_folder_pruning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.DisasterRecovery.drvalidator.DRValidator.validate_set_folder_pruning" title="Permalink to this definition">¶</a></dt>
<dd><p>validates set folder pruning scenario.</p>
<dl class="simple">
<dt>Below scenarios are handled:</dt><dd><p>validates pruning for local path and unc path</p>
</dd>
</dl>
<p>Note:  Based on the tcinputs, set folder destination path will be set.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Server.DisasterRecovery">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-Server.DisasterRecovery" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Commvault Systems Inc. All Rights Reserved

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>