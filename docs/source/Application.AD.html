

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Application.AD package &mdash; Commvault Automation 11.23 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Commvault Automation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Application.AD package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-Application.AD.adconstants">Application.AD.adconstants module</a></li>
<li><a class="reference internal" href="#module-Application.AD.baselibs">Application.AD.baselibs module</a></li>
<li><a class="reference internal" href="#module-Application.AD.exceptions">Application.AD.exceptions module</a></li>
<li><a class="reference internal" href="#module-Application.AD.ldap_common">Application.AD.ldap_common module</a></li>
<li><a class="reference internal" href="#module-Application.AD.ms_ad">Application.AD.ms_ad module</a></li>
<li><a class="reference internal" href="#module-Application.AD.ms_azuread">Application.AD.ms_azuread module</a></li>
<li><a class="reference internal" href="#module-Application.AD">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Commvault Automation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Application.AD package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/Application.AD.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="application-ad-package">
<h1>Application.AD package<a class="headerlink" href="#application-ad-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-Application.AD.adconstants">
<span id="application-ad-adconstants-module"></span><h2>Application.AD.adconstants module<a class="headerlink" href="#module-Application.AD.adconstants" title="Permalink to this headline">¶</a></h2>
<p>This library is used to define all AD related mapper</p>
<p>The constants are defined in constants.json file</p>
</div>
<div class="section" id="module-Application.AD.baselibs">
<span id="application-ad-baselibs-module"></span><h2>Application.AD.baselibs module<a class="headerlink" href="#module-Application.AD.baselibs" title="Permalink to this headline">¶</a></h2>
<p>This  is common code used in other related library and modules</p>
<p>Class:</p>
<p>Functions:</p>
<blockquote>
<div><p>tc : time count , return time in differnte format.</p>
</div></blockquote>
<dl class="py function">
<dt id="Application.AD.baselibs.tc">
<code class="sig-prename descclassname">Application.AD.baselibs.</code><code class="sig-name descname">tc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ptime</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">timeformat</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/baselibs.html#tc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.baselibs.tc" title="Permalink to this definition">¶</a></dt>
<dd><p>return time and check the time different
also can working as sleep with delay option</p>
<dl>
<dt>Args:</dt><dd><p>ptime         (int)        Unix time for prior time</p>
<p>timeformat    (str)        format to return, can be choiced from “ISO”, “filename”, “date”</p>
<p>delay            (int)    delay seconds</p>
</dd>
<dt>Return:</dt><dd><p>None:</p>
</dd>
<dt>Exception:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-Application.AD.exceptions">
<span id="application-ad-exceptions-module"></span><h2>Application.AD.exceptions module<a class="headerlink" href="#module-Application.AD.exceptions" title="Permalink to this headline">¶</a></h2>
<p>This module is use to handle all exception related to AD agent</p>
<p>Class:</p>
<blockquote>
<div><p>ADException
This is an exception to generated more details when AD related exception was raised</p>
<blockquote>
<div><p>exception_module         (str)    the detail module can be found in EXCEPTION_MODULES</p>
<p>exception_id            (int)    exception code</p>
<p>exception_message        (str)    additional string or message from related module</p>
</div></blockquote>
</div></blockquote>
<dl class="simple">
<dt>Functions:</dt><dd><p>errorlogging    : generate easier reading log based on exception</p>
</dd>
</dl>
<dl class="py exception">
<dt id="Application.AD.exceptions.ADException">
<em class="property">exception </em><code class="sig-prename descclassname">Application.AD.exceptions.</code><code class="sig-name descname">ADException</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exception_module</span></em>, <em class="sig-param"><span class="n">exception_id</span></em>, <em class="sig-param"><span class="n">exception_message</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/exceptions.html#ADException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.exceptions.ADException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>AD relaetd exception</p>
<dl class="py method">
<dt id="Application.AD.exceptions.ADException.error_logging">
<code class="sig-name descname">error_logging</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/exceptions.html#ADException.error_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.exceptions.ADException.error_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>create easy read error in log file and email notificaiton</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Application.AD.ldap_common">
<span id="application-ad-ldap-common-module"></span><h2>Application.AD.ldap_common module<a class="headerlink" href="#module-Application.AD.ldap_common" title="Permalink to this headline">¶</a></h2>
<p>This module is use to setup shared LDAP related operations</p>
<dl>
<dt>Class:</dt><dd><p>ldap_basic            –    Basic ldap connection to all ldap servers</p>
<blockquote>
<div><p>__init__()        –    initial ldap class</p>
<p>assign_fields()   –    assign necessary properties</p>
<p>get_server_info() –    collect server basic info. detect server type</p>
<p>connect()         –     connect ldap server</p>
</div></blockquote>
</dd>
</dl>
<dl class="py class">
<dt id="Application.AD.ldap_common.LdapBasic">
<em class="property">class </em><code class="sig-prename descclassname">Application.AD.ldap_common.</code><code class="sig-name descname">LdapBasic</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ldap_common.html#LdapBasic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ldap_common.LdapBasic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>ldap basic operation</p>
<dl class="py method">
<dt id="Application.AD.ldap_common.LdapBasic.assign_fields">
<code class="sig-name descname">assign_fields</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">required_fields</span></em>, <em class="sig-param"><span class="n">optional_fields</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ldap_common.html#LdapBasic.assign_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ldap_common.LdapBasic.assign_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>assign class level properties
Args:</p>
<blockquote>
<div><p>kwargs            (dict)    parameter passed when class is initialed</p>
<p>required_fields    (list)    mondatory properties</p>
<p>optional_fields    (list)    operation proerpties, will set to None if not passed</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>None:</p>
</dd>
<dt>Exception:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ldap_common.LdapBasic.connect">
<code class="sig-name descname">connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ldap_common.html#LdapBasic.connect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ldap_common.LdapBasic.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect LDAP server with parameters</p>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ldap_common.LdapBasic.get_server_info">
<code class="sig-name descname">get_server_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ldap_common.html#LdapBasic.get_server_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ldap_common.LdapBasic.get_server_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Check LDAP server information to separate server type</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Application.AD.ms_ad">
<span id="application-ad-ms-ad-module"></span><h2>Application.AD.ms_ad module<a class="headerlink" href="#module-Application.AD.ms_ad" title="Permalink to this headline">¶</a></h2>
<p>This library is used to communicate with Microsoft AD</p>
<dl>
<dt>Class:</dt><dd><p>ADOps        AD related operations</p>
<blockquote>
<div><p>__init__()        initial Microsoft AD instance</p>
<p>attributes_mapper    create mapping to reuse the code</p>
<p>ugo_search        search UGO (user group and Ou) objects</p>
<p>search()            basic raw Ldap search</p>
<p>search1()            Ldap extend search to return paged objects</p>
<p>search_result_fitler()    filter search result refe and entry</p>
<p>ugo_attributes_check()    UGO indivdual properties check</p>
<p>ugo_process()        UGO object clean ,convert attribute to readable value</p>
<p>ugo_get_attribtue()    collect UGO object properties</p>
<p>entries_search()        search objects in particular entrypoint</p>
<p>entries_process()        process search result</p>
<p>entries_dn_split()        split AD dn to relative path</p>
<p>entry_category_get_type()    get AD object category types</p>
<p>ugo_add()            add UGO objects</p>
<p>ugo_add_user()        add AD user</p>
<p>ugo_user_attributes()    AD user madatary attribute</p>
<p>ugo_objs()            convert UGO objects attribute more readable.</p>
<p>ugo_operation()        predefined ugo operations, like delete , modify</p>
<p>ugo_list()            list all UGO objects</p>
<p>cv_ugo_delete()        delete entry for UGO object based on AD subclinet</p>
<p>cv_ad_objectlist()    create ad objects based on AD subcient content</p>
</div></blockquote>
</dd>
</dl>
<p>Function:</p>
<blockquote>
<div><p>ad_entrypoint_combine        decarator    combine AD Dn with base dn</p>
<p>cv_ad_objectscompare        compare ad objects between tow ad content list</p>
<p>cv_conent_convert            convert subclient string to ad string format</p>
<p>cv_contents                    convert subclient content to AD format</p>
</div></blockquote>
<p>Limitation:</p>
<dl class="py class">
<dt id="Application.AD.ms_ad.ADOps">
<em class="property">class </em><code class="sig-prename descclassname">Application.AD.ms_ad.</code><code class="sig-name descname">ADOps</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Microsoft AD related operation</p>
<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.attributes_mapper">
<code class="sig-name descname">attributes_mapper</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.attributes_mapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.attributes_mapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Attribute mapper to reduce duplciate code
most of common case is use UGO to do most of OU, Group and User
operations.</p>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.cv_ad_objectlist">
<code class="sig-name descname">cv_ad_objectlist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ad_content</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.cv_ad_objectlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.cv_ad_objectlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Commvault objects list
Args:</p>
<blockquote>
<div><p>ad_content    (list)    ad list from commvault subcleint instance</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>(list)    ad objects</p>
</dd>
<dt>Exception:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.cv_ugo_delete">
<code class="sig-name descname">cv_ugo_delete</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">objlist</span></em>, <em class="sig-param"><span class="n">ad_content</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.cv_ugo_delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.cv_ugo_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Commvault agnet UGO objects delete
Args:</p>
<blockquote>
<div><p>objlist    (list)    AD objects to process</p>
<p>ad_content    (list)    AD content from commvault subclient instance</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>None</p>
</dd>
<dt>Exceptiong:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.entries_process">
<code class="sig-name descname">entries_process</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">searchresult</span></em>, <em class="sig-param"><span class="n">actions</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.entries_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.entries_process" title="Permalink to this definition">¶</a></dt>
<dd><p>process search entry result
Args:</p>
<blockquote>
<div><p>searchresult    (list)    search results of ad objects</p>
<p>actions        (list)    sequence process actions</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>None</p>
</dd>
<dt>Exception:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.entries_search">
<code class="sig-name descname">entries_search</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">objtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">entrypoint</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.entries_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.entries_search" title="Permalink to this definition">¶</a></dt>
<dd><p>search result with DN and type
Args:</p>
<blockquote>
<div><p>objtype     (str)    picked from User,Group and OU</p>
<p>entrypoint     (str)    entrypoint for ad search</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>(List)    searchresult</p>
</dd>
<dt>Exception:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.entry_category_get_types">
<code class="sig-name descname">entry_category_get_types</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entry</span></em>, <em class="sig-param"><span class="n">newtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.entry_category_get_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.entry_category_get_types" title="Permalink to this definition">¶</a></dt>
<dd><p>get search entry category
Args:</p>
<blockquote>
<div><p>entry    (Instance)    AD object</p>
<p>newtypes    (lsit)    Get AD object category</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>(list)     category type</p>
</dd>
<dt>Except:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.entry_dn_split">
<code class="sig-name descname">entry_dn_split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entry</span></em>, <em class="sig-param"><span class="n">entrypoint</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.entry_dn_split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.entry_dn_split" title="Permalink to this definition">¶</a></dt>
<dd><p>split entry dn to relative path
Args:</p>
<blockquote>
<div><p>entry    (string)    AD object DN</p>
<p>entrypoint    (string)      AD split entrypoint</p>
<p>level    (int)    how many level will split</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>string    relative path wihtout base dn</p>
</dd>
<dt>Exceptions:</dt><dd><p>None</p>
</dd>
<dt>Todo:</dt><dd><p>convert to decorator later.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.search">
<code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">basename</span></em>, <em class="sig-param"><span class="n">filterstring</span></em>, <em class="sig-param"><span class="n">pagesize</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scope</span><span class="o">=</span><span class="default_value">'SUBTREE'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.search" title="Permalink to this definition">¶</a></dt>
<dd><p>basic search , doesn’t support page, only 1000 item returned</p>
<p>Args:</p>
<blockquote>
<div><p>basename    (string)    entrypoint for search</p>
<p>filterstring (string)    search filter basd on LDAP protocol</p>
<p>pagesize     (int)    return page size</p>
<p>scope        (CON)    LDAP defiined constants</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>None</p>
</dd>
<dt>Excpetion:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.search1">
<code class="sig-name descname">search1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">basename</span></em>, <em class="sig-param"><span class="n">filterstring</span></em>, <em class="sig-param"><span class="n">scope</span><span class="o">=</span><span class="default_value">'SUBTREE'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.search1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.search1" title="Permalink to this definition">¶</a></dt>
<dd><p>basic page search
Args:</p>
<blockquote>
<div><p>basename    (string)    entrypoint for search</p>
<p>filterstring    (string)     filterstring based on LDAP protocols</p>
<p>scope    (string)    LDAP predefinded constants</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>(list)    search result base don search</p>
</dd>
<dt>Exception:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.search_result_filter">
<code class="sig-name descname">search_result_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">adobjs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.search_result_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.search_result_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>remove search related result
Args:</p>
<blockquote>
<div><p>adobjs    (list)    list of searhc result</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>(list)    clean search result</p>
</dd>
<dt>Excpetion:</dt><dd><p>None</p>
</dd>
<dt>Todo:</dt><dd><p>will change to a decoration later</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.ugo_add">
<code class="sig-name descname">ugo_add</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.ugo_add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.ugo_add" title="Permalink to this definition">¶</a></dt>
<dd><p>use default basedn if not additional entrypoitn defined</p>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.ugo_add_user">
<code class="sig-name descname">ugo_add_user</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.ugo_add_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.ugo_add_user" title="Permalink to this definition">¶</a></dt>
<dd><p>use default basedn if not additional entrypoitn defined</p>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.ugo_list">
<code class="sig-name descname">ugo_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entrypoint</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.ugo_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.ugo_list" title="Permalink to this definition">¶</a></dt>
<dd><p>UGO list all objects
Args:</p>
<blockquote>
<div><p>entrypoint     (string)    AD entrypoint</p>
</div></blockquote>
<dl>
<dt>Return:</dt><dd><p>(list)        a list of AD objects</p>
<p>(int)        total number or search result</p>
</dd>
<dt>Exceptoin:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.ugo_objs">
<code class="sig-name descname">ugo_objs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">searchresult</span></em>, <em class="sig-param"><span class="n">entrypoint</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.ugo_objs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.ugo_objs" title="Permalink to this definition">¶</a></dt>
<dd><p>UGO get all UGO objects based on entrypoint
Args:</p>
<blockquote>
<div><p>searchresult     (list)    list of AD objects</p>
<p>entrypoint        (string)    AD object entrypoint</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>(dict}    UGO predefined objects</p>
</dd>
<dt>Exceptions:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.ugo_operation">
<code class="sig-name descname">ugo_operation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">objtype</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">entrypoint</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">operation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">raw</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.ugo_operation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.ugo_operation" title="Permalink to this definition">¶</a></dt>
<dd><p>UGO related operation, include delete
Args:</p>
<blockquote>
<div><p>objtype        (string)     picked form User, Group or OU
name        (string)        AD object name
entrypoint    (string)    Ad object entry point
operation    (string)    predefined operation like delete, modify
raw         (boolean)    If the dn name is rule</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>None</p>
</dd>
<dt>Exception:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.ugo_package">
<code class="sig-name descname">ugo_package</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.ugo_package"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.ugo_package" title="Permalink to this definition">¶</a></dt>
<dd><p>use default basedn if not additional entrypoitn defined</p>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.ugo_process">
<code class="sig-name descname">ugo_process</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ugo_objs</span></em>, <em class="sig-param"><span class="n">objtype</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.ugo_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.ugo_process" title="Permalink to this definition">¶</a></dt>
<dd><p>UGO object search result clean up
Args:</p>
<blockquote>
<div><p>ugo_objs        (list)    UGO objects to process</p>
<p>objtype        (string)    pick from User, Group and OU.</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>(list)        Cleaned objects</p>
</dd>
<dt>Exceptions:</dt><dd><p>None</p>
</dd>
<dt>Todo:</dt><dd><p>will convert to decorator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.ugo_search">
<code class="sig-name descname">ugo_search</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">scope</span><span class="o">=</span><span class="default_value">'Users'</span></em>, <em class="sig-param"><span class="n">objtype</span><span class="o">=</span><span class="default_value">'User'</span></em>, <em class="sig-param"><span class="n">objname</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">searchbase</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.ugo_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.ugo_search" title="Permalink to this definition">¶</a></dt>
<dd><p>UGO related search
Args:</p>
<blockquote>
<div><p>scope        (string)    OU or containers name for search</p>
<p>objtype        (string)    choice form User, Group and OU</p>
<p>objname        (string)    search particular object name</p>
<p>seaarchbase    (string)    entrypoint for search</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>(list)    UGO objects in particular entrypoint</p>
</dd>
<dt>Exceptions:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_ad.ADOps.ugo_user_attributes">
<code class="sig-name descname">ugo_user_attributes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">username</span></em>, <em class="sig-param"><span class="n">firstname</span></em>, <em class="sig-param"><span class="n">lastname</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ADOps.ugo_user_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ADOps.ugo_user_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>set user attribute based on basic information
Args:</p>
<blockquote>
<div><p>username    (string)    user name</p>
<p>firstname    (string)    first name</p>
<p>lastname    (string)    last name</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>(dict)    user attribute dict</p>
</dd>
<dt>Exception:</dt><dd><p>None</p>
</dd>
<dt>Todo:</dt><dd><p>will use decarator</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="Application.AD.ms_ad.ad_entrypoint_combine">
<code class="sig-prename descclassname">Application.AD.ms_ad.</code><code class="sig-name descname">ad_entrypoint_combine</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#ad_entrypoint_combine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.ad_entrypoint_combine" title="Permalink to this definition">¶</a></dt>
<dd><p>decorator to process AD distribution name</p>
</dd></dl>

<dl class="py function">
<dt id="Application.AD.ms_ad.cv_ad_objectscomapre">
<code class="sig-prename descclassname">Application.AD.ms_ad.</code><code class="sig-name descname">cv_ad_objectscomapre</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source</span></em>, <em class="sig-param"><span class="n">destination</span></em>, <em class="sig-param"><span class="n">diff_objs_list</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">judgement_value</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_ad.html#cv_ad_objectscomapre"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_ad.cv_ad_objectscomapre" title="Permalink to this definition">¶</a></dt>
<dd><p>Commvault objects properites list</p>
<dl>
<dt>Args:</dt><dd><p>source        (list)    Ad objects list</p>
<p>destination    (list)    ad objects list</p>
<p>diff_objs_list    (list)     different obj list</p>
<p>judgement_value    (Boolean)    True , False or None</p>
</dd>
<dt>Return:</dt><dd><p>(Boolean)     check result based on different</p>
<p>(list)    cokmpare result</p>
</dd>
<dt>Exception:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-Application.AD.ms_azuread">
<span id="application-ad-ms-azuread-module"></span><h2>Application.AD.ms_azuread module<a class="headerlink" href="#module-Application.AD.ms_azuread" title="Permalink to this headline">¶</a></h2>
<p>This library is used to communicate with Micsoft Azure AD</p>
<dl class="simple">
<dt>Class:</dt><dd><p>AzureAd        Azure Ad related operation
CvAzureAd        Commvault Azure Ad operation class</p>
</dd>
</dl>
<dl class="py class">
<dt id="Application.AD.ms_azuread.AzureAd">
<em class="property">class </em><code class="sig-prename descclassname">Application.AD.ms_azuread.</code><code class="sig-name descname">AzureAd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tenant</span></em>, <em class="sig-param"><span class="n">username</span></em>, <em class="sig-param"><span class="n">password</span></em>, <em class="sig-param"><span class="n">client_id</span></em>, <em class="sig-param"><span class="n">client_pass</span></em>, <em class="sig-param"><span class="n">log</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Azure AD class to handle regular AD operations</p>
<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.adal_token">
<code class="sig-name descname">adal_token</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">client_id</span></em>, <em class="sig-param"><span class="n">client_pass</span></em>, <em class="sig-param"><span class="n">tenant</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.adal_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.adal_token" title="Permalink to this definition">¶</a></dt>
<dd><p>connect to azure ad with client and cilent pass to generate token
args:</p>
<blockquote>
<div><p>client_id    (string)    azure client to handle delete objects
client_pass    (string)    azure clinet password</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>token    (obj)    adal connection token for app</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.azuread_obj_mapper">
<code class="sig-name descname">azuread_obj_mapper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj_</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.azuread_obj_mapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.azuread_obj_mapper" title="Permalink to this definition">¶</a></dt>
<dd><p>covnert the auzre objects to a readable objects
args:</p>
<blockquote>
<div><p><a href="#id1"><span class="problematic" id="id2">obj_</span></a>     (obj)    auzre ad object</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>obj_dict    (dict)    return dict of azure ad object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.conn">
<code class="sig-name descname">conn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tenant</span></em>, <em class="sig-param"><span class="n">username</span></em>, <em class="sig-param"><span class="n">password</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.conn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.conn" title="Permalink to this definition">¶</a></dt>
<dd><p>connect azure ad with user credential
args:</p>
<blockquote>
<div><p>tenant      (string)    azure ad tenant id
username    (string)    azure global admin user name
password    (string)    azure admin password</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>graphclient    (obj)    azure graph client</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.deleted_obj_clean">
<code class="sig-name descname">deleted_obj_clean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">types</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.deleted_obj_clean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.deleted_obj_clean" title="Permalink to this definition">¶</a></dt>
<dd><p>clean all deleted objects
args:</p>
<blockquote>
<div><dl class="simple">
<dt>types    (list)    object type, select from the following type</dt><dd><p>user, group, reg_app, ent_app</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.deleted_obj_delete">
<code class="sig-name descname">deleted_obj_delete</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">objectid</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.deleted_obj_delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.deleted_obj_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>hard delete deleted object from recycle bin
args:</p>
<blockquote>
<div><p>objectid    (string)    azure ad object id string</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.deleted_obj_list">
<code class="sig-name descname">deleted_obj_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type_</span></em>, <em class="sig-param"><span class="n">objectid</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.deleted_obj_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.deleted_obj_list" title="Permalink to this definition">¶</a></dt>
<dd><p>get the delete objects list
args:</p>
<blockquote>
<div><dl class="simple">
<dt><a href="#id3"><span class="problematic" id="id4">type_</span></a>    (string)    object type, select from the following type</dt><dd><p>user, group, reg_app, ent_app</p>
</dd>
</dl>
<p>objectid    (string)    azure ad object id string</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>objs     (obj)    azure ad objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.ent_app_ops">
<code class="sig-name descname">ent_app_ops</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">operation</span><span class="o">=</span><span class="default_value">'list'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.ent_app_ops"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.ent_app_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>enterprise app related operations
args:</p>
<blockquote>
<div><dl class="simple">
<dt>operation(string)    supported operation from the following ops</dt><dd><p>list, create, delete, find, update
default option is list operation</p>
</dd>
</dl>
<p>kwargs    (dict)    additional parameter to operation on azure ad obj</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>ent_apps    (objs)    azure ent_apps objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.get_delete_objs">
<code class="sig-name descname">get_delete_objs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type_</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.get_delete_objs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.get_delete_objs" title="Permalink to this definition">¶</a></dt>
<dd><p>get delete items by type
args:</p>
<blockquote>
<div><dl class="simple">
<dt><a href="#id5"><span class="problematic" id="id6">type_</span></a>    (string)    object type, select from the following type</dt><dd><p>user, group, reg_app, ent_app</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p><a href="#id7"><span class="problematic" id="id8">objs_</span></a>     (obj)    azure ad objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.group_objs_check">
<code class="sig-name descname">group_objs_check</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">types</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.group_objs_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.group_objs_check" title="Permalink to this definition">¶</a></dt>
<dd><p>return objects list
args:</p>
<blockquote>
<div><dl class="simple">
<dt><a href="#id9"><span class="problematic" id="id10">type_</span></a>    (string)    object type, select from the following type</dt><dd><p>user, group, reg_app, ent_app</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>group_objs    (dict)    dict for each type. a list of type objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.group_objs_create">
<code class="sig-name descname">group_objs_create</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">types</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prestring</span><span class="o">=</span><span class="default_value">'Script'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.group_objs_create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.group_objs_create" title="Permalink to this definition">¶</a></dt>
<dd><p>create group objects based on the types
args:</p>
<blockquote>
<div><dl class="simple">
<dt><a href="#id11"><span class="problematic" id="id12">type_</span></a>    (string)    object type, select from the following type</dt><dd><p>user, group, reg_app, ent_app</p>
</dd>
</dl>
<p>prestring (string)    the string put before the object name</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>group_objs    (dict)    dict for each type. a list of type objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.group_ops">
<code class="sig-name descname">group_ops</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">operation</span><span class="o">=</span><span class="default_value">'list'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.group_ops"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.group_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>group related operations
args:</p>
<blockquote>
<div><dl class="simple">
<dt>operation(string)    supported operation from the following ops</dt><dd><p>list, create, delete, find, update
default option is list operation</p>
</dd>
</dl>
<p>kwargs    (dict)    additional parameter to operation on azure ad obj</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>groups    (objs)    azure groups objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.reg_app_ops">
<code class="sig-name descname">reg_app_ops</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">operation</span><span class="o">=</span><span class="default_value">'list'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.reg_app_ops"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.reg_app_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>registred application related operation
args:</p>
<blockquote>
<div><dl class="simple">
<dt>operation(string)    supported operation from the following ops</dt><dd><p>list, create, delete, find, update
default option is list operation</p>
</dd>
</dl>
<p>kwargs    (dict)    additional parameter to operation on azure ad obj</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>reg_apps    (objs)    azure reg_app objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.type_operation">
<code class="sig-name descname">type_operation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type_</span></em>, <em class="sig-param"><span class="n">operation</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.type_operation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.type_operation" title="Permalink to this definition">¶</a></dt>
<dd><p>common type operation to avoid duplicate code
args:</p>
<blockquote>
<div><dl class="simple">
<dt><a href="#id13"><span class="problematic" id="id14">type_</span></a>    (string)    object type, select from the following type</dt><dd><p>user, group, reg_app, ent_app</p>
</dd>
<dt>operation(string)    supported operation from the following ops</dt><dd><p>list, create, delete, find, update</p>
</dd>
</dl>
<p>kwargs    (dict)    additional parameter to operation on azure ad obj</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>operation_result    (objs)    list of azure ad objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.AzureAd.user_ops">
<code class="sig-name descname">user_ops</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">operation</span><span class="o">=</span><span class="default_value">'list'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#AzureAd.user_ops"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.AzureAd.user_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>User related operations
args:</p>
<blockquote>
<div><dl class="simple">
<dt>operation    (string)    supported operation from the following ops</dt><dd><p>list, create, delete, find, update,
default option is list operation</p>
</dd>
</dl>
<p>kwargs    (dict)    additional parameter to operation on azure ad obj</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>users    (objs)    azure user objects</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="Application.AD.ms_azuread.CvAzureAd">
<em class="property">class </em><code class="sig-prename descclassname">Application.AD.ms_azuread.</code><code class="sig-name descname">CvAzureAd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aad_ins</span></em>, <em class="sig-param"><span class="n">sc_ins</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#CvAzureAd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.CvAzureAd" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>azure ad class for CV software</p>
<dl class="py method">
<dt id="Application.AD.ms_azuread.CvAzureAd.cv_obj_browse_check">
<code class="sig-name descname">cv_obj_browse_check</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_objs</span></em>, <em class="sig-param"><span class="n">job_ins</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#CvAzureAd.cv_obj_browse_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.CvAzureAd.cv_obj_browse_check" title="Permalink to this definition">¶</a></dt>
<dd><p>check backup job result and source obj
args:</p>
<blockquote>
<div><p>source_obj    list    azure ad objects list of source data
job_ins        ins    the latest backup job instance</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.CvAzureAd.cv_obj_change">
<code class="sig-name descname">cv_obj_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sourceobjs</span></em>, <em class="sig-param"><span class="n">types</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">changevalue</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#CvAzureAd.cv_obj_change"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.CvAzureAd.cv_obj_change" title="Permalink to this definition">¶</a></dt>
<dd><p>process auzre object, change one attribute, then restor it
args:</p>
<blockquote>
<div><p>sourceobjs    list    auzre ad objects of source
types        list    list of types from the following type</p>
<blockquote>
<div><p>user, group, reg_app, ent_app</p>
</div></blockquote>
<p>changevlue    dict    type based change dict, will pass to change option</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>changevalue    dict    type based change dict, use for compare</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.CvAzureAd.cv_obj_change_browse_check">
<code class="sig-name descname">cv_obj_change_browse_check</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sourceobjs</span></em>, <em class="sig-param"><span class="n">changevalue</span></em>, <em class="sig-param"><span class="n">job_ins</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#CvAzureAd.cv_obj_change_browse_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.CvAzureAd.cv_obj_change_browse_check" title="Permalink to this definition">¶</a></dt>
<dd><p>process azure objects, check browse result and see if we get update value
args:</p>
<blockquote>
<div><p>sourceobjs    list    auzre ad objects of source
changevlue    dict    type based change dict, will pass to change option
job_ins        ins    the latest backup job instance</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.CvAzureAd.cv_obj_change_restore">
<code class="sig-name descname">cv_obj_change_restore</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sourceobjs</span></em>, <em class="sig-param"><span class="n">job_ins</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#CvAzureAd.cv_obj_change_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.CvAzureAd.cv_obj_change_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>run retore job from base and restore to old way
args:</p>
<blockquote>
<div><p>sourceobjs    list    auzre ad objects of source
job_ins        ins    the resetore job instance</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.CvAzureAd.cv_obj_compare">
<code class="sig-name descname">cv_obj_compare</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#CvAzureAd.cv_obj_compare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.CvAzureAd.cv_obj_compare" title="Permalink to this definition">¶</a></dt>
<dd><p>find the matching objects and compare with source obj
args:</p>
<blockquote>
<div><p>source_obj    list    azure ad object</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>obj_match    Boolean    return compare result state</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.CvAzureAd.cv_obj_delete_restore">
<code class="sig-name descname">cv_obj_delete_restore</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sourceobjs</span></em>, <em class="sig-param"><span class="n">types</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">harddelete</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#CvAzureAd.cv_obj_delete_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.CvAzureAd.cv_obj_delete_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>process azure ad object, delete it first delete then run the restore job
args:</p>
<blockquote>
<div><p>sourceobjs    list    auzre ad objects of source
types        list    list of types from the following type</p>
<blockquote>
<div><p>user, group, reg_app, ent_app</p>
</div></blockquote>
<p>harddelete    Boolean    if the object type support hard delete or not</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>obj_result    list    azure ad objects after rstore job</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.CvAzureAd.cv_obj_restore">
<code class="sig-name descname">cv_obj_restore</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj_</span></em>, <em class="sig-param"><span class="n">matchobj</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#CvAzureAd.cv_obj_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.CvAzureAd.cv_obj_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>run a restore job with more options
args:</p>
<blockquote>
<div><p><a href="#id15"><span class="problematic" id="id16">obj_</span></a>    obj    azure ad object
matchobj     Boolean    decide if search by object id or name</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>restore_job    ins    restore job instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Application.AD.ms_azuread.CvAzureAd.cv_restore_option_builder">
<code class="sig-name descname">cv_restore_option_builder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cv_objs</span></em>, <em class="sig-param"><span class="n">type_</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Application/AD/ms_azuread.html#CvAzureAd.cv_restore_option_builder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Application.AD.ms_azuread.CvAzureAd.cv_restore_option_builder" title="Permalink to this definition">¶</a></dt>
<dd><p>create cv restore option file
args:</p>
<blockquote>
<div><p>cv_objs    list    azuread objects stored in cv backup
types    (list)    object type, select from the following type</p>
<blockquote>
<div><p>user, group, reg_app, ent_app</p>
</div></blockquote>
<p>overwrite    Boolean    restore overwrite option</p>
</div></blockquote>
<dl class="simple">
<dt>return:</dt><dd><p>restore_options    dict    restore option to create restore job</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Application.AD">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-Application.AD" title="Permalink to this headline">¶</a></h2>
<p>This package is used to handle all AD agent related operations</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Commvault Systems Inc. All Rights Reserved

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>