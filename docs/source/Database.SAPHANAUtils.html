

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Database.SAPHANAUtils package &mdash; Commvault Automation 11.23 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Commvault Automation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Database.SAPHANAUtils package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-Database.SAPHANAUtils.hana_helper">Database.SAPHANAUtils.hana_helper module</a></li>
<li><a class="reference internal" href="#module-Database.SAPHANAUtils">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Commvault Automation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Database.SAPHANAUtils package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/Database.SAPHANAUtils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="database-saphanautils-package">
<h1>Database.SAPHANAUtils package<a class="headerlink" href="#database-saphanautils-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-Database.SAPHANAUtils.hana_helper">
<span id="database-saphanautils-hana-helper-module"></span><h2>Database.SAPHANAUtils.hana_helper module<a class="headerlink" href="#module-Database.SAPHANAUtils.hana_helper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing sap hana operations</p>
<p>HANAHelper is the only class defined in this file</p>
<p>HANAHelper: Helper class to perform sap hana operations</p>
<dl>
<dt>HANAHelper:</dt><dd><p>__init__()                      –  initializes sap hana helper object</p>
<p>backup_prefix()                 –  sets the back up prefix to be used during backup</p>
<dl class="simple">
<dt>get_hana_server_details()       –  gets the SAP HANA server details like the hostname of the</dt><dd><p>HANA server, port</p>
</dd>
</dl>
<p>hana_backup()                   –  runs the sap hana backup with the given backup type</p>
<p>hana_restore()                  –  runs the given SAP HANA restore</p>
<p>cleanup_test_data()             –  cleans up the test data created during automation</p>
<dl class="simple">
<dt>create_test_tables()            –  creates test tables in the schema of the database user</dt><dd><p>provided</p>
</dd>
</dl>
<p>test_tables_validation()        –  validates the test tables that were restored</p>
</dd>
</dl>
<dl class="py class">
<dt id="Database.SAPHANAUtils.hana_helper.HANAHelper">
<em class="property">class </em><code class="sig-prename descclassname">Database.SAPHANAUtils.hana_helper.</code><code class="sig-name descname">HANAHelper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">testcase</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Database/SAPHANAUtils/hana_helper.html#HANAHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Database.SAPHANAUtils.hana_helper.HANAHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper class to perform sap hana operations</p>
<dl class="py method">
<dt id="Database.SAPHANAUtils.hana_helper.HANAHelper.backup_prefix">
<em class="property">property </em><code class="sig-name descname">backup_prefix</code><a class="headerlink" href="#Database.SAPHANAUtils.hana_helper.HANAHelper.backup_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>getter for the backup prefix 
Returns:</p>
<blockquote>
<div><p>(str)   –      Returns backup prefix</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Database.SAPHANAUtils.hana_helper.HANAHelper.cleanup_test_data">
<code class="sig-name descname">cleanup_test_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Database/SAPHANAUtils/hana_helper.html#HANAHelper.cleanup_test_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Database.SAPHANAUtils.hana_helper.HANAHelper.cleanup_test_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans up the testdata from the previous cycle</p>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if the testdata could not be cleaned up properly
or if connection could not be established to the HANA client</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Database.SAPHANAUtils.hana_helper.HANAHelper.create_test_tables">
<code class="sig-name descname">create_test_tables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Database/SAPHANAUtils/hana_helper.html#HANAHelper.create_test_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Database.SAPHANAUtils.hana_helper.HANAHelper.create_test_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the test tables in the source database</p>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if not able to create test tables</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Database.SAPHANAUtils.hana_helper.HANAHelper.get_hana_server_details">
<code class="sig-name descname">get_hana_server_details</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Database/SAPHANAUtils/hana_helper.html#HANAHelper.get_hana_server_details"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Database.SAPHANAUtils.hana_helper.HANAHelper.get_hana_server_details" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the SAP HANA server details like hostname, password and port</p>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if the hostname of the HANA server could not be obtained or
if the password for the HANA instance could not be obtained or
if there is an issue with getting the port</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Database.SAPHANAUtils.hana_helper.HANAHelper.hana_backup">
<code class="sig-name descname">hana_backup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">backup_type</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Database/SAPHANAUtils/hana_helper.html#HANAHelper.hana_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Database.SAPHANAUtils.hana_helper.HANAHelper.hana_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Submits a SAP HANA backup for the subclient with the given backup type</p>
<dl class="simple">
<dt>Args:</dt><dd><p>backup_type (basestring):  the type of backup to be submitted</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if there is an error while submitting SAP HANA backup</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Database.SAPHANAUtils.hana_helper.HANAHelper.hana_restore">
<code class="sig-name descname">hana_restore</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">point_in_time</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">data_only</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Database/SAPHANAUtils/hana_helper.html#HANAHelper.hana_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Database.SAPHANAUtils.hana_helper.HANAHelper.hana_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Submits a SAP HANA restore of the given type</p>
<dl>
<dt>Args:</dt><dd><p>point_in_time   (bool): if the restore has to be point in time</p>
<blockquote>
<div><p>default: False</p>
</div></blockquote>
<p>data_only       (bool): if the restore has to be recover data only</p>
<blockquote>
<div><p>default: False</p>
</div></blockquote>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if there is an error while submitting a restore</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Database.SAPHANAUtils.hana_helper.HANAHelper.test_tables_validation">
<code class="sig-name descname">test_tables_validation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">point_in_time</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">recover_data</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Database/SAPHANAUtils/hana_helper.html#HANAHelper.test_tables_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Database.SAPHANAUtils.hana_helper.HANAHelper.test_tables_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates the test tables that were created before the backup</p>
<dl>
<dt>Args:</dt><dd><dl>
<dt>point_in_time   (boolean):  True / False based on the restore job to be</dt><dd><blockquote>
<div><p>validated is Point In Time Restore or not</p>
</div></blockquote>
<p>default:    False</p>
</dd>
<dt>recover_data    (boolean):  True / False based on the restore job to be</dt><dd><blockquote>
<div><p>validated is Recover Data only restore or not</p>
</div></blockquote>
<p>default:    False</p>
</dd>
</dl>
</dd>
</dl>
<p>Raises:</p>
<blockquote>
<div><blockquote>
<div><dl>
<dt>Exception:</dt><dd><p>if database connection fails</p>
<p>if not table is restored by the job</p>
</dd>
</dl>
</div></blockquote>
<p>if the number of source tables and the restored tables do not match</p>
<p>if the number of table is greater than the number of source table</p>
<blockquote>
<div><p>if we are unable to get row count for a table</p>
<p>if the row count doesn’t match</p>
<p>if the values in table doesn’t match</p>
<p>if restore validation fails</p>
</div></blockquote>
</div></blockquote>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Database.SAPHANAUtils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-Database.SAPHANAUtils" title="Permalink to this headline">¶</a></h2>
<p>Initializes the Utils, and Test Cases for the Oracle agent.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Commvault Systems Inc. All Rights Reserved

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>