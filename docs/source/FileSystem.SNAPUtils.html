

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FileSystem.SNAPUtils package &mdash; Commvault Automation 11.18 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Commvault Automation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">FileSystem.SNAPUtils package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-FileSystem.SNAPUtils.snapconstants">FileSystem.SNAPUtils.snapconstants module</a></li>
<li><a class="reference internal" href="#module-FileSystem.SNAPUtils.snaphelper">FileSystem.SNAPUtils.snaphelper module</a></li>
<li><a class="reference internal" href="#module-FileSystem.SNAPUtils.snaptemplates">FileSystem.SNAPUtils.snaptemplates module</a></li>
<li><a class="reference internal" href="#module-FileSystem.SNAPUtils.unixsnaphelper">FileSystem.SNAPUtils.unixsnaphelper module</a></li>
<li><a class="reference internal" href="#module-FileSystem.SNAPUtils">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Commvault Automation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>FileSystem.SNAPUtils package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/FileSystem.SNAPUtils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="filesystem-snaputils-package">
<h1>FileSystem.SNAPUtils package<a class="headerlink" href="#filesystem-snaputils-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-FileSystem.SNAPUtils.snapconstants">
<span id="filesystem-snaputils-snapconstants-module"></span><h2>FileSystem.SNAPUtils.snapconstants module<a class="headerlink" href="#module-FileSystem.SNAPUtils.snapconstants" title="Permalink to this headline">¶</a></h2>
<p>Constants file for performing IntelliSnap operations</p>
<p>SNAPConstants is the only class defined in this file</p>
<p>SNAPConstants: constants class to perform IntelliSnap operations</p>
<p>SNAPHelper:</p>
<blockquote>
<div><p>__init__()                   –  initializes Snap constant object</p>
<p>folder_name()                –  Generates a random sting with 3 charactor’s</p>
<p>execute_query()              –  Executes SQL query</p>
</div></blockquote>
<dl class="class">
<dt id="FileSystem.SNAPUtils.snapconstants.SNAPConstants">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.SNAPUtils.snapconstants.</code><code class="sig-name descname">SNAPConstants</code><span class="sig-paren">(</span><em class="sig-param">commcell</em>, <em class="sig-param">client</em>, <em class="sig-param">agent</em>, <em class="sig-param">tcinputs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snapconstants.html#SNAPConstants"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snapconstants.SNAPConstants" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Constants class to perform snap operations</p>
<dl class="method">
<dt id="FileSystem.SNAPUtils.snapconstants.SNAPConstants.execute_query">
<code class="sig-name descname">execute_query</code><span class="sig-paren">(</span><em class="sig-param">query</em>, <em class="sig-param">my_options=None</em>, <em class="sig-param">fetch_rows='all'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snapconstants.html#SNAPConstants.execute_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snapconstants.SNAPConstants.execute_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes SQL Queries
Args:</p>
<blockquote>
<div><p>query           (str)   – sql query to execute</p>
<p>my_options      (dict)  – options in the query
default: None</p>
<p>fetch_rows      (str)   – By default return all rows, if not return one row</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>str : first column of the sql output</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snapconstants.SNAPConstants.folder_name">
<code class="sig-name descname">folder_name</code><span class="sig-paren">(</span><em class="sig-param">backup_level</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snapconstants.html#SNAPConstants.folder_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snapconstants.SNAPConstants.folder_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns random charactor’s</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-FileSystem.SNAPUtils.snaphelper">
<span id="filesystem-snaputils-snaphelper-module"></span><h2>FileSystem.SNAPUtils.snaphelper module<a class="headerlink" href="#module-FileSystem.SNAPUtils.snaphelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing IntelliSnap operations</p>
<p>SNAPHelper is the only class defined in this file</p>
<p>SNAPHelper: Helper class to perform IntelliSnap operations</p>
<dl>
<dt>SNAPHelper:</dt><dd><p>__init__()                   –  initializes Snap helper object</p>
<dl class="simple">
<dt>setup()                      –  Setup function which calls create_locations() and</dt><dd><p>create_snap_environment()</p>
</dd>
<dt>create_locations()           –  Create MountPath, Restore and DisKlibrary Locations</dt><dd><p>if does not exists</p>
</dd>
<dt>create_snap_copy()           –  wrapper for creating snap, snapvault, snapmirror, replica,</dt><dd><p>and replica mirror copies</p>
</dd>
<dt>create_secondary_snap_copy()       –  creates snapvault, snapmirror, replica,</dt><dd><p>and replica mirror copies</p>
</dd>
<dt>create_snap_environment()    –  includes Add Array, Enabling IntelliSnap at Subclient</dt><dd><p>Create Library, Storage Policy, Snap Copy, Aux Copy, BackupSet
Subclient, set content and Enable IntelliSnap on it,
add test data folder to subclient content</p>
</dd>
<dt>kill_job()                   –  Starts a SnapBackup job and kills it after Snap Phase</dt><dd><p>completes and adds the job in to
Job_Tracker to check while DA validation</p>
</dd>
</dl>
<p>delete_copy()                –  deletes storage policy copy</p>
<dl class="simple">
<dt>snap_backup()                –  Runs SnapBackup based on the following inputs</dt><dd><p>if only inlinebkpcpy is True, Runs Backup with Catalog and
inline backup copy
if only skipCatalog is True, Runs Backup with Skip Catalog
if Both inlinebkpcpy, skipCatalog are True, Runs Backup with
skip catalog and inline backup copy
if Both inlinebkpcpy, skipCatalog are False, Runs Backup with
Catalog, Also if inline is true, monitors backup copy job.</p>
</dd>
</dl>
<p>snap_outplace()              –  OutPlace Restore from Snap copy</p>
<p>snap_inplace()               –  Inplace Restore from Snap copy</p>
<p>time_formattor()             –  Takes job times as input and Formats it for Browse</p>
<dl class="simple">
<dt>snap_inplace_validation()    –  Validate inplace restored content from snap by</dt><dd><p>mounting the snapshot</p>
</dd>
<dt>snap_outplace_validation()   –  Validate outplace restored content from snap with</dt><dd><p>subclient content</p>
</dd>
</dl>
<p>compare()                    –  Compares two directories</p>
<p>tape_outplace()              –  Outplace Restore from tape copy</p>
<p>tape_inplace()               –  Inplace restore from tape copy</p>
<p>tape_outplace_validation()   –  Validate outplace restored content with the subclient content</p>
<p>tape_inplace_validation()    –  Validate inplace restored content</p>
<p>mount_snap()                 –  Mounts Snap of the given job_id and Copy</p>
<p>unmount_snap()               –  UnMounts Snap of the given job_id and Copy</p>
<p>revert_snap()                –  Reverts Snap of the given job_id and Copy</p>
<p>delete_snap()                –  Deletes Snap of the given job_id and Copy</p>
<p>force_delete_snap()          –  Force Deletes Snap of the given job id and Copy</p>
<p>mount_validation()           –  Validates mounted snap with subclient content</p>
<p>unmount_validation()         –  Validates if snap is unmounted</p>
<p>revert_validation()          –  Validates reverted snap by mounting the snap</p>
<p>delete_validation()          –  Validates if the snap is deleted</p>
<p>unmount_status()             –  checks if the snap is unmounted</p>
<p>update_storage_policy()      –  Method for Updating Backup copy and Snapshot Catalog options</p>
<p>backup_copy()                –  Runs Offline backup copy for the given storage policy</p>
<p>snapshot_cataloging()        –  Runs Offline Snapshot Cataloging for the given storage policy</p>
<p>aux_copy()                   –  Runs Aux copy for the given storage policy and copy</p>
<p>data_aging()                 –  Runs Data aging for the given storage policy and copy</p>
<p>get_volumeid_list()          –  Fetches jobid’s for the snap copy</p>
<p>data_aging_validation()      –  Validates Pruning of Snap jobs</p>
<dl class="simple">
<dt>clean_snap_environment()     –  includes disable intellisnap at subclient, delete subclient,</dt><dd><p>backupset, auxcopy, snapcopy, storage policy, library,
disable intellisnap at client and delete array</p>
</dd>
</dl>
<p>clear_locations()            –  Deletes MountPath, Restores and DiskLibrary locations</p>
<p>cleanup()                    –  Calls clean_snap_environment() and clear_locations()</p>
<p>add_array()                  –  To add array in the array management</p>
<p>delete array()               –  To delete array entry from the array managament</p>
<p>spcopy_obj()                 –  Creates storage policy Copy Object</p>
<p>remove_subclient_content()   –  deletes data under subclient content</p>
<p>vplex_snap_validation()      –  snap validation on VPLEX Metro cluster</p>
<p>svm_association()            –  Add SVM association to Replica Copy for Netapp Open Replication</p>
<dl class="simple">
<dt>update_mmconfig()            –  Updates MMConfig MM config ‘MMCONFIG_ARCHGROUP_CLEANUP_INTERVAL_MINUTES’</dt><dd><p>with provided value</p>
</dd>
<dt>run_pruning()                –  Runs data aging for the given storage policy and copy and</dt><dd><p>waits for the snaps to prune</p>
</dd>
<dt>edit_array()                 –  Method to Update Snap Configuration and array Controller for</dt><dd><p>the given array</p>
</dd>
</dl>
<p>update_test_data()           –  Method to edit and delete test data</p>
<dl class="simple">
<dt>delete_bkpcpy_schedule()     –  delete backup copy schedule as it interferes with the</dt><dd><p>test case flow</p>
</dd>
<dt>disable_auxcpy_schedule()    –  disable Auxilliary copy schedule policy as it interferes</dt><dd><p>with the test case flow</p>
</dd>
</dl>
<p>snap_extent_template()       – Template to run extent cases for intellisnap</p>
<p>verify_extentbased_subclient()      – Verify all the extents are backed up from source_list</p>
</dd>
</dl>
<dl class="class">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.SNAPUtils.snaphelper.</code><code class="sig-name descname">SNAPHelper</code><span class="sig-paren">(</span><em class="sig-param">commcell</em>, <em class="sig-param">client</em>, <em class="sig-param">agent</em>, <em class="sig-param">tcinputs</em>, <em class="sig-param">snapconstants</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper class to perform snap operations</p>
<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.add_array">
<code class="sig-name descname">add_array</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.add_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.add_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to Add Hardware Array in to the Array Management</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.add_test_data_folder">
<code class="sig-name descname">add_test_data_folder</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.add_test_data_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.add_test_data_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Test data folder on the subclient content</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.aux_copy">
<code class="sig-name descname">aux_copy</code><span class="sig-paren">(</span><em class="sig-param">copy_name=None</em>, <em class="sig-param">use_scale=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.aux_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.aux_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs Auxilliary copy for the given storage policy and copy
Args:</p>
<blockquote>
<div><p>copy_name       (str)       – Copy name for which aux copy needs to be run
default: None</p>
<p>use_scale       (bool)      – Use scalable resource allocation
default: None</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.backup_copy">
<code class="sig-name descname">backup_copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.backup_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.backup_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs Offline backup copy for the given storage policy</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.check_mountstatus">
<code class="sig-name descname">check_mountstatus</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">unmount=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.check_mountstatus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.check_mountstatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Common function to check mount status
Args:</p>
<blockquote>
<div><p>jobid : snap backup jobid</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.clean_snap_environment">
<code class="sig-name descname">clean_snap_environment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.clean_snap_environment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.clean_snap_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>includes disable Intellisnap at subclient, delete subclient, delete backupset,
delete aux and snap copy, delete storage policy, delete library,</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleanup function to clear locations and snap entities</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.clear_locations">
<code class="sig-name descname">clear_locations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.clear_locations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.clear_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove Subclient content
Remove Restore location
Remove Mountpath</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.compare">
<code class="sig-name descname">compare</code><span class="sig-paren">(</span><em class="sig-param">client_obj</em>, <em class="sig-param">destclient_obj</em>, <em class="sig-param">source_dir</em>, <em class="sig-param">dest_dir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.compare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two directories
Args:</p>
<blockquote>
<div><p>client_obj      : client Object of the Source machine</p>
<p>destclient_obj  : client Object of the Destination machine</p>
<p>source_dir      : Source directory Path</p>
<p>dest_dir        : Destination directory Path</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.create_locations">
<code class="sig-name descname">create_locations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.create_locations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.create_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean subclient content if exists and create new one
Create restore location
Create Mountpath</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.create_secondary_snap_copy">
<code class="sig-name descname">create_secondary_snap_copy</code><span class="sig-paren">(</span><em class="sig-param">source_copy</em>, <em class="sig-param">snapvault=False</em>, <em class="sig-param">snapmirror=False</em>, <em class="sig-param">replica_vault=False</em>, <em class="sig-param">replica_mirror=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.create_secondary_snap_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.create_secondary_snap_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>creates Snapvault, Snapmirror, Replica Vault and Replica Mirror Copies
Agrs:</p>
<blockquote>
<div><p>source_copy     (str)     – Source copy for the copy</p>
<p>snapvault       (bool)    – creates snapvault copy if true</p>
<p>snapmirror      (bool)    – creates snapmirror copy if true</p>
<p>replica_vault   (bool)    – creates replica vault copy if true</p>
<p>replica_mirror  (bool)    – creates replica mirror copy if true</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>copy name       (string)  – Newly created Copy Name</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.create_snap_copy">
<code class="sig-name descname">create_snap_copy</code><span class="sig-paren">(</span><em class="sig-param">copy_name</em>, <em class="sig-param">is_mirror_copy</em>, <em class="sig-param">is_snap_copy</em>, <em class="sig-param">library_name</em>, <em class="sig-param">media_agent_name</em>, <em class="sig-param">source_copy=None</em>, <em class="sig-param">provisioning_policy=None</em>, <em class="sig-param">resource_pool=None</em>, <em class="sig-param">is_replica_copy=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.create_snap_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.create_snap_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>includes adding Snap Copy, Snapvault Copy, SnapMirror Copy, Replica/Vault Copy,
Replica Mirror Copy etc
Args:</p>
<blockquote>
<div><p>copy_name           (str)       – Copy Name to create</p>
<p>is_mirror_copy      (bool)      – Creates Mirror Copy if true</p>
<p>is_snap_copy        (bool)      – Creates Snap Copy if true</p>
<p>library_name        (str)       – library name for creating copy</p>
<p>media_agent_name    (str)       – Media Agent name for creating copy</p>
<p>source_copy         (str)       – Source Copy for the Copy
default: None</p>
<dl class="simple">
<dt>provisioning_policy (str)       – Provisioning Policy Name for the Vault/Mirror</dt><dd><p>Copy</p>
</dd>
</dl>
<p>default: None</p>
<p>resource_pool       (str)       – Resource Pool for the Vault/Mirror Copy
default: None</p>
<p>is_replica_copy     (bool)      – Creates Replica Copy if true</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.create_snap_environment">
<code class="sig-name descname">create_snap_environment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.create_snap_environment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.create_snap_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>includes Add Array, Enabling IntelliSnap at Client, Create Library, Storage Policy,
Snap Copy, Aux Copy,BackupSet, Subclient and Enable IntelliSnap on it, Set Retention
Snap Copy</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.data_aging_validation">
<code class="sig-name descname">data_aging_validation</code><span class="sig-paren">(</span><em class="sig-param">copy_name</em>, <em class="sig-param">source_copy_for_mirror=None</em>, <em class="sig-param">vault=False</em>, <em class="sig-param">mirror=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.data_aging_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.data_aging_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates if the jobs are pruned after running the data aging
Agrs:</p>
<blockquote>
<div><dl class="simple">
<dt>copy_name               (str) – copy name for which data aging validation needs</dt><dd><p>to be done</p>
</dd>
<dt>source_copy_for_mirror  (str) – if Copy type is mirror then source copy name needs</dt><dd><p>to be provided</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.delete_array">
<code class="sig-name descname">delete_array</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.delete_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.delete_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to Delete the array management entry</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.delete_bkpcpy_schedule">
<code class="sig-name descname">delete_bkpcpy_schedule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.delete_bkpcpy_schedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.delete_bkpcpy_schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>delete backup copy schedule as it interferes with the test case flow</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.delete_copy">
<code class="sig-name descname">delete_copy</code><span class="sig-paren">(</span><em class="sig-param">copy_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.delete_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.delete_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes Copy
Args:</p>
<blockquote>
<div><p>string  : copy_name</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.delete_snap">
<code class="sig-name descname">delete_snap</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_name</em>, <em class="sig-param">is_mirror=False</em>, <em class="sig-param">source_copy_for_mirror=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.delete_snap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.delete_snap" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes Snap of the given jobid
Args:</p>
<blockquote>
<div><p>jobid                   : jobid for delete operation</p>
<dl class="simple">
<dt>copy_name<span class="classifier">copy name from which the delete operations needs to be</span></dt><dd><p>done</p>
</dd>
</dl>
<p>is_mirror               : if mirror snap needs to be deleted</p>
<p>source_copy_for_mirror  : Source Copy Name of the Mirror</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>object : job object of Snap operation job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.delete_validation">
<code class="sig-name descname">delete_validation</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.delete_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.delete_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete Snap validation
Args :</p>
<blockquote>
<div><p>jobid       : snap backup jobid</p>
<p>copy_name   : copy name from which the delete validation needs to be done</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.disable_auxcpy_schedule">
<code class="sig-name descname">disable_auxcpy_schedule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.disable_auxcpy_schedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.disable_auxcpy_schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>disable Auxilliary copy schedule policy as it interferes with the test case flow</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.edit_array">
<code class="sig-name descname">edit_array</code><span class="sig-paren">(</span><em class="sig-param">array_name</em>, <em class="sig-param">snap_config_name=None</em>, <em class="sig-param">value=None</em>, <em class="sig-param">config_update_level=None</em>, <em class="sig-param">level_id=None</em>, <em class="sig-param">array_access_node=None</em>, <em class="sig-param">mode=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.edit_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.edit_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to Update Snap Configurations and array controller for the given array
Args:</p>
<blockquote>
<div><p>array_name              (str)     – Name of the Array</p>
<p>snap_config_name        (str)     – Name of the Snap Config</p>
<p>value                   (str)     – Value of the Snap Config</p>
<p>config_update_level     (int)     – update level for the Snap config
default: “array”
other values: “subclient”, “copy”, “client”</p>
<dl class="simple">
<dt>level_id                (int)     – level Id where the config needs to be</dt><dd><p>added/updated, ex: Subclient, client, copy id’s</p>
</dd>
</dl>
<p>default: None</p>
<p>array_access_node        (str)    – Array Access Node MA
default: None</p>
<dl class="simple">
<dt>mode                    (str)    – Operation type for the Array Access Node whether</dt><dd><p>to add or remove, Ex : add, remove</p>
</dd>
</dl>
<p>default: add
/* To update array access node, call edit_array with only array_name, array_access_node
and mode parameters <a href="#id1"><span class="problematic" id="id2">*</span></a>/</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.force_delete_snap">
<code class="sig-name descname">force_delete_snap</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.force_delete_snap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.force_delete_snap" title="Permalink to this definition">¶</a></dt>
<dd><p>Force Deletes Snap of the given jobid
Args:</p>
<blockquote>
<div><p>jobid       : jobid for delete operation</p>
<p>copy_name   : copy name from which the delete operations needs to be done</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>object      : job object of Snap operation job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.force_unmount_snap">
<code class="sig-name descname">force_unmount_snap</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.force_unmount_snap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.force_unmount_snap" title="Permalink to this definition">¶</a></dt>
<dd><p>UnMounts Snap of the given jobid
Args:</p>
<blockquote>
<div><p>jobid       : jobid for unmount operation</p>
<p>copy_name   : copy name from which the force unmount operations needs to be done</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>object      : job object of Snap operation job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.get_jobid_list">
<code class="sig-name descname">get_jobid_list</code><span class="sig-paren">(</span><em class="sig-param">copy_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.get_jobid_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.get_jobid_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches job id list from the snap copy
Args:</p>
<blockquote>
<div><p>copy_id         (int)   – copy id to which snap list need be queried</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.inplace_validation">
<code class="sig-name descname">inplace_validation</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_name</em>, <em class="sig-param">source_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.inplace_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.inplace_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Validation for inplace restore operation
Args:</p>
<blockquote>
<div><p>jobid : Job id used for the restore</p>
<p>copy_name : copy name from which the restore is done</p>
<p>source_path: Source directory Path</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.kill_job">
<code class="sig-name descname">kill_job</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.kill_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.kill_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Kills SnapBackup job
Returns:</p>
<blockquote>
<div><p>object : job Object</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.mount_snap">
<code class="sig-name descname">mount_snap</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_name</em>, <em class="sig-param">do_vssprotection=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.mount_snap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.mount_snap" title="Permalink to this definition">¶</a></dt>
<dd><p>Mounts Snap of the given jobid
Args:</p>
<blockquote>
<div><p>jobid               : jobid for mount operation</p>
<p>copy_name           : copy name from which the mount operations needs to be done</p>
<p>do_vssprotection    : Performs VSS protected mount</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>object              : job object of Snap operation job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.mount_validation">
<code class="sig-name descname">mount_validation</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.mount_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.mount_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Mount Snap validation
Args :</p>
<blockquote>
<div><p>jobid       : snap backup jobid</p>
<p>copy_name   : copy name from which the mount validation needs to be done</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.outplace_validation">
<code class="sig-name descname">outplace_validation</code><span class="sig-paren">(</span><em class="sig-param">restore_location</em>, <em class="sig-param">restore_client</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.outplace_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.outplace_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Validation for outplace restore operation
Args:</p>
<blockquote>
<div><p>restore_location    : Data restore path</p>
<p>restore_client      : client where the data is restored</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.pre_cleanup">
<code class="sig-name descname">pre_cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.pre_cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.pre_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre cleanup to clean up the failed/stale entries of snapshots, Backupset and Storage policies</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.reconcile_snap">
<code class="sig-name descname">reconcile_snap</code><span class="sig-paren">(</span><em class="sig-param">jobid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.reconcile_snap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.reconcile_snap" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs Reconcile Operation of the array for the given jobid
Args:</p>
<blockquote>
<div><p>jobid       : jobid for Reconcile operation</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>object      : job object of Snap operation job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.remove_subclient_content">
<code class="sig-name descname">remove_subclient_content</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.remove_subclient_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.remove_subclient_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete data under subclient content</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.revert_snap">
<code class="sig-name descname">revert_snap</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.revert_snap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.revert_snap" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverts Snap of the given jobid
Args:</p>
<blockquote>
<div><p>jobid       : jobid for revert operation</p>
<p>copy_name   : copy name from which the revert operations needs to be done</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>object      : job object of Snap operation job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.revert_validation">
<code class="sig-name descname">revert_validation</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.revert_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.revert_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Revert Snap validation
Args :</p>
<blockquote>
<div><p>jobid       : snap backup jobid</p>
<p>copy_name   : copy name from which the revert validation needs to be done</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.run_data_aging">
<code class="sig-name descname">run_data_aging</code><span class="sig-paren">(</span><em class="sig-param">copy_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.run_data_aging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.run_data_aging" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs data aging for the given storage policy and copy
Args:</p>
<blockquote>
<div><p>copy_name       (str)       – Copy name for which Data Aging needs to be run</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.run_pruning">
<code class="sig-name descname">run_pruning</code><span class="sig-paren">(</span><em class="sig-param">copy_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.run_pruning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.run_pruning" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs data aging for the given storage policy and copy
and waits for the snaps to prune</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.setup">
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup function to create locations and snap entities</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.snap_backup">
<code class="sig-name descname">snap_backup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.snap_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.snap_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs Snap Backup from Commcell for the given subclient
Returns:</p>
<blockquote>
<div><p>object : job Object</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.snap_extent_template">
<code class="sig-name descname">snap_extent_template</code><span class="sig-paren">(</span><em class="sig-param">set_proxy_options=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.snap_extent_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.snap_extent_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Template to run extent test case for intellisnap</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>set_proxy_options      (bool)   –    True, if the proxy needed otherwise False.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.snap_inplace">
<code class="sig-name descname">snap_inplace</code><span class="sig-paren">(</span><em class="sig-param">copy_precedence</em>, <em class="sig-param">from_time=None</em>, <em class="sig-param">to_time=None</em>, <em class="sig-param">fs_options=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.snap_inplace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.snap_inplace" title="Permalink to this definition">¶</a></dt>
<dd><p>OutPlace restore from snapbackup</p>
<dl>
<dt>Args :</dt><dd><p>copy_precedence : precedence of snap copy</p>
<p>from_time : from time for browse, default: None</p>
<p>to_time : to time for Browse,  default: None</p>
<p>fs_options : if true then ‘no_image’(show deleted items) option will be set</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.snap_operations">
<code class="sig-name descname">snap_operations</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_id</em>, <em class="sig-param">mode</em>, <em class="sig-param">client_name=None</em>, <em class="sig-param">mountpath=None</em>, <em class="sig-param">do_vssprotection=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.snap_operations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.snap_operations" title="Permalink to this definition">¶</a></dt>
<dd><p>Common Method for Snap Operations
Args :</p>
<blockquote>
<div><p>jobid             : jobid for the Snap operation</p>
<p>copy_id           : copy id from which the snap operations needs to be done</p>
<p>client_name       : name of the destination client, default: None</p>
<p>MountPath         : MountPath for Snap operation, default: None</p>
<p>do_vssprotection  : enable vss protection snap during mount</p>
<dl class="simple">
<dt>mode<span class="classifier">mode can be mount,unmount,force_unmount,delete,force_delete,</span></dt><dd><p>revert,reconcile</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Return :</dt><dd><p>object : Job object of Snap Operation job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.snap_outplace">
<code class="sig-name descname">snap_outplace</code><span class="sig-paren">(</span><em class="sig-param">copy_precedence</em>, <em class="sig-param">from_time=None</em>, <em class="sig-param">to_time=None</em>, <em class="sig-param">fs_options=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.snap_outplace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.snap_outplace" title="Permalink to this definition">¶</a></dt>
<dd><p>OutPlace restore from snapbackup</p>
<dl>
<dt>Args :</dt><dd><p>copy_precedence : precedence of snap copy</p>
<p>from_time       : from time for browse, default: None</p>
<p>to_time         : to time for Browse,  default: None</p>
<p>fs_options      : if true then ‘no_image’(show deleted items) option will be set</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.snap_restore">
<code class="sig-name descname">snap_restore</code><span class="sig-paren">(</span><em class="sig-param">copy_precedence</em>, <em class="sig-param">from_time=None</em>, <em class="sig-param">to_time=None</em>, <em class="sig-param">fs_options=False</em>, <em class="sig-param">outplace=False</em>, <em class="sig-param">inplace=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.snap_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.snap_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for Restore from Snap job
Return :</p>
<blockquote>
<div><p>Object : job object of restore job</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.snapop_validation">
<code class="sig-name descname">snapop_validation</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_id</em>, <em class="sig-param">mount=False</em>, <em class="sig-param">revert=False</em>, <em class="sig-param">delete=False</em>, <em class="sig-param">unmount=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.snapop_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.snapop_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Common Method for Snap Operation Validations
Args:</p>
<blockquote>
<div><p>jobid       : snap backup jobid</p>
<p>copy_id     : copy id from which the snap validation needs to be done</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.snapshot_cataloging">
<code class="sig-name descname">snapshot_cataloging</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.snapshot_cataloging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.snapshot_cataloging" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs Offline snapshot cataloging for the given storage policy</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.spcopy_obj">
<code class="sig-name descname">spcopy_obj</code><span class="sig-paren">(</span><em class="sig-param">copy_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.spcopy_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.spcopy_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Create storage Policy Copy object
Arg:</p>
<blockquote>
<div><p>copy_name        (str)         – Copy name</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.svm_association">
<code class="sig-name descname">svm_association</code><span class="sig-paren">(</span><em class="sig-param">copy_name</em>, <em class="sig-param">source_array</em>, <em class="sig-param">target_array</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.svm_association"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.svm_association" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to Update SVM association for Netapp Open Replication
Args:</p>
<blockquote>
<div><p>copy_name       (str)   –  Copy name for the update</p>
<p>source_array    (str)   –  Source Array Name</p>
<p>target_array    (str)   –  Target Array Name</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.tape_inplace">
<code class="sig-name descname">tape_inplace</code><span class="sig-paren">(</span><em class="sig-param">copy_precedence</em>, <em class="sig-param">from_time=None</em>, <em class="sig-param">to_time=None</em>, <em class="sig-param">fs_options=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.tape_inplace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.tape_inplace" title="Permalink to this definition">¶</a></dt>
<dd><p>Inplace restore from tape copy
Args:</p>
<blockquote>
<div><p>copy_precedence : precedence of snap copy</p>
<p>from_time       : from time for browse, default: None</p>
<p>to_time         : to time for Browse,  default: None</p>
<p>fs_options      : if true then ‘no_image’(show deleted items) option will be set</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.tape_outplace">
<code class="sig-name descname">tape_outplace</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_precedence</em>, <em class="sig-param">from_time=None</em>, <em class="sig-param">to_time=None</em>, <em class="sig-param">fs_options=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.tape_outplace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.tape_outplace" title="Permalink to this definition">¶</a></dt>
<dd><p>Outplace restore from tape copy
Args:</p>
<blockquote>
<div><p>jobid           : jobid to find total nackup size</p>
<p>copy_precedence : precedence of snap copy</p>
<p>from_time       : from time for browse, default: None</p>
<p>to_time         : to time for Browse,  default: None</p>
<p>fs_options      : if true then ‘no_image’(show deleted items) option will be set</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.tape_restore">
<code class="sig-name descname">tape_restore</code><span class="sig-paren">(</span><em class="sig-param">copy_precedence</em>, <em class="sig-param">from_time=None</em>, <em class="sig-param">to_time=None</em>, <em class="sig-param">fs_options=False</em>, <em class="sig-param">outplace=False</em>, <em class="sig-param">inplace=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.tape_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.tape_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore from Tape Copy
Args:</p>
<blockquote>
<div><p>copy_precedence : precedence of snap copy</p>
<p>from_time       : from time for browse, default: None</p>
<p>to_time         : to time for Browse,  default: None</p>
<p>fs_options      : if true then ‘no_image’(show deleted items) option will be set</p>
<p>outplace        : set to True if outplace restore</p>
<p>inplace         : set to True if inplace restore</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.unmount_snap">
<code class="sig-name descname">unmount_snap</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.unmount_snap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.unmount_snap" title="Permalink to this definition">¶</a></dt>
<dd><p>UnMounts Snap of the given jobid
Args:</p>
<blockquote>
<div><p>jobid       : jobid for unmount operation</p>
<p>copy_name   : copy name from which the unmount operations needs to be done</p>
</div></blockquote>
<dl class="simple">
<dt>Return:</dt><dd><p>object      : job object of Snap operation job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.unmount_status">
<code class="sig-name descname">unmount_status</code><span class="sig-paren">(</span><em class="sig-param">jobid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.unmount_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.unmount_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Check Unmount status
Args:</p>
<blockquote>
<div><p>jobid : snap backup jobid</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.unmount_validation">
<code class="sig-name descname">unmount_validation</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.unmount_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.unmount_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>UnMount Snap validation
Args :</p>
<blockquote>
<div><p>jobid       : snap backup jobid</p>
<p>copy_name   : copy name from which the unmount validation needs to be done</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.update_mmconfig">
<code class="sig-name descname">update_mmconfig</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.update_mmconfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.update_mmconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to Update MM config MMCONFIG_ARCHGROUP_CLEANUP_INTERVAL_MINUTES
Args:</p>
<blockquote>
<div><p>value       (int)       –  Config Value to Update</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.update_storage_policy">
<code class="sig-name descname">update_storage_policy</code><span class="sig-paren">(</span><em class="sig-param">enable_backup_copy=False</em>, <em class="sig-param">source_copy_for_snap_to_tape=None</em>, <em class="sig-param">enable_snapshot_catalog=False</em>, <em class="sig-param">source_copy_for_snapshot_catalog=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.update_storage_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.update_storage_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for Updating Storage Policy Options like Backup Copy and Snapshot Catalog
Args:</p>
<blockquote>
<div><p>enable_backup_copy               (bool) – Enables backup copy if the value is True</p>
<p>source_copy_for_snap_to_tape     (str)  – Source Copy name for backup copy</p>
<p>enable_snapshot_catalog          (bool) – Enables Snapshot Catalog if value isTrue</p>
<p>source_copy_for_snapshot_catalog (str)  – Source Copy name for Snapshot Catalog</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.update_test_data">
<code class="sig-name descname">update_test_data</code><span class="sig-paren">(</span><em class="sig-param">mode</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.update_test_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.update_test_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to edit or delete the test data
Args:</p>
<blockquote>
<div><p>mode      –  mode values can be ‘edit’ or ‘delete’</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.verify_extentbased_subclient">
<code class="sig-name descname">verify_extentbased_subclient</code><span class="sig-paren">(</span><em class="sig-param">job</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.verify_extentbased_subclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.verify_extentbased_subclient" title="Permalink to this definition">¶</a></dt>
<dd><p>Template to run extent level validation after snap backup</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>job     (object) — job of the snap backup</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaphelper.SNAPHelper.vplex_snap_validation">
<code class="sig-name descname">vplex_snap_validation</code><span class="sig-paren">(</span><em class="sig-param">jobid</em>, <em class="sig-param">copy_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaphelper.html#SNAPHelper.vplex_snap_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaphelper.SNAPHelper.vplex_snap_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate snap created on both the nodes of Vplex Array
Args:</p>
<blockquote>
<div><p>jobid       (int)       – Vplex Snapbackup job id</p>
<p>copy_name   (str)       – Copy name from where the job belongs</p>
</div></blockquote>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-FileSystem.SNAPUtils.snaptemplates">
<span id="filesystem-snaputils-snaptemplates-module"></span><h2>FileSystem.SNAPUtils.snaptemplates module<a class="headerlink" href="#module-FileSystem.SNAPUtils.snaptemplates" title="Permalink to this headline">¶</a></h2>
<p>Template file for performing IntelliSnap operations</p>
<p>SNAPTemplate is the only class defined in this file</p>
<p>SNAPTemplate: Template class to perform IntelliSnap operations</p>
<p>SNAPTemplate:</p>
<blockquote>
<div><p>__init__()                   –  initializes Snap constant object</p>
<p>Snap_Template1()             –  Template to Perform Snap backup and Restore opertaions
Steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Add hardware Array details to array management and update the snapconfig details.</p></li>
<li><p>Create Restore/Mountpath/disk liberary location and Create entites like library,
storage policy, backupset, subclient, snap and aux copy and enable intellisnap
on subclient.</p></li>
<li><p>add test data folder in the subclient content.</p></li>
<li><p>start a Full snap backup job and kill it after snap phase completes to verify snap aging</p></li>
<li><p>Raun DA.</p></li>
<li><p>Run Full Snapbackup job with catalog, Vplex validations for vplex engines.</p></li>
<li><p>Outplace restore from snap backup and validation.</p></li>
<li><p>Modify data on the source, and Run Incremental snap job with catalog.</p></li>
<li><p>Inplace restore from snap backup and validation.</p></li>
<li><p>Mount snap and validate.</p></li>
<li><p>Unmount snap and validate.</p></li>
<li><p>Run backup copy.</p></li>
<li><p>Outplace restore from backup copy and validation.</p></li>
<li><p>Second Full Snap backup with catalog and inline backup copy.</p></li>
<li><p>Delete source data and Run Incremental snap backup with catalog and inline backup copy.</p></li>
<li><p>Outplace restore from snap backup using ‘show deleted items’ enabled for each path
and Validation.</p></li>
<li><p>Outplace restore of entire path from snap backup and validation.</p></li>
<li><p>Run Aux copy and Outplace restore from aux copy with validation.</p></li>
<li><p>Revert Snap for supported Engines and validation.</p></li>
<li><p>Delete Snap and validations.</p></li>
<li><p>Aging validation on snap copy.</p></li>
<li><p>Cleanup entites which is been created in step 2.</p></li>
<li><p>Delete Hardware array from array management.</p></li>
</ol>
</div></blockquote>
<p>snap_template2()             –  Template to Perform Intellisnap Replication operations
Steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Add source and target hardware Array and OCUM details in case of NetApp to array
management and update the snapconfig details on source and target.</p></li>
<li><p>Create Restore/Mountpath/disk liberary location and Create entites like library,
storage policy, backupset, subclient, snap, aux copy and replica/ vault/mirror copies
and enable intellisnap on subclient.</p></li>
<li><p>add test data folder in the subclient content.</p></li>
<li><p>Run Full Snapbackup job with skip catalog.</p></li>
<li><p>Outplace restore from snap backup and validation.</p></li>
<li><p>Run Incremental Snapbackup job with skip catalog.</p></li>
<li><p>Run Aux Copy.</p></li>
<li><p>Mount Snap and its Validation from FIRST node copy and validation.</p></li>
<li><p>UnMount Snap and its Validation from FIRST node copy and validation.</p></li>
<li><p>Mount Snap and its Validation from SECOND node copy in 3 node configurations
and validation.</p></li>
<li><p>UnMount Snap and its Validation from SECOND node copy in 3 node configurations
and validation.</p></li>
<li><p>Revert snap from primary Snap and validation for supported engines.</p></li>
<li><p>OutPlace Restore from FIRST node Snap backup and validations.</p></li>
<li><p>InPlace Restore from FIRST node Snap Backup and validations.</p></li>
<li><p>Enable backup copy and snapshot cataloging on the storage policy.</p></li>
<li><p>Run Snapshot Cataloging.</p></li>
<li><p>OutPlace Restore from First node Snap backup after Catalog and validation.</p></li>
<li><p>Run SECOND FULL and SECOND INCREMENTAL Snap Backup job.</p></li>
<li><p>Run Aux Copy.</p></li>
<li><p>Outplace restore from second node copy and validation.</p></li>
<li><p>Run THIRD FULL and THIRD INCREMENTAL Snap Backup job in 3 node configs.</p></li>
<li><p>Run aux copy.</p></li>
<li><p>Run Backup copy from Storage Policy.</p></li>
<li><p>Run OutPlace Restore from Backup Copy and validations.</p></li>
<li><p>Run Snapshot Cataloging and aux copy from Storage Policy.</p></li>
<li><p>Delete snap from Primary/ first node / second node copies and validations.</p></li>
<li><p>Force delete snap in case of open replication as it will fail with snapmirror
dependency.</p></li>
<li><p>data aging validations on primary/ first/ second node copies.</p></li>
<li><p>cleanup of entities created in step2.</p></li>
<li><p>delete arrays and ocum details from the array management.</p></li>
</ol>
</div></blockquote>
<dl class="simple">
<dt>snap_template3()             –  Template to Perform Intellisnap Replication operations for</dt><dd><p>Netapp FANOUT and All Copies Configuration</p>
</dd>
<dt>Steps:</dt><dd><ol class="arabic simple">
<li><p>Add source and target hardware Array and OCUM details in case of NetApp to array
management and update the snapconfig details on source and target.</p></li>
<li><p>Create Restore/Mountpath/disk liberary location and Create entites like library,
storage policy, backupset, subclient, snap, aux copy and replica/ vault/mirror copies
and enable intellisnap on subclient.</p></li>
<li><p>add test data folder in the subclient content.</p></li>
<li><p>Run Full Snapbackup job with skip catalog.</p></li>
<li><p>Run Incremental Snapbackup job with skip catalog.</p></li>
<li><p>Run Aux copy.</p></li>
<li><p>Restore from each fanout secondary snap copies and validate.</p></li>
<li><p>enable backup copy and snapshot catalog on the storage policy.</p></li>
<li><p>Run backup copy on storage policy.</p></li>
<li><p>Run OutPlace Restore from Backup Copy and validations.</p></li>
<li><p>Run SECOND full and SECOND incremental snap backup with skip catalog.</p></li>
<li><p>Run Aux copy.</p></li>
<li><p>Run Snapshot catalog.</p></li>
<li><p>Run Inplace restore from First node copy after snapshot catalog and validation.</p></li>
<li><p>Run Backup copy.</p></li>
<li><p>delete snapshots from each copy and validate.</p></li>
<li><p>Force delete snaps in case of Open Replication as it will fail with snapmirror
dependency.</p></li>
<li><p>data aging validations on Primary snap and all the secondary snap fanout copies.</p></li>
<li><p>cleanup of entities created in step2.</p></li>
<li><p>delete arrays and ocum details from the array management.</p></li>
</ol>
</dd>
</dl>
</div></blockquote>
<dl class="class">
<dt id="FileSystem.SNAPUtils.snaptemplates.SNAPTemplate">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.SNAPUtils.snaptemplates.</code><code class="sig-name descname">SNAPTemplate</code><span class="sig-paren">(</span><em class="sig-param">commcell</em>, <em class="sig-param">client</em>, <em class="sig-param">agent</em>, <em class="sig-param">tcinputs</em>, <em class="sig-param">snapconstants</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaptemplates.html#SNAPTemplate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaptemplates.SNAPTemplate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper class to perform snap operations</p>
<dl class="method">
<dt id="FileSystem.SNAPUtils.snaptemplates.SNAPTemplate.snap_template1">
<code class="sig-name descname">snap_template1</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaptemplates.html#SNAPTemplate.snap_template1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaptemplates.SNAPTemplate.snap_template1" title="Permalink to this definition">¶</a></dt>
<dd><p>Snap Template1 to Perform Snap backup and Restore opertaions</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaptemplates.SNAPTemplate.snap_template2">
<code class="sig-name descname">snap_template2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaptemplates.html#SNAPTemplate.snap_template2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaptemplates.SNAPTemplate.snap_template2" title="Permalink to this definition">¶</a></dt>
<dd><p>Snap Template2 to Perform Snapshot Replication Operations</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.snaptemplates.SNAPTemplate.snap_template3">
<code class="sig-name descname">snap_template3</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/snaptemplates.html#SNAPTemplate.snap_template3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.snaptemplates.SNAPTemplate.snap_template3" title="Permalink to this definition">¶</a></dt>
<dd><p>Snap Template2 to Perform NetApp Snapshot Replication Operations for FanOut
Configuration</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-FileSystem.SNAPUtils.unixsnaphelper">
<span id="filesystem-snaputils-unixsnaphelper-module"></span><h2>FileSystem.SNAPUtils.unixsnaphelper module<a class="headerlink" href="#module-FileSystem.SNAPUtils.unixsnaphelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing Intellisnap operations</p>
<p>Restore , Data, Queries and UnixSnapHelper are 4 classes defined in this file.</p>
<p>Restore: Enum constants for all the Restore supported by intellisnap subclients</p>
<p>Data: Enum constant for data operations</p>
<p>Queries: Enum constant for required queries for snap operation</p>
<p>UnixSnapHelper - Helper class to perform intellisnap operations</p>
<dl>
<dt>UnixSnapHelper:</dt><dd><p>_create_paths()            - Creates necessary paths on client and MA</p>
<p>_delete_paths()            - Deletes up paths created by the test case</p>
<p>_create_disk_lib()         - Creates disk library entity on CS</p>
<p>_create_storage_policy()   - Creates storage policy entity on CS</p>
<p>_create_subclient()        - Creates subclient entity on CS</p>
<dl class="simple">
<dt>setup_snap_environment()   - Wrapper function that setups necessary environment</dt><dd><p>for the test case</p>
</dd>
</dl>
<p>_execute_query()           - Execute DB queries</p>
<p>_add_array()               - Function to add storage array</p>
<p>_generate_test_data()      - Generate test data required for the test case</p>
<p>_modify_test_data()        - Modify test data between the jobs</p>
<p>snap_backup()              - Adds or modifies data and run a snapshot backup job</p>
<p>backup_copy()              - Run backup copy jobs for the storage policy</p>
<p>restore()                  - Run restore job either in place or out of place</p>
<p>compare_data()             - Compare the source and destination files and folders</p>
<p>verify_restore()           - Verifies restore job by comparing the source and restored data</p>
<p>verify_mount()             - Mounts the snapshot and compares source and snapshot data</p>
<dl class="simple">
<dt>verify_unmount()           - Mounts and unmounts the snapshot, and verifies that snapshot</dt><dd><p>is unmounted and temporary directories are deleted</p>
</dd>
<dt>verify_revert()            - Performs a hardware revert and compares the reverted data with</dt><dd><p>copy of source</p>
</dd>
<dt>snap_operation()           - Helper function for performing snap operation</dt><dd><p>mount/unmount/revert/delete</p>
</dd>
</dl>
<p>verify_optimized_scan()    - Verifies that jobs was run with optimized scan</p>
<p>_make_test_data_copy()     - Make copy of source preserving the metadata</p>
<p>_get_mount_status()        - Returns mount status for the snapshot</p>
<dl class="simple">
<dt>cleanup()                  - Cleans up entities and paths created at the beginning</dt><dd><p>of the test case</p>
</dd>
<dt>add_data_to_path()         - Add files to the folder path and return the</dt><dd><p>list of files added to be Backed-up</p>
</dd>
</dl>
<p>verify_collect_extent()-   - Verify if all teh extents are backed up for the source_list</p>
<dl class="simple">
<dt>acceptance_tamplate()      - Snap Acceptance template to be used for all test cases</dt><dd><p>with different Unix configurations and snap engines</p>
</dd>
</dl>
<p>snap_extent_template()     - Template to run extent test case for intellisnap</p>
<p>check_volume_monitoring()  - Check the state of the volume for DC</p>
<p>get_backup_stream_count()  - Returns the number of streams used by a backup job</p>
<p>get_restore_stream_count() - Returns the number of streams used by a restore job</p>
<p>verify_job_streams()       - Verifies if the job used expected number of streams</p>
</dd>
</dl>
<dl class="class">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Data">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.SNAPUtils.unixsnaphelper.</code><code class="sig-name descname">Data</code><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#Data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>Data Operation enumeration</p>
<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Data.ADD_DATA">
<code class="sig-name descname">ADD_DATA</code><em class="property"> = 1</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Data.ADD_DATA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Data.ADD_MODIFY_DATA">
<code class="sig-name descname">ADD_MODIFY_DATA</code><em class="property"> = 3</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Data.ADD_MODIFY_DATA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Data.DELETE_DATA">
<code class="sig-name descname">DELETE_DATA</code><em class="property"> = 4</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Data.DELETE_DATA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Data.MODIFY_DATA">
<code class="sig-name descname">MODIFY_DATA</code><em class="property"> = 2</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Data.MODIFY_DATA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Queries">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.SNAPUtils.unixsnaphelper.</code><code class="sig-name descname">Queries</code><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#Queries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Queries" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>Queries required for snap backup</p>
<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Queries.BACKUP_COPY_JOB_QUERY">
<code class="sig-name descname">BACKUP_COPY_JOB_QUERY</code><em class="property"> = 'SELECT childJobId FROM JMJobWF WHERE jobId = {a}'</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Queries.BACKUP_COPY_JOB_QUERY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Queries.BACKUP_SIZE_QUERY">
<code class="sig-name descname">BACKUP_SIZE_QUERY</code><em class="property"> = 'SELECT totalBackupSize FROM JMBkpStats WHERE jobID = {a}'</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Queries.BACKUP_SIZE_QUERY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Queries.CONTROL_HOST_QUERY">
<code class="sig-name descname">CONTROL_HOST_QUERY</code><em class="property"> = 'SELECT ControlHostId FROM SMsnap WHERE SMSnapId in                                 (SELECT SMSnapId FROM SMVolSnapMap WHERE SMVolumeId in                                 (SELECT SMVolumeId from SMVolume WHERE JobId = {a}))'</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Queries.CONTROL_HOST_QUERY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Queries.JOB_IDS_QUERY">
<code class="sig-name descname">JOB_IDS_QUERY</code><em class="property"> = 'SELECT JobId FROM SMVolume WHERE CopyId = {a}'</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Queries.JOB_IDS_QUERY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Queries.MOUNT_PATH_QUERY">
<code class="sig-name descname">MOUNT_PATH_QUERY</code><em class="property"> = 'SELECT SourcePath, MountPath FROM SMVolume                         WHERE JobId = {a} AND CopyId = {b}'</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Queries.MOUNT_PATH_QUERY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Queries.MOUNT_STATUS_QUERY">
<code class="sig-name descname">MOUNT_STATUS_QUERY</code><em class="property"> = 'SELECT MountStatus FROM SMVolume WHERE JobId = {a}'</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Queries.MOUNT_STATUS_QUERY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Queries.SNAP_COPY_NAME_QUERY">
<code class="sig-name descname">SNAP_COPY_NAME_QUERY</code><em class="property"> = 'SELECT name FROM ArchGroupCopy WHERE ArchGroupId = {a}                             AND copy = 1 AND isSnapCopy = 1'</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Queries.SNAP_COPY_NAME_QUERY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Queries.SNAP_COUNT_QUERY">
<code class="sig-name descname">SNAP_COUNT_QUERY</code><em class="property"> = 'SELECT snap.SMSnapId FROM SMVolume AS Vol                                 INNER JOIN SMVolSnapMap AS map ON vol.SMVolumeId = map.SMVolumeId                                 INNER JOIN SMSnap AS snap ON map.SMSnapId = snap.SMSnapId AND                                 snap.ReserveField2 = {a} WHERE vol.JobId = {b} AND                                 snap.ControlHostId IN ({c}, {d})'</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Queries.SNAP_COUNT_QUERY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Queries.VOLUME_ID_QUERY">
<code class="sig-name descname">VOLUME_ID_QUERY</code><em class="property"> = 'SELECT SMVolumeId FROM SMVolume WHERE jobID = {a} AND CopyId = {b}'</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Queries.VOLUME_ID_QUERY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Restore">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.SNAPUtils.unixsnaphelper.</code><code class="sig-name descname">Restore</code><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#Restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>Restore Types enumeration</p>
<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Restore.RESTORE_FROM_SNAP">
<code class="sig-name descname">RESTORE_FROM_SNAP</code><em class="property"> = 1</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Restore.RESTORE_FROM_SNAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.Restore.RESTORE_FROM_TAPE">
<code class="sig-name descname">RESTORE_FROM_TAPE</code><em class="property"> = 2</em><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.Restore.RESTORE_FROM_TAPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper">
<em class="property">class </em><code class="sig-prename descclassname">FileSystem.SNAPUtils.unixsnaphelper.</code><code class="sig-name descname">UnixSnapHelper</code><span class="sig-paren">(</span><em class="sig-param">commcell</em>, <em class="sig-param">client</em>, <em class="sig-param">agent</em>, <em class="sig-param">tcinputs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>UnixSnapHelper - helper class for Unix FS snap automation</p>
<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.acceptance_tamplate">
<code class="sig-name descname">acceptance_tamplate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.acceptance_tamplate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.acceptance_tamplate" title="Permalink to this definition">¶</a></dt>
<dd><p>Snap Acceptance template to be used for all test cases with different
Unix configurations and snap engines</p>
<p>Full SnapBackup -&gt; Restore from Snapshot -&gt; Incremental SnapBackup -&gt;
Backup Copy -&gt; Restore from Tape - &gt; Incremental SnapBackup -&gt;
Backup Copy -&gt; Verify Mount Unmount -&gt; Synth Full -&gt;
Restore from Synth Full</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.add_data_to_path">
<code class="sig-name descname">add_data_to_path</code><span class="sig-paren">(</span><em class="sig-param">full_data_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.add_data_to_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.add_data_to_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Add files to the folder path and return the list of files added to be Backed-up</p>
<blockquote>
<div><dl class="simple">
<dt>Args :</dt><dd><p>full_data_path:      (str)      –   Folder path to create the files</p>
</dd>
<dt>Return:</dt><dd><p>list of files to be Backed-up</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.backup_copy">
<code class="sig-name descname">backup_copy</code><span class="sig-paren">(</span><em class="sig-param">subclient_level=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.backup_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.backup_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Run backup copy for a subclient or storage policy</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>subclient_level     (bool)     –following option for running</dt><dd><p>backup copy from different level.
True - subclient level
False - Storage policy level</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.check_volume_monitoring">
<code class="sig-name descname">check_volume_monitoring</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.check_volume_monitoring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.check_volume_monitoring" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the state of the volume for DC</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>volume         (str)       –   Volume which need to be check for monitoring.</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>(bool)                     – Returns True, if the volume is</dt><dd><p>monitoring else raise exception.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleanup entities</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.compare_data">
<code class="sig-name descname">compare_data</code><span class="sig-paren">(</span><em class="sig-param">dst_client_machine</em>, <em class="sig-param">src_path</em>, <em class="sig-param">dst_path</em>, <em class="sig-param">compare_meta=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.compare_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.compare_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare metadata and md5sum for the source and destination path</p>
<dl>
<dt>Args:</dt><dd><p>dst_client_machine      (str)   – Destination client machine object for comparison</p>
<p>src_path                (str)   – Source data path</p>
<p>dst_path                (str)   – Restore data path</p>
<p>compare_meta            (str)   – By default do metadata comparison, otherwise skip</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.get_backup_stream_count">
<code class="sig-name descname">get_backup_stream_count</code><span class="sig-paren">(</span><em class="sig-param">job</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.get_backup_stream_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.get_backup_stream_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of streams used by a backup job</p>
<dl class="simple">
<dt>Args:</dt><dd><p>job    (object)  – job object of the backup job to be checked</p>
</dd>
<dt>Returns:</dt><dd><p>int   -   the number of streams used by a backup job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.get_restore_stream_count">
<code class="sig-name descname">get_restore_stream_count</code><span class="sig-paren">(</span><em class="sig-param">job</em>, <em class="sig-param">log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.get_restore_stream_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.get_restore_stream_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of streams used by a restore job</p>
<dl>
<dt>Args:</dt><dd><p>job    (object)  – job object of the restore job to be checked</p>
<dl class="simple">
<dt>log_dir  (str)  – path of the log directory</dt><dd><p>default:None</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>int   -   the number of streams used by a restore job</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurred while getting the restore stream count</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.restore">
<code class="sig-name descname">restore</code><span class="sig-paren">(</span><em class="sig-param">copy_precedence</em>, <em class="sig-param">src_path</em>, <em class="sig-param">inplace=True</em>, <em class="sig-param">dst_client=None</em>, <em class="sig-param">restore_path=None</em>, <em class="sig-param">no_of_streams=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore from last job</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>copy_precedence (str)       – Copy precedence</dt><dd><p>1 - snapcopy,
2 - primary copy</p>
</dd>
</dl>
<p>src_path        (str)       – source path for restore</p>
<dl class="simple">
<dt>inplace         (str)       – By default do inplace restore,</dt><dd><p>otherwise out of place restore</p>
</dd>
</dl>
<p>dst_client      (str)       – Destination client for cross client out of place restore</p>
<p>restore_path    (str)       – Restore path on destination client</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.setup_snap_environment">
<code class="sig-name descname">setup_snap_environment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.setup_snap_environment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.setup_snap_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup snap environment</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.snap_backup">
<code class="sig-name descname">snap_backup</code><span class="sig-paren">(</span><em class="sig-param">level</em>, <em class="sig-param">skip_data_creation=False</em>, <em class="sig-param">option=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.snap_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.snap_backup" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Generate test data and run snap backup</p>
</div></blockquote>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>level                 (backup_level)     – Following values are supported:</dt><dd><p>backup_level.Full
backup_level.INCREMENTAL
backup_level.SYNTHETICFULL</p>
</dd>
<dt>skip_data_creation   (bool)              – False if data need to be create</dt><dd><p>before running backup otherwise False.</p>
</dd>
</dl>
<p>option              (dict)               – advance option for snap backup.</p>
<blockquote>
<div><dl class="simple">
<dt>key:’inline_bkp_cpy’               Value: (bool) - To run backup copy</dt><dd><p>immediately</p>
</dd>
<dt>key:’skip_catalog’                 Value: (bool) - To run snap backup</dt><dd><p>with or without cataloging</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>job               (job object)        – job object of snap backup</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.snap_extent_template">
<code class="sig-name descname">snap_extent_template</code><span class="sig-paren">(</span><em class="sig-param">set_proxy_options=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.snap_extent_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.snap_extent_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Template to run extent test case for intellisnap</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>set_proxy_options      (bool)   –    True, if the proxy needed otherwise False.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.snap_operation">
<code class="sig-name descname">snap_operation</code><span class="sig-paren">(</span><em class="sig-param">job_id</em>, <em class="sig-param">operation</em>, <em class="sig-param">mount_client=None</em>, <em class="sig-param">mount_path=None</em>, <em class="sig-param">copy_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.snap_operation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.snap_operation" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform Snap Operations for given job id</p>
<blockquote>
<div><p>Args:</p>
<p>job_id          (str)      – Snapbackup Job ID</p>
<p>operation       (str)      – Following operations are allowed</p>
<blockquote>
<div><p>mount - mount snapshots</p>
<p>unmount - unmount snapshot</p>
<p>revert - perform hardware revert</p>
<p>delete - delete snapshot</p>
<p>force_delete - force delete snapshot</p>
</div></blockquote>
<p>copy_name       (str)       – Snapshot copy name</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.validate_filters">
<code class="sig-name descname">validate_filters</code><span class="sig-paren">(</span><em class="sig-param">unix_filters</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.validate_filters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.validate_filters" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.verify_collect_extents">
<code class="sig-name descname">verify_collect_extents</code><span class="sig-paren">(</span><em class="sig-param">source_list</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.verify_collect_extents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.verify_collect_extents" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify if all the extents are backed up for the source_list
Args:</p>
<blockquote>
<div><p>source_list        (list)       – Source list to compare it with collect file</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.verify_job_streams">
<code class="sig-name descname">verify_job_streams</code><span class="sig-paren">(</span><em class="sig-param">job</em>, <em class="sig-param">no_of_streams</em>, <em class="sig-param">streams_used</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.verify_job_streams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.verify_job_streams" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies if the job used expected number of streams</p>
<dl>
<dt>Args:</dt><dd><p>job (obj)                –  instance of the job class</p>
<blockquote>
<div><p>no_of_streams (int)      –  expected number of streams to be used</p>
<p>streams_used (int)       –  actual number of streams used</p>
</div></blockquote>
</dd>
<dt>Raises:</dt><dd><p>Exception - if the job didn’t use expected streams</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.verify_mount_unmount">
<code class="sig-name descname">verify_mount_unmount</code><span class="sig-paren">(</span><em class="sig-param">src_path</em>, <em class="sig-param">mount_client=None</em>, <em class="sig-param">mount_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.verify_mount_unmount"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.verify_mount_unmount" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify mount, Mount snapshot and compare with source. Unmount the snapshot</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>src_path        (str)       – Source path for comparison</p>
<dl class="simple">
<dt>dst_client      (str)       – Destination client if snap</dt><dd><p>to be mounted on another client</p>
</dd>
</dl>
<p>dst_mount_path  (str)       – Temoporary location for mountinf snapshot</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.verify_optimized_scan">
<code class="sig-name descname">verify_optimized_scan</code><span class="sig-paren">(</span><em class="sig-param">jobid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.verify_optimized_scan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.verify_optimized_scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify if DC was run for the job</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>jobid       (str)       – jobid of the required job</p>
</dd>
<dt>Returns</dt><dd><dl class="simple">
<dt>(bool)                  – return true if all the volume in subclient content has used optimized scan</dt><dd><p>else False</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.verify_restore">
<code class="sig-name descname">verify_restore</code><span class="sig-paren">(</span><em class="sig-param">dst_client_machine</em>, <em class="sig-param">src_path</em>, <em class="sig-param">dst_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.verify_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.verify_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify Restore by comparing restored data and source data</p>
</dd></dl>

<dl class="method">
<dt id="FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.verify_revert">
<code class="sig-name descname">verify_revert</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/FileSystem/SNAPUtils/unixsnaphelper.html#UnixSnapHelper.verify_revert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FileSystem.SNAPUtils.unixsnaphelper.UnixSnapHelper.verify_revert" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify hardware revert</p>
<p>Make a copy of source data</p>
<p>Perform hardware revert</p>
<p>Compare source data with copy</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-FileSystem.SNAPUtils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-FileSystem.SNAPUtils" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Commvault Systems Inc. All Rights Reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>