

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Server.JobManager package &mdash; Commvault Automation 11.24 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Commvault Automation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Server.JobManager package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-Server.JobManager.jobmanagement_helper">Server.JobManager.jobmanagement_helper module</a><ul>
<li><a class="reference internal" href="#jobmanagementhelper">JobManagementHelper</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Server.JobManager.jobmanagement_validator">Server.JobManager.jobmanagement_validator module</a></li>
<li><a class="reference internal" href="#module-Server.JobManager.jobmanager_constants">Server.JobManager.jobmanager_constants module</a></li>
<li><a class="reference internal" href="#module-Server.JobManager.jobmanager_helper">Server.JobManager.jobmanager_helper module</a></li>
<li><a class="reference internal" href="#module-Server.JobManager.rpo_constants">Server.JobManager.rpo_constants module</a></li>
<li><a class="reference internal" href="#module-Server.JobManager.rpo_helper">Server.JobManager.rpo_helper module</a></li>
<li><a class="reference internal" href="#module-Server.JobManager">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Commvault Automation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Server.JobManager package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/Server.JobManager.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="server-jobmanager-package">
<h1>Server.JobManager package<a class="headerlink" href="#server-jobmanager-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-Server.JobManager.jobmanagement_helper">
<span id="server-jobmanager-jobmanagement-helper-module"></span><h2>Server.JobManager.jobmanagement_helper module<a class="headerlink" href="#module-Server.JobManager.jobmanagement_helper" title="Permalink to this headline">¶</a></h2>
<p>Main file for performing Commcell -&gt; Control Panel -&gt; Job Management related operations.</p>
<p>JobManagementHelper: Class for performing Job Management operations</p>
<div class="section" id="jobmanagementhelper">
<h3>JobManagementHelper<a class="headerlink" href="#jobmanagementhelper" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>__init__(commcell_object)                                       –  initialise object of the JobManagement class</p>
<blockquote>
<div><p>refresh()                                                      –  refreshes the settings.</p>
<p>modify_general_settings(settings)                              –  sets the general settings of job management</p>
<p>modify_priority_settings(settings)                             –  sets the priority settings of job management</p>
<p>modify_restart_settings(settings)                              –  sets the restart settings of job management</p>
<p>modify_update_settings(settings)                               –  sets the update settings of job management</p>
<p>job_priority_precedence                                        –  gets the job priority precedence</p>
<p>job_priority_precedence(priority_type)                         –  sets the job priority precedence property</p>
<dl class="simple">
<dt>start_phase_retry_interval                                     –  gets the start phase retry interval in</dt><dd><p>(minutes)</p>
</dd>
</dl>
<p>start_phase_retry_interval(minutes)                            –  sets the start phase retry interval property</p>
<dl class="simple">
<dt>state_update_interval_for_continuous_data_replicator           –  gets the start phase retry interval in</dt><dd><p>(minutes)</p>
</dd>
<dt>state_update_interval_for_continuous_data_replicator           –  sets the state update interval for continuous</dt><dd><p>data replicator</p>
</dd>
<dt>allow_running_jobs_to_complete_past_operation_window           –  gets the allow running jobs to complete past</dt><dd><p>operation window(True/False)</p>
</dd>
<dt>allow_running_jobs_to_complete_past_operation_window(flag)     –  sets the allow running jobs to complete past</dt><dd><p>operation window</p>
</dd>
</dl>
<p>job_alive_check_interval_in_minutes                            –  gets the job alive check interval in (minutes)</p>
<p>job_alive_check_interval_in_minutes(minutes)                   –  sets the job alive check interval in minutes</p>
<p>queue_scheduled_jobs                                           –  gets the queue scheduled jobs</p>
<p>queue_scheduled_jobs(flags)                                    –  sets the queue scheduled jobs</p>
<p>enable_job_throttle_at_client_level                            –  gets the enable job throttle at client level</p>
<p>enable_job_throttle_at_client_level(flag)                      –  sets the enable job throttle at client level</p>
<p>enable_multiplexing_for_db_agents                              –  gets the enable multiplexing for db agents</p>
<p>enable_multiplexing_for_db_agents(flag)                        –  sets the enable multiplexing for db agents</p>
<p>queue_jobs_if_conflicting_jobs_active                          –  gets the queue jobs if conflicting jobs active</p>
<p>queue_jobs_if_conflicting_jobs_active(flag)                    –  sets the queue jobs if conflicting jobs active</p>
<p>queue_jobs_if_activity_disabled                                –  gets the queue jobs if activity disabled</p>
<p>queue_jobs_if_activity_disabled(flag)                          –  sets the queue jobs if activity disabled</p>
<p>backups_preempts_auxilary_copy                                 –  gets the backups preempts auxilary copy</p>
<p>backups_preempts_auxilary_copy(flag)                           –  sets the backups preempts auxilary copy</p>
<p>restore_preempts_other_jobs                                    –  gets the restore preempts other jobs</p>
<p>restore_preempts_other_jobs(flag)                              –  sets the restore preempts other jobs</p>
<p>enable_multiplexing_for_oracle                                 –  gets the enable multiplexing for oracle</p>
<p>enable_multiplexing_for_oracle(flag)                           –  sets the enable multiplexing for oracle</p>
<p>job_stream_high_water_mark_level                               –  gets the job stream high water mark level</p>
<p>job_stream_high_water_mark_level(level)                        –  sets the job stream high water mark level</p>
<p>backups_preempts_other_backups                                 –  gets the backups preempts other backups</p>
<p>backups_preempts_other_backups(flag)                           –  sets the backups preempts other backups</p>
<dl class="simple">
<dt>do_not_start_backups_on_disabled_client                        –  gets the do not start backups on disabled</dt><dd><p>client</p>
</dd>
<dt>do_not_start_backups_on_disabled_client(flag)                  –  sets the do not start backups on disabled</dt><dd><p>client</p>
</dd>
<dt>get_restart_setting(jobtype)                                   –  gets the restart settings of a specific</dt><dd><p>jobtype</p>
</dd>
<dt>get_priority_setting(jobtype)                                  –  gets the priority setting of a specific</dt><dd><p>jobtype</p>
</dd>
<dt>get_update_setting(jobtype)                                    –   gets the update settings of a specfic</dt><dd><p>jobtype</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
<dl class="py class">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper">
<em class="property">class </em><code class="sig-prename descclassname">Server.JobManager.jobmanagement_helper.</code><code class="sig-name descname">JobManagementHelper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">commcell_object</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_helper.html#JobManagementHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for performing job management operations.</p>
<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.allow_running_jobs_to_complete_past_operation_window">
<em class="property">property </em><code class="sig-name descname">allow_running_jobs_to_complete_past_operation_window</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.allow_running_jobs_to_complete_past_operation_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if option is enabled
else returns false</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.backups_preempts_auxilary_copy">
<em class="property">property </em><code class="sig-name descname">backups_preempts_auxilary_copy</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.backups_preempts_auxilary_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if option is enabled
else returns False</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.backups_preempts_other_backups">
<em class="property">property </em><code class="sig-name descname">backups_preempts_other_backups</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.backups_preempts_other_backups" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if option is enabled
else returns False</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.do_not_start_backups_on_disabled_client">
<em class="property">property </em><code class="sig-name descname">do_not_start_backups_on_disabled_client</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.do_not_start_backups_on_disabled_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if option is enabled
else returns False</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.enable_job_throttle_at_client_level">
<em class="property">property </em><code class="sig-name descname">enable_job_throttle_at_client_level</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.enable_job_throttle_at_client_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if option is enabled
else returns false</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.enable_multiplexing_for_db_agents">
<em class="property">property </em><code class="sig-name descname">enable_multiplexing_for_db_agents</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.enable_multiplexing_for_db_agents" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if option is enabled
else returns False</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.enable_multiplexing_for_oracle">
<em class="property">property </em><code class="sig-name descname">enable_multiplexing_for_oracle</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.enable_multiplexing_for_oracle" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if option is enabled
else returns False</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.get_priority_setting">
<code class="sig-name descname">get_priority_setting</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobtype</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_helper.html#JobManagementHelper.get_priority_setting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.get_priority_setting" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>priority settings associated to particular jobtype can be obtained</dt><dd><dl>
<dt>Args:</dt><dd><p>jobtype     (str)       –      settings of jobtype to get</p>
<p>Available jobtype</p>
<blockquote>
<div><p>“Information Management”
“Auxiliary Copy”
“Media Refresh”
“Data Verification”
“Persistent Recovery”
“Synth Full”</p>
<p>“Windows File System”
“Windows XP 64-bit File System”
“Windows 2003 32-bit File System”
“Windows 2003 64-bit File System”
“Active Directory”
“Windows File Archiver”
“File Share Archiver”
“Image Level”
“Exchange Mailbox (Classic)”
“Exchange Mailbox Archiver”
“Exchange Compliance Archiver”
“Exchange Public Folder”
“Exchange Database”
“SharePoint Database”
“SharePoint Server Database”
“SharePoint Document”
“SharePoint Server”
“Novell Directory Services”
“GroupWise DB”
“NDMP”
“Notes Document”
“Unix Notes Database”
“MAC FileSystem”
“Big Data Apps”
“Solaris File System”
“Solaris 64bit File System”
“FreeBSD”
“HP-UX File System”
“HP-UX 64bit File System”
“AIX File System”
“Unix Tru64 64-bit File System”
“Linux File System”
“Sybase Database”
“Oracle Database”
“Oracle RAC”
“Informix Database”
“DB2”
“DB2 on Unix”
“SAP for Oracle”
“SAP for MAX DB”
“ProxyHost on Unix”
“ProxyHost”
“Image Level On Unix”
“OSSV Plug-in on Windows”
“OSSV Plug-in on Unix”
“Unix File Archiver”
“SQL Server”
“Data Classification”
“OES File System on Linux”
“Centera”
“Exchange PF Archiver”
“Domino Mailbox Archiver”
“MS SharePoint Archiver”
“Content Indexing Agent”
“SRM Agent For Windows File Systems”
“SRM Agent For UNIX File Systems”
“DB2 MultiNode”
“MySQL”
“Virtual Server”
“SharePoint Search Connector”
“Object Link”
“PostgreSQL”
“Sybase IQ”
“External Data Connector”
“Documentum”
“Object Store”
“SAP HANA”
“Cloud Apps”
“Exchange Mailbox”</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><dl>
<dt>dict        –          settings of a specific jobtype</dt><dd><dl class="simple">
<dt>{</dt><dd><p>“jobTypeName”: “Information Management”,
“combinedPriority”: 0,
“type_of_operation”: 1</p>
</dd>
</dl>
<p>}</p>
<p>or</p>
<dl class="simple">
<dt>{</dt><dd><p>“appTypeName”: “Windows File System”,
“combinedPriority”: 6,
“type_of_operation”: 2</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>None        –          if not found.</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>SDKException:</dt><dd><p>if input is not valid type</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.get_restart_setting">
<code class="sig-name descname">get_restart_setting</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobtype</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_helper.html#JobManagementHelper.get_restart_setting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.get_restart_setting" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>restart settings associated to particular jobtype can be obtained</dt><dd><dl>
<dt>Args:</dt><dd><p>jobtype     (str)       –      settings of the jobtype to get</p>
<p>Available jobtypes:</p>
<blockquote>
<div><p>“Disaster Recovery backup”
“Auxiliary Copy”
“Data Aging”
“Download/Copy Updates”
“Offline Content Indexing”
“Information Management”
“File System and Indexing Based (Data Protection)”
“File System and Indexing Based (Data Recovery)”
“Exchange DB (Data Protection)”
“Exchange DB (Data Recovery)”
“Informix DB (Data Protection)”
“Informix DB (Data Recovery)”
“Lotus Notes DB (Data Protection)”
“Lotus Notes DB (Data Recovery)”
“Oracle DB (Data Protection)”
“Oracle DB (Data Recovery)”
“SQL DB (Data Protection)”
“SQL DB (Data Recovery)”
“MYSQL (Data Protection)”</p>
</div></blockquote>
</dd>
</dl>
</dd>
<dt>`               “MYSQL (Data Recovery)”</dt><dd><blockquote>
<div><p>“Sybase DB (Data Protection)”
“Sybase DB (Data Recovery)”
“DB2 (Data Protection)”
“DB2 (Data Recovery)”
“CDR (Data Management)”
“Media Refresh”
“Documentum (Data Protection)”
“Documentum (Data Recovery)”
“SAP for Oracle (Data Protection)”
“SAP for Oracle (Data Recovery)”
“PostgreSQL (Data Protection)”
“PostgreSQL (Data Recovery)”
“Other (Data Protection)”
“Other (Data Recovery)”
“Workflow”
“DeDup DB Reconstruction”
“CommCell Migration Export”
“CommCell Migration Import”
“Install Software”
“Uninstall Software”
“Data Verification”
“Big Data Apps (Data Protection)”
“Big Data Apps (Data Recovery)”
“Cloud Apps (Data Protection)”
“Cloud Apps (Data Recovery)”
“Virtual Server (Data Protection)”
“Virtual Server (Data Recovery)”
“SAP for Hana (Data Protection)”
“SAP for Hana (Data Recovery)”</p>
</div></blockquote>
<dl>
<dt>Returns:</dt><dd><dl>
<dt>dict          –        settings of the specific job type as follows</dt><dd><dl class="simple">
<dt>{</dt><dd><p>“jobTypeName”: “File System and Indexing Based (Data Protection)”,
“restartable”: true,
“maxRestarts”: 10,
“restartIntervalInMinutes”: 20,
“enableTotalRunningTime”: false,
“totalRunningTime”: 25200,
“killRunningJobWhenTotalRunningTimeExpires”: false,
“preemptable”: true,</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>None        –          if not found.</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>SDKException:</dt><dd><p>if input is not valid type</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.get_update_setting">
<code class="sig-name descname">get_update_setting</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobtype</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_helper.html#JobManagementHelper.get_update_setting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.get_update_setting" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>update settings associated to particular jobtype can be obtained</dt><dd><dl>
<dt>Args:</dt><dd><p>jobtype     (str)       –      settings of jobtype to get</p>
<p>Available jobtype</p>
<blockquote>
<div><p>Check get_priority_setting(self, jobtype) method documentation.</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><dl>
<dt>dict        -           settings of a jobtype</dt><dd><dl class="simple">
<dt>{</dt><dd><p>“appTypeName”: “Windows File System”,
“recoveryTimeInMinutes”: 20,
“protectionTimeInMinutes”: 20</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>None        –          if not found.</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>SDKException:</dt><dd><p>if input is not valid type</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.job_alive_check_interval_in_minutes">
<em class="property">property </em><code class="sig-name descname">job_alive_check_interval_in_minutes</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.job_alive_check_interval_in_minutes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>gets the job alive check interval in (minutes)</dt><dd><dl class="simple">
<dt>Returns:</dt><dd><p>(int)       –      interval in minutes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.job_priority_precedence">
<em class="property">property </em><code class="sig-name descname">job_priority_precedence</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.job_priority_precedence" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>gets the job priority precedence</dt><dd><dl class="simple">
<dt>Returns:</dt><dd><p>(str)  –   type of job priority precedence is set.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.job_stream_high_water_mark_level">
<em class="property">property </em><code class="sig-name descname">job_stream_high_water_mark_level</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.job_stream_high_water_mark_level" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the job stream high water mark level</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.modify_general_settings">
<code class="sig-name descname">modify_general_settings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">settings</span></em>, <em class="sig-param"><span class="n">validation</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_helper.html#JobManagementHelper.modify_general_settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.modify_general_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>sets general settings of job management and verifies whether the settings have been applied successfully
or not.</p>
<dl>
<dt>NOTE<span class="classifier">Dedicated setters and getters have been provided for modifying general settings.</span></dt><dd><dl>
<dt>Args:</dt><dd><dl>
<dt>settings (dict)  –       Following key/value pairs can be set.</dt><dd><dl class="simple">
<dt>{</dt><dd><p>“allowRunningJobsToCompletePastOperationWindow”: False,
“jobAliveCheckIntervalInMinutes”: 5,
“queueScheduledJobs”: False,
“enableJobThrottleAtClientLevel”: False,
“enableMultiplexingForDBAgents”: False,
“queueJobsIfConflictingJobsActive”: False,
“queueJobsIfActivityDisabled”: False,
“backupsPreemptsAuxilaryCopy”: False,
“restorePreemptsOtherJobs”: False,
“enableMultiplexingForOracle”: False,
“jobStreamHighWaterMarkLevel”: 500,
“backupsPreemptsOtherBackups”: False,
“doNotStartBackupsOnDisabledClient”: False</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>validation  (bool)  –    whether the validation of settings to be done or not after modifications.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.modify_priority_settings">
<code class="sig-name descname">modify_priority_settings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">settings</span></em>, <em class="sig-param"><span class="n">validation</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_helper.html#JobManagementHelper.modify_priority_settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.modify_priority_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>sets priority settings for jobs and agents type and verifies whether the settings have been applied
successfully or not.</p>
<dl>
<dt>NOTE<span class="classifier">Use getter to get the settings of particular type and then you can use modify functionality with ease.</span></dt><dd><dl>
<dt>Args:</dt><dd><dl>
<dt>settings  (list)    –  list of dictionaries with following format.</dt><dd><blockquote>
<div><dl>
<dt>[</dt><dd><dl class="simple">
<dt>{</dt><dd><p>“type_of_operation”: 1,
“combinedPriority”: 10,
“jobTypeName”: “Information Management”</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>“type_of_operation”: 2,
“combinedPriority”: 10,
“appTypeName”: “Windows File System”</p>
</div></blockquote>
<p>},
{
“type_of_operation”: 1,
“combinedPriority”: 10,
“jobTypeName”: “Auxiliary Copy”</p>
<blockquote>
<div><p>}</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>]</p>
</dd>
</dl>
<p>validation  (bool)  –    whether the validation of settings to be done or not after modifications.</p>
</dd>
<dt>NOTE<span class="classifier">for setting, priority for jobtype the ‘type_of_operation’ must be set to 1 and name of the job type</span></dt><dd><p>must be specified as below format.</p>
<blockquote>
<div><p>“jobTypeName”: “Information Management”</p>
</div></blockquote>
</dd>
<dt>NOTE<span class="classifier">for setting, priority for agent type the ‘type_of_operation’ must be set to 2 and name of the</span></dt><dd><p>job type must be specified as below format</p>
<blockquote>
<div><p>“appTypeName”: “Windows File System”</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.modify_restart_settings">
<code class="sig-name descname">modify_restart_settings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">settings</span></em>, <em class="sig-param"><span class="n">validation</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_helper.html#JobManagementHelper.modify_restart_settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.modify_restart_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>sets restart settings for jobs.</p>
<dl>
<dt>NOTE<span class="classifier">Use getter to get the settings of particular type and then you can use modify functionality with ease.</span></dt><dd><dl>
<dt>Args:</dt><dd><blockquote>
<div><dl>
<dt>settings    (list)      –  list of dictionaries with following format</dt><dd><dl>
<dt>[</dt><dd><dl class="simple">
<dt>{</dt><dd><p>“killRunningJobWhenTotalRunningTimeExpires”: False,
“maxRestarts”: 10,
“enableTotalRunningTime”: False,
“restartable”: False,
“jobTypeName”: “File System and Indexing Based (Data Protection)”,
“restartIntervalInMinutes”: 20,
“preemptable”: True,
“totalRunningTime”: 21600,
“jobType”: 6</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>“killRunningJobWhenTotalRunningTimeExpires”: False,
“maxRestarts”: 144,
“enableTotalRunningTime”: False,
“restartable”: False,
“jobTypeName”: “File System and Indexing Based (Data Recovery)”,
“restartIntervalInMinutes”: 20,
“preemptable”: False,
“totalRunningTime”: 21600,
“jobType”: 7</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>validation  (bool)  –    whether the validation of settings to be done or not after modifications</dt><dd><p>validation is true by default</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.modify_update_settings">
<code class="sig-name descname">modify_update_settings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">settings</span></em>, <em class="sig-param"><span class="n">validation</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_helper.html#JobManagementHelper.modify_update_settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.modify_update_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>sets update settings for jobs</p>
<dl>
<dt>NOTE<span class="classifier">Use getter to get the settings of particular type and then you can use modify functionality with ease.</span></dt><dd><dl>
<dt>Args:</dt><dd><dl>
<dt>settings    (list)      –      list of dictionaries with following format</dt><dd><dl>
<dt>[</dt><dd><dl class="simple">
<dt>{</dt><dd><p>“appTypeName”: “Windows File System”,
“recoveryTimeInMinutes”: 20,
“protectionTimeInMinutes”: 20</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>“appTypeName”: “Windows XP 64-bit File System”,
“recoveryTimeInMinutes”: 20,
“protectionTimeInMinutes”: 20,</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<p>]</p>
</dd>
<dt>validation  (bool)  –    whether the validation of settings to be done or not after modifications,</dt><dd><p>validation is true by default</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.queue_jobs_if_activity_disabled">
<em class="property">property </em><code class="sig-name descname">queue_jobs_if_activity_disabled</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.queue_jobs_if_activity_disabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if option is enabled
else returns False</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.queue_jobs_if_conflicting_jobs_active">
<em class="property">property </em><code class="sig-name descname">queue_jobs_if_conflicting_jobs_active</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.queue_jobs_if_conflicting_jobs_active" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if option is enabled
else returns false</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.queue_scheduled_jobs">
<em class="property">property </em><code class="sig-name descname">queue_scheduled_jobs</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.queue_scheduled_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if option is enabled
else returns false</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.refresh">
<code class="sig-name descname">refresh</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_helper.html#JobManagementHelper.refresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>refreshs the settings</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.restore_preempts_other_jobs">
<em class="property">property </em><code class="sig-name descname">restore_preempts_other_jobs</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.restore_preempts_other_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if option is enabled
else returns False</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.start_phase_retry_interval">
<em class="property">property </em><code class="sig-name descname">start_phase_retry_interval</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.start_phase_retry_interval" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>gets the start phase retry interval in (minutes)</dt><dd><dl class="simple">
<dt>Returns:</dt><dd><p>(int)      –      interval in minutes.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_helper.JobManagementHelper.state_update_interval_for_continuous_data_replicator">
<em class="property">property </em><code class="sig-name descname">state_update_interval_for_continuous_data_replicator</code><a class="headerlink" href="#Server.JobManager.jobmanagement_helper.JobManagementHelper.state_update_interval_for_continuous_data_replicator" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>gets the state update interval for continuous data replicator in (minutes)</dt><dd><dl class="simple">
<dt>Returns:</dt><dd><p>(int)      –      interval in minutes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-Server.JobManager.jobmanagement_validator">
<span id="server-jobmanager-jobmanagement-validator-module"></span><h2>Server.JobManager.jobmanagement_validator module<a class="headerlink" href="#module-Server.JobManager.jobmanagement_validator" title="Permalink to this headline">¶</a></h2>
<p>Main file for performing job management settings validations.</p>
<p>JobManagementValidator is the only class defined in this file</p>
<dl>
<dt>JobManagementValidator:</dt><dd><dl class="simple">
<dt>__init__(test_object)                                –          initialize instance of the JobManagementValidator</dt><dd><p>class.</p>
</dd>
<dt>_entities_setup()                                    –          creates disklibrary and storage policy</dt><dd><p>entities.</p>
</dd>
</dl>
<p>_create_pre_scan_script()                            –          creates pre scan script on the client</p>
<p>create_subclient()                                   –          creates required number of subclients</p>
<p>validate_job_preemption()                            –          validates job preemption feature.</p>
<p>_job_via_schedule()                                  –          triggers a job via schedule.</p>
<p>_job_via_schedule_policy()                           –          triggers a job via schedule policy.</p>
<p>validate()                                           –          entry point for validations</p>
<p>validate_job_max_restarts()                          –          validates job max restarts feature.</p>
<dl class="simple">
<dt>validate_job_total_running_time_pending_scenario()   –          validates total running time scenario 1</dt><dd><p>(pending -&gt; failed)</p>
</dd>
<dt>validate_job_total_running_time_killed_scenario()    –          validates total running time scenario 2</dt><dd><p>(kill job after total time expires)</p>
</dd>
</dl>
<p>validate_high_watermark_level()                      –          validates high water mark level feature</p>
<dl class="simple">
<dt>validate_queue_jobs_if_conflicting_job_active()      –          validates queue jobs if conflicting job</dt><dd><p>active feature.</p>
</dd>
</dl>
<p>validate_queue_job_if_activity_is_disable()          –          validates queue job if activity is disable</p>
<p>validate_queue_schedule_jobs()                       –          validates queue schedule jobs feature</p>
</dd>
</dl>
<dl class="py class">
<dt id="Server.JobManager.jobmanagement_validator.JobManagementValidator">
<em class="property">class </em><code class="sig-prename descclassname">Server.JobManager.jobmanagement_validator.</code><code class="sig-name descname">JobManagementValidator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">test_object</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_validator.html#JobManagementValidator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_validator.JobManagementValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>JobManagementValidator helper class to perform job management validations</p>
<dl class="py method">
<dt id="Server.JobManager.jobmanagement_validator.JobManagementValidator.create_subclient">
<code class="sig-name descname">create_subclient</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">no_subclients</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_validator.html#JobManagementValidator.create_subclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_validator.JobManagementValidator.create_subclient" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates number of subclients based on the parameter no_subclients</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>no_subclients  (int)           –          number of subclients to be created</p>
</dd>
<dt>Returns:</dt><dd><p>(list)                          –          properties of a created subclients</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_validator.JobManagementValidator.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_validator.html#JobManagementValidator.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_validator.JobManagementValidator.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Entry point for feature validations</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>features        (list)      –      list of features to be validated.</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Returns :</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_high_watermark_level">
<code class="sig-name descname">validate_high_watermark_level</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">subclient_properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_validator.html#JobManagementValidator.validate_high_watermark_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_high_watermark_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates high water mark level feature</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>subclient_properties        (dict)      –      dict obtained from CVEntities.create()</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>when validation of the feature fails</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>Description of the faeture:</p>
<blockquote>
<div><p>say high watermark level = 6
maximum 5 jobs should be running, 6th job should in waiting state</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_job_max_restarts">
<code class="sig-name descname">validate_job_max_restarts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">subclient_properties</span></em>, <em class="sig-param"><span class="n">entitiy_level</span></em>, <em class="sig-param"><span class="n">trigger</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_validator.html#JobManagementValidator.validate_job_max_restarts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_job_max_restarts" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates job max restarts feature</p>
<blockquote>
<div><p>Description of the feature:
say max restarts = 2
job should be resumed or restarted as per max restarts
after exhaustive attempts or max restarts job should be failed</p>
<dl>
<dt>Args:</dt><dd><p>subclient_properties    (dict)  –      dict obtained from CVEntities.create()</p>
<p>entitiy_level           (str)   –      at which level feature need to be validated</p>
<blockquote>
<div><p>Values:</p>
<blockquote>
<div><p>“commcell”
“subclient”</p>
</div></blockquote>
</div></blockquote>
<p>trigger                 (str)   –      in what way job must should be triggered</p>
<blockquote>
<div><p>Values:</p>
<blockquote>
<div><p>“ondemand”
“schedule”
“schedule_policy”</p>
</div></blockquote>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>when validation of the feature fails</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_job_preemption">
<code class="sig-name descname">validate_job_preemption</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">subclient_properties</span></em>, <em class="sig-param"><span class="n">action</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_validator.html#JobManagementValidator.validate_job_preemption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_job_preemption" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates job preemption feature at commcell level</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>subclient_properties    (dict)      –      dict obtained from CVEntities.create()</p>
<p>action                  (bool)      –       enable/disable of feature to be validated</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>when validation of the feature fails.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Validates below cases:</dt><dd><p>Disable preemption : Job should not be suspended.
Enable preemption : Job should get suspended</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_job_total_running_time_killed_scenario">
<code class="sig-name descname">validate_job_total_running_time_killed_scenario</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">subclient_properties</span></em>, <em class="sig-param"><span class="n">entitiy_level</span></em>, <em class="sig-param"><span class="n">trigger</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_validator.html#JobManagementValidator.validate_job_total_running_time_killed_scenario"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_job_total_running_time_killed_scenario" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates job total running time feature(scenario 2)</p>
<blockquote>
<div><blockquote>
<div><p>Description of the scenario 2:</p>
</div></blockquote>
<p>say total running time = 5 minutes
if killRunningJobWhenTotalRunningTimeExpires is enabled : running job should be killed after time expires.</p>
<dl>
<dt>Args:</dt><dd><p>subclient_properties    (dict)  –      dict obtained from CVEntities.create()</p>
<p>entitiy_level           (str)   –      at which level feature need to be validated</p>
<blockquote>
<div><p>Values:</p>
<blockquote>
<div><p>“commcell”
“subclient”</p>
</div></blockquote>
</div></blockquote>
<p>trigger                 (str)   –      in what way job must should be triggered</p>
<blockquote>
<div><p>Values:</p>
<blockquote>
<div><p>“ondemand”
“schedule”
“schedule_policy”</p>
</div></blockquote>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>when validation of the feature fails</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_job_total_running_time_pending_scenario">
<code class="sig-name descname">validate_job_total_running_time_pending_scenario</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">subclient_properties</span></em>, <em class="sig-param"><span class="n">entitiy_level</span></em>, <em class="sig-param"><span class="n">trigger</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_validator.html#JobManagementValidator.validate_job_total_running_time_pending_scenario"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_job_total_running_time_pending_scenario" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates job total running time feature(scenario 1)</p>
<blockquote>
<div><p>Description of the scenario 1:</p>
<p>say total running time = 5 minutes
scenario 1: after 5 minutes if the job is in pending or waiting state then the job should be failed</p>
<dl>
<dt>Args:</dt><dd><p>subclient_properties    (dict)  –      dict obtained from CVEntities.create()</p>
<p>entitiy_level           (str)   –      at which level feature need to be validated</p>
<blockquote>
<div><p>Values:</p>
<blockquote>
<div><p>“commcell”
“subclient”</p>
</div></blockquote>
</div></blockquote>
<p>trigger                 (str)   –      in what way job must be triggered</p>
<blockquote>
<div><p>Values:</p>
<blockquote>
<div><p>“ondemand”
“schedule”
“schedule_policy”</p>
</div></blockquote>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>when validation of the feature fails</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_queue_job_if_activity_is_disable">
<code class="sig-name descname">validate_queue_job_if_activity_is_disable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entity_object</span></em>, <em class="sig-param"><span class="n">subclient_properties</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_validator.html#JobManagementValidator.validate_queue_job_if_activity_is_disable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_queue_job_if_activity_is_disable" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates queue job if activity is disable at various levels</p>
<blockquote>
<div><p>Args:</p>
<blockquote>
<div><p>entity_object       (obj)       –      Instance of the any level</p>
<blockquote>
<div><dl class="simple">
<dt>values:</dt><dd><p>Commcell
Client
Agent
Subclient</p>
</dd>
</dl>
</div></blockquote>
<p>subclient_properties        (dict)      –      dict obtained from CVEntities.create()</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>when validation of the feature fails</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>Description of the feature:</p>
<blockquote>
<div><p>entity_object : commcell, client, agent, subclient
Based on the entity object, backup and restore will be disabled correspondingly and
feature will be validated.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_queue_jobs_if_conflicting_job_active">
<code class="sig-name descname">validate_queue_jobs_if_conflicting_job_active</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">subclient_properties</span></em>, <em class="sig-param"><span class="n">action</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_validator.html#JobManagementValidator.validate_queue_jobs_if_conflicting_job_active"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_queue_jobs_if_conflicting_job_active" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates Queue jobs if conflicting job active feature at commcell level</p>
<blockquote>
<div><blockquote>
<div><p>Args:</p>
<blockquote>
<div><p>subclient_properties        (dict)      –      dict obtained from CVEntities.create()</p>
<p>action                  (bool)      –       enable/disable of feature to be validated</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>when validation of the feature fails</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>Description of the feature:</p>
<blockquote>
<div><p>run two backup jobs on same subclient, second backup job should be in queued state</p>
</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_queue_schedule_jobs">
<code class="sig-name descname">validate_queue_schedule_jobs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">subclient_properties</span></em>, <em class="sig-param"><span class="n">action</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanagement_validator.html#JobManagementValidator.validate_queue_schedule_jobs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanagement_validator.JobManagementValidator.validate_queue_schedule_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates queue schedule jobs</p>
<blockquote>
<div><p>Args:</p>
<blockquote>
<div><p>subclient_properties        (dict)     –       dict obtained from CVEntities.create()</p>
<p>action                  (bool)      –       enable/disable of feature to be validated</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>when validation of the feature fails.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Description of the feature:</dt><dd><p>validates whether the scheduled job is getting queued or not.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Server.JobManager.jobmanager_constants">
<span id="server-jobmanager-jobmanager-constants-module"></span><h2>Server.JobManager.jobmanager_constants module<a class="headerlink" href="#module-Server.JobManager.jobmanager_constants" title="Permalink to this headline">¶</a></h2>
<p>Helper file to maintain all the constants used by JobManager test cases</p>
<dl class="py data">
<dt id="Server.JobManager.jobmanager_constants.JOB_MAP">
<code class="sig-prename descclassname">Server.JobManager.jobmanager_constants.</code><code class="sig-name descname">JOB_MAP</code><em class="property"> = {'kill': {'message': 'Killing', 'module': 'kill', 'module_all': 'kill_all_jobs', 'post_message': 'Killed', 'status': 'killed'}, 'resume': {'message': 'Resuming', 'module': 'resume', 'module_all': 'resume_all_jobs', 'post_message': 'Resumed', 'status': 'running'}, 'suspend': {'message': 'Suspending', 'module': 'pause', 'module_all': 'suspend_all_jobs', 'post_message': 'Suspended', 'status': 'suspended'}}</em><a class="headerlink" href="#Server.JobManager.jobmanager_constants.JOB_MAP" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping for various module calls and message strings for corresponding job operations.</p>
</dd></dl>

<dl class="py data">
<dt id="Server.JobManager.jobmanager_constants.JOB_STATUS">
<code class="sig-prename descclassname">Server.JobManager.jobmanager_constants.</code><code class="sig-name descname">JOB_STATUS</code><em class="property"> = {'client': {'backup': 'Data Management activity on Client [{0}] is disabled', 'restore': 'Data Recovery activity on Client [{0}] is disabled'}, 'ida': {'backup': 'Backup activity for [{0}] on Client [{1}] is disabled', 'restore': 'Restore activity for [{0}] on Client [{1}] is disabled'}, 'subclient': {'backup': 'Backup activity for subclient [{0}] on Client [{1}] and iDataAgent [{2}] is disabled'}}</em><a class="headerlink" href="#Server.JobManager.jobmanager_constants.JOB_STATUS" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping for various entities with corresponding operations.</p>
</dd></dl>

</div>
<div class="section" id="module-Server.JobManager.jobmanager_helper">
<span id="server-jobmanager-jobmanager-helper-module"></span><h2>Server.JobManager.jobmanager_helper module<a class="headerlink" href="#module-Server.JobManager.jobmanager_helper" title="Permalink to this headline">¶</a></h2>
<p>Main file for performing job operations on Commcell</p>
<p>JobManager is the only class defined in this file</p>
<dl>
<dt>JobManager:</dt><dd><p>__init__(job, commcell)             –  initialize instance of the JobManager class</p>
<dl class="simple">
<dt>__repr__()                          –  Representation string for the instance of the</dt><dd><p>JobManager class</p>
</dd>
</dl>
<p>wait_for_state()                    –  Waits for the job to go into required state</p>
<p>wait_for_phase()                    –  Waits for the job to come to the required phase</p>
<p>modify_job()                        –  Suspend, Resume OR kill a job</p>
<p>modify_all_jobs()                   –  Suspend, Resume OR Kill all jobs running on Commserver</p>
<p>kill_active_jobs()                  –  Kills any active jobs for a given client.</p>
<dl class="simple">
<dt>validate_job_state()                –  Validate if the current job state and expected status</dt><dd><p>matches</p>
</dd>
<dt>get_filtered_jobs()                 –  Gets job list for all the jobs matching a specific</dt><dd><p>filtering criterion and waits for these jobs to be
completed based on the argument flag.</p>
</dd>
<dt>check_job_status                    –  Check Job status for Backup and restore Jobs</dt><dd><p>when activity is disabled</p>
</dd>
</dl>
<p>get_active_job_object()             –  Gives the first active job object that is running</p>
<dl class="simple">
<dt>&#64;property</dt><dd><p>job    – Sets/Gets job object</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py class">
<dt id="Server.JobManager.jobmanager_helper.JobManager">
<em class="property">class </em><code class="sig-prename descclassname">Server.JobManager.jobmanager_helper.</code><code class="sig-name descname">JobManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">_job</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">commcell</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanager_helper.html#JobManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanager_helper.JobManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>JobManager helper class to perform job related operations</p>
<dl class="py method">
<dt id="Server.JobManager.jobmanager_helper.JobManager.check_job_status">
<code class="sig-name descname">check_job_status</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">host_name</span></em>, <em class="sig-param"><span class="n">subclient_obj</span></em>, <em class="sig-param"><span class="n">_name</span></em>, <em class="sig-param"><span class="n">entity_name</span><span class="o">=</span><span class="default_value">'client'</span></em>, <em class="sig-param"><span class="n">backup</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">client_1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanager_helper.html#JobManager.check_job_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanager_helper.JobManager.check_job_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Check Job status for Backup and restore Jobs when activity is disabled.</p>
<dl>
<dt>Args:</dt><dd><p>host_name (str)           –  client hostname</p>
<p>subclient_obj(object)     –  client object</p>
<p>_name(str)                – client/IDA/Subclinet objects name</p>
<p>entity_name(str)          – client/IDA/Subclient</p>
<p>backup(flag)              –  True if backup, False if restore</p>
<p>client_1(flag)            –  True if it is client1, False if client2</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if job status and delay reason is not correct</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanager_helper.JobManager.get_active_job_object">
<code class="sig-name descname">get_active_job_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">client_name</span></em>, <em class="sig-param"><span class="n">time_limit</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">retry_interval</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanager_helper.html#JobManager.get_active_job_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanager_helper.JobManager.get_active_job_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Gives the first active job object that is running
args:
client_name : {str} client name on which to check the active job list</p>
<p>returns
job_obj (list)  : returns the first active job object</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanager_helper.JobManager.get_filtered_jobs">
<code class="sig-name descname">get_filtered_jobs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">client</span></em>, <em class="sig-param"><span class="n">current_state</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">expected_state</span><span class="o">=</span><span class="default_value">'completed'</span></em>, <em class="sig-param"><span class="n">lookup_time</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">job_filter</span><span class="o">=</span><span class="default_value">'backup'</span></em>, <em class="sig-param"><span class="n">hardcheck</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">time_limit</span><span class="o">=</span><span class="default_value">30</span></em>, <em class="sig-param"><span class="n">retry_interval</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">backup_level</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanager_helper.html#JobManager.get_filtered_jobs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanager_helper.JobManager.get_filtered_jobs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Gets job list for all the jobs matching a specific filtering criterion and waits</dt><dd><p>for these jobs to be completed (based on expected_state flag)</p>
</dd>
</dl>
<p>Args:</p>
<blockquote>
<div><p>client_name     (str)   –  name of the client to filter out the jobs for</p>
<dl>
<dt>current_state   (str/list)</dt><dd><dl class="simple">
<dt>–  Expected current state of the jobs being fetched.</dt><dd><dl class="simple">
<dt>default: All jobs matching the filtering criterion</dt><dd><p>and current status as running</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>current_state and expected_state go hand in hand.</dt><dd><dl class="simple">
<dt>Basically we are looking for active jobs to match current_state and then wait</dt><dd><p>for job to reach expected_state</p>
</dd>
</dl>
</dd>
<dt>expected_state  (list/str)</dt><dd><dl>
<dt>–  Wait for the jobs to reach any of the required state</dt><dd><p>default: None
By default just return all the jobs and do not
wait. If provided then wait for all jobs to wait
for a certain state.</p>
<dl class="simple">
<dt>Options:</dt><dd><p>‘completed’
‘failed’
‘suspended’
‘waiting’
‘pending’</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>lookup_time     (int)   –  get all the jobs executed within the number of hours</dt><dd><p>default: 5 Hours</p>
</dd>
<dt>job_filter      (str)   –  type of jobs to filter</dt><dd><p>for multiple filters, give the values
<strong>comma(,)</strong> separated</p>
<dl class="simple">
<dt>List of Possible Values:</dt><dd><p>Backup
Restore
AUXCOPY
WORKFLOW
etc..</p>
</dd>
</dl>
<p>default: Backup</p>
</dd>
<dt>hardcheck       (bool)   – If true, will throw exception in case of failed</dt><dd><blockquote>
<div><p>client validation.</p>
</div></blockquote>
<p>If false, will return False if validation fails</p>
</dd>
<dt>retry_interval  (int)    – Interval (in seconds) after which job state</dt><dd><p>will be checked in a loop. Default = 10</p>
</dd>
<dt>time_limit      (int)    – Time limit after which job status check shall be</dt><dd><dl class="simple">
<dt>aborted if the job does not reach the desired</dt><dd><p>state. Default (in minutes) = 30</p>
</dd>
</dl>
</dd>
<dt>backup_level    (str)    – The level of backup.</dt><dd><p>Valid values are Full, Incremental, Differential, Synthetic Full</p>
</dd>
</dl>
<p>kwargs          (dict)  –  dict of key-word arguments</p>
<p>Available kwargs Options:</p>
<blockquote>
<div><dl class="simple">
<dt>limit           (int)   –  total number of jobs list that are to be returned</dt><dd><p>default: 20</p>
</dd>
<dt>show_aged_job   (bool)  –  boolean specifying whether to include aged jobs in</dt><dd><p>the result or not
default: False</p>
</dd>
<dt>clients_list    (list)  –  list of clients to return the jobs for</dt><dd><p>default: []</p>
</dd>
<dt>job_type_list   (list)  –  list of job operation types</dt><dd><p>default: []</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><dl class="simple">
<dt>(bool, dict/list)    – Tuple of boolean value based on module return value</dt><dd><p>and job dictionary or list based on filtered criterion</p>
</dd>
</dl>
</dd>
<dt>Raises</dt><dd><dl class="simple">
<dt>Exception</dt><dd><ul class="simple">
<li><p>if Invalid argument passed.</p></li>
<li><p>Time out waiting to get valid jobs to meet filtered criterion</p></li>
<li><p>Failed during module execution</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanager_helper.JobManager.job">
<em class="property">property </em><code class="sig-name descname">job</code><a class="headerlink" href="#Server.JobManager.jobmanager_helper.JobManager.job" title="Permalink to this definition">¶</a></dt>
<dd><p>Treats the job object as a read-only attribute.</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanager_helper.JobManager.kill_active_jobs">
<code class="sig-name descname">kill_active_jobs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">client</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanager_helper.html#JobManager.kill_active_jobs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanager_helper.JobManager.kill_active_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Kills any active jobs on the client</p>
<dl class="simple">
<dt>Args:</dt><dd><p>client        (str)    – Client name</p>
</dd>
<dt>Returns:</dt><dd><p>True - IF no such client exist on commcell</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception if :</dt><dd><ul class="simple">
<li><p>Failed to kill the active jobs</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanager_helper.JobManager.modify_all_jobs">
<code class="sig-name descname">modify_all_jobs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">operation_type</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanager_helper.html#JobManager.modify_all_jobs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanager_helper.JobManager.modify_all_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Suspend, Resume OR Kill all jobs running on Commserver</p>
<dl>
<dt>Args:</dt><dd><dl>
<dt>operation_type        (str)    – All jobs on commcell will be changed to this</dt><dd><p>state.
Options:</p>
<blockquote>
<div><p>suspend/resume/kill</p>
</div></blockquote>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception if :</p>
<blockquote>
<div><ul class="simple">
<li><p>Unsupported operation_type passed to the module</p></li>
<li><p>failed during execution of module</p></li>
</ul>
</div></blockquote>
</dd>
<dt>Example:</dt><dd><p>job_manager = JobManager(job, self._commcell)</p>
<p>job_manager.modify_all_jobs(‘suspend’)</p>
<p>job_manager.modify_all_jobs(‘resume’)</p>
<p>job_manager.modify_all_jobs(‘kill’)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanager_helper.JobManager.modify_job">
<code class="sig-name descname">modify_job</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">set_status</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">wait_for_state</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">hardcheck</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanager_helper.html#JobManager.modify_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanager_helper.JobManager.modify_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Suspend, Resume OR kill a job</p>
<dl>
<dt>Args:</dt><dd><dl>
<dt>set_status        (str)    – job id state. Default = None</dt><dd><p>Job state will be changed to this state.
Options:</p>
<blockquote>
<div><p>suspend/resume/kill</p>
</div></blockquote>
</dd>
<dt>wait_for_state    (int)    – True/False: Whether to wait for the job to go in the</dt><dd><p>required state or not.</p>
</dd>
<dt>hardcheck         (bool)   – If True, function will exception out in case the job</dt><dd><blockquote>
<div><p>does not reaches the desired state.</p>
</div></blockquote>
<p>If False, function will return with non-truthy value</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>True/False        (bool)   – In case job reaches/does not reaches the desired</dt><dd><p>state.</p>
</dd>
</dl>
</dd>
<dt>Raises:</dt><dd><p>Exception if :</p>
<blockquote>
<div><ul class="simple">
<li><p>Unsupported job state passed to the module</p></li>
<li><p>failed during execution of module</p></li>
</ul>
</div></blockquote>
</dd>
<dt>Example:</dt><dd><p>job_manager = JobManager(job, self._commcell)</p>
<p>job_manager.modify_job(‘suspend’)</p>
<p>job_manager.modify_job(‘resume’)</p>
<p>job_manager.modify_job(‘kill’)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanager_helper.JobManager.validate_job_state">
<code class="sig-name descname">validate_job_state</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">expected_state</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanager_helper.html#JobManager.validate_job_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanager_helper.JobManager.validate_job_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate if the current job state and expected status matches</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>expected_state    (str/list)    – Expected job id state.</dt><dd><p>suspended/killed/running/completed etc..
Can be a list or string with job states</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><p>Exception if :</p>
<blockquote>
<div><ul class="simple">
<li><p>Expected job state (expected_state) is not equal to current job state</p></li>
<li><p>failed during execution of module</p></li>
</ul>
</div></blockquote>
</dd>
<dt>Example:</dt><dd><p>validate_job_state(‘running’)</p>
<p>validate_job_state(‘suspended’)</p>
<p>validate_job_state(‘running’)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanager_helper.JobManager.wait_for_phase">
<code class="sig-name descname">wait_for_phase</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">phase</span><span class="o">=</span><span class="default_value">'backup'</span></em>, <em class="sig-param"><span class="n">total_attempts</span><span class="o">=</span><span class="default_value">50</span></em>, <em class="sig-param"><span class="n">check_frequency</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanager_helper.html#JobManager.wait_for_phase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanager_helper.JobManager.wait_for_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for the job to come to the required phase</p>
<dl>
<dt>Args:</dt><dd><p>phase               (str)   –  The phase of the job to wait for</p>
<p>total_attempts      (int)   –  Total attempts to check the job phase</p>
<p>check_frequency     (int)   –  The interval in secs between every check for phase</p>
</dd>
<dt>Returns:</dt><dd><p>None    –      If job comes to the expected phase</p>
</dd>
<dt>Raises:</dt><dd><p>If the job is already finished or attempts got exhausted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.jobmanager_helper.JobManager.wait_for_state">
<code class="sig-name descname">wait_for_state</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">expected_state</span><span class="o">=</span><span class="default_value">'completed'</span></em>, <em class="sig-param"><span class="n">retry_interval</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">time_limit</span><span class="o">=</span><span class="default_value">75</span></em>, <em class="sig-param"><span class="n">hardcheck</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/jobmanager_helper.html#JobManager.wait_for_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.jobmanager_helper.JobManager.wait_for_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for the job to go into required state</p>
<dl>
<dt>Args:</dt><dd><dl>
<dt>expected_state    (str/list)</dt><dd><dl class="simple">
<dt>– Expected job id state. Default = completed.</dt><dd><p>suspended/killed/running/completed etc..
Can be a string OR list of job states
e.g
completed
[‘waiting’, ‘running’]</p>
</dd>
</dl>
</dd>
<dt>retry_interval    (int)    – Interval (in seconds) after which job state</dt><dd><p>will be checked in a loop. Default = 10</p>
</dd>
<dt>time_limit        (int)    – Time limit after which job status check shall be</dt><dd><dl class="simple">
<dt>aborted if the job does not reach the desired</dt><dd><p>state. Default (in minutes) = 30</p>
</dd>
</dl>
</dd>
<dt>hardcheck         (bool)   – If True, function will exception out in case the job</dt><dd><blockquote>
<div><p>does not reaches the desired state.</p>
</div></blockquote>
<p>If False, function will return with non-truthy value</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>True/False        (bool)   – In case job reaches/does not reaches the desired</dt><dd><p>state.</p>
</dd>
</dl>
</dd>
<dt>Raises:</dt><dd><p>Exception if :</p>
<blockquote>
<div><ul class="simple">
<li><p>failed during execution of module</p></li>
</ul>
</div></blockquote>
</dd>
<dt>Example:</dt><dd><p>job_manager = JobManager(job, self._commcell)</p>
<p>job_manager.wait_for_state([‘waiting’, ‘running’])</p>
<p>job_manager.wait_for_state(‘suspended’)</p>
<p>job_manager.wait_for_state(‘running’)</p>
<p>job_manager.wait_for_state(‘completed’)</p>
<p>job_manager.wait_for_state(‘killed’)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Server.JobManager.rpo_constants">
<span id="server-jobmanager-rpo-constants-module"></span><h2>Server.JobManager.rpo_constants module<a class="headerlink" href="#module-Server.JobManager.rpo_constants" title="Permalink to this headline">¶</a></h2>
<p>Any constant values related to the RPO feature should go into this file.</p>
</div>
<div class="section" id="module-Server.JobManager.rpo_helper">
<span id="server-jobmanager-rpo-helper-module"></span><h2>Server.JobManager.rpo_helper module<a class="headerlink" href="#module-Server.JobManager.rpo_helper" title="Permalink to this headline">¶</a></h2>
<p>File for performing common operations required to verify RPO driven backup</p>
<p>RpoHelper and RPOBasedSubclient are 2 classes defined in this file.</p>
<p>RpoHelper: Class for providing common functions to validate RPO driven backup</p>
<dl>
<dt>RPOBasedSubclient: Class for maintaining common Job attributes and methods for RPO driven</dt><dd><p>subclients</p>
</dd>
<dt>RpoHelper:</dt><dd><dl class="simple">
<dt>__init__()                    –  Initialize instance of the RpoHelper class by</dt><dd><p>creating necessary entities for subclient creation</p>
</dd>
<dt>create_pre_scan_script()      –  creates pre scan script required by subclient</dt><dd><p>pre/post processing</p>
</dd>
</dl>
<p>stop_ma_services()            –  stops media agent service on current media agent client</p>
<p>start_ma_services()           –  starts media agent service on current media agent client</p>
<dl class="simple">
<dt>collect_job_rpo_details()     –  parse Job manager debug logs and collect Job details</dt><dd><p>require to verify RPO</p>
</dd>
</dl>
<p>validate_rpo_schedule()       –  validates the resource priority order</p>
<p>validate_rsc_alloc_order()    – creates necessary setup and validates RPO based Job priority</p>
</dd>
<dt>RPOBasedSubclient:</dt><dd><dl class="simple">
<dt>__init__()                    –  Initialize instance of the RPOBasedSubclient class by</dt><dd><p>creating subclient</p>
</dd>
<dt>force_strike_count()          –  achieves the desired strike count for subclient by</dt><dd><p>forcing the Job to fail</p>
</dd>
<dt>cleanup()                     –  perform the necessary cleanup operations for</dt><dd><p>RPOBasedSubclient</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py class">
<dt id="Server.JobManager.rpo_helper.RPOBasedSubclient">
<em class="property">class </em><code class="sig-prename descclassname">Server.JobManager.rpo_helper.</code><code class="sig-name descname">RPOBasedSubclient</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rpo_helper_obj</span></em>, <em class="sig-param"><span class="n">subclient_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/rpo_helper.html#RPOBasedSubclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.rpo_helper.RPOBasedSubclient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for common RPO related operations performed on subclient</p>
<dl class="py method">
<dt id="Server.JobManager.rpo_helper.RPOBasedSubclient.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/rpo_helper.html#RPOBasedSubclient.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.rpo_helper.RPOBasedSubclient.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>perform the necessary cleanup operations</p>
<p>Args:</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any cleanup operation fails</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.rpo_helper.RPOBasedSubclient.force_estimated_runtime">
<code class="sig-name descname">force_estimated_runtime</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_backups</span></em>, <em class="sig-param"><span class="n">file_size</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/rpo_helper.html#RPOBasedSubclient.force_estimated_runtime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.rpo_helper.RPOBasedSubclient.force_estimated_runtime" title="Permalink to this definition">¶</a></dt>
<dd><p>achieves the desired estimated Job run time by backing up the data for n number of
times</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>num_backups    (int)   –  number of backups to be run to compute estimated Job</dt><dd><p>run time</p>
</dd>
<dt>file_size      (int)   –  file size in bytes. higher file size greater the estimated</dt><dd><p>Job run time</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurs in achieving estimated Job run time</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.rpo_helper.RPOBasedSubclient.force_strike_count">
<code class="sig-name descname">force_strike_count</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">strike_count</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/rpo_helper.html#RPOBasedSubclient.force_strike_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.rpo_helper.RPOBasedSubclient.force_strike_count" title="Permalink to this definition">¶</a></dt>
<dd><p>achieves the desired strike count for subclient by forcing the Job to fail</p>
<dl class="simple">
<dt>Args:</dt><dd><p>strike_count    (int)   –  strike count to be achieved</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurs in creating pre scan script or running backup Jobs</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="Server.JobManager.rpo_helper.RpoHelper">
<em class="property">class </em><code class="sig-prename descclassname">Server.JobManager.rpo_helper.</code><code class="sig-name descname">RpoHelper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">commcell</span></em>, <em class="sig-param"><span class="n">commcell_client</span></em>, <em class="sig-param"><span class="n">media_agent</span></em>, <em class="sig-param"><span class="n">storage_policy</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/rpo_helper.html#RpoHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.rpo_helper.RpoHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for performing all common functions related to JM RPO feature</p>
<dl class="py method">
<dt id="Server.JobManager.rpo_helper.RpoHelper.collect_job_rpo_details">
<code class="sig-name descname">collect_job_rpo_details</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rpo_scobj</span></em>, <em class="sig-param"><span class="n">job_id</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/rpo_helper.html#RpoHelper.collect_job_rpo_details"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.rpo_helper.RpoHelper.collect_job_rpo_details" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>parsed Job manager debug logs and set details such as strike count,</dt><dd><p>estimated run time and resource allocation timestamp for given instance of
RPOBasedSubclient class</p>
</dd>
<dt>Args:</dt><dd><p>rpo_scobj    (obj)   –  Instance of RPOBasedSubclient class</p>
<p>job_id       (int)  –   job id for which rpo details to be collected</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if expected pattern is not found Job manager log</p>
</dd>
</dl>
</dd>
</dl>
<p>Expected Job manager log info:
“7928  1784  09/24 14:46:50 23677 Scheduler  Processing Job Type [1] with OpType [4],
Priority [166], IsAllocatedFlag [0], JobStartTime [1537780542], StoragePolicy [12],
MediaMounted [0], ResourceWaitTime [1537780549], StrikeCount [0], EstimatedJobRuntime [0]”</p>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.rpo_helper.RpoHelper.create_pre_scan_script">
<code class="sig-name descname">create_pre_scan_script</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pre_scan_script</span></em>, <em class="sig-param"><span class="n">content</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/rpo_helper.html#RpoHelper.create_pre_scan_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.rpo_helper.RpoHelper.create_pre_scan_script" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>creates pre scan script required by subclient pre/post processing</dt><dd><p>with content passed.</p>
</dd>
<dt>Args:</dt><dd><p>pre_scan_script   (str)   –  path of file to be created</p>
<p>content           (str)   –  content that is to be written to file</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception(Exception_Code, Exception_Message):</dt><dd><p>if failed to create file</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.rpo_helper.RpoHelper.start_ma_services">
<code class="sig-name descname">start_ma_services</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/rpo_helper.html#RpoHelper.start_ma_services"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.rpo_helper.RpoHelper.start_ma_services" title="Permalink to this definition">¶</a></dt>
<dd><p>starts media agent service on current media agent client</p>
<p>Args:</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception(Exception_Code, Exception_Message):</dt><dd><p>if failed to start media agent service</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.rpo_helper.RpoHelper.stop_ma_services">
<code class="sig-name descname">stop_ma_services</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/rpo_helper.html#RpoHelper.stop_ma_services"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.rpo_helper.RpoHelper.stop_ma_services" title="Permalink to this definition">¶</a></dt>
<dd><p>stops media agent service on current media agent client</p>
<p>Args:</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception(Exception_Code, Exception_Message):</dt><dd><p>if failed to stop media agent service</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.rpo_helper.RpoHelper.validate_rpo_schedule">
<code class="sig-name descname">validate_rpo_schedule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sc_details</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/rpo_helper.html#RpoHelper.validate_rpo_schedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.rpo_helper.RpoHelper.validate_rpo_schedule" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>validates the resource allocation order based on strikecount and estimated completion</dt><dd><p>time.</p>
</dd>
<dt>Args:</dt><dd><p>sc_details    (list)   –  list of subclient details</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if resource allocation for the Jobs are not as expected
if strike count and estimated Job completion time are same</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.rpo_helper.RpoHelper.validate_rsc_alloc_order">
<code class="sig-name descname">validate_rsc_alloc_order</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rpo_subclients</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/rpo_helper.html#RpoHelper.validate_rsc_alloc_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.rpo_helper.RpoHelper.validate_rsc_alloc_order" title="Permalink to this definition">¶</a></dt>
<dd><p>creates necessary setup and validates resource priority order
It does following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>stops media agent services on media agent client</p></li>
<li><p>creates backup Job for each RPO subclient object and wait for it go
to waiting state(reason: resource not available)</p></li>
<li><p>set Job Manager debug log level to 5</p></li>
<li><p>starts media agent services on media agent client</p></li>
<li><p>for each Job, it will wait for Job to complete or running state and
collect necessary information such as strike count and
estimated Job completion time from JM log file</p></li>
<li><p>It verifies the order of resource allocation for the given subclients
based on strike count and estimated Job completion time</p></li>
<li><p>reset Job Manager debug log level to 1</p></li>
</ol>
</div></blockquote>
<dl class="simple">
<dt>Args:</dt><dd><p>rpo_subclients    (list)   –  list of subclient names to be used to create subclients</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception:</dt><dd><p>if any error occurs in the validation</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Server.JobManager.rpo_helper.RpoHelper.verify_rpo_is_enabled">
<code class="sig-name descname">verify_rpo_is_enabled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Server/JobManager/rpo_helper.html#RpoHelper.verify_rpo_is_enabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Server.JobManager.rpo_helper.RpoHelper.verify_rpo_is_enabled" title="Permalink to this definition">¶</a></dt>
<dd><p>verifies if RPO feature is enabled by parsing JM log</p>
<p>Args:</p>
<dl>
<dt>Returns:</dt><dd><p>None</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt>Exception(Exception_Code, Exception_Message):</dt><dd><p>if failed to find the expected string in log message</p>
</dd>
</dl>
<p>Sample output:
15144 18a8  11/02 14:58:40 ### Service    bEnableDynamicPriorityForJobs reg /
key is set to [1]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Server.JobManager">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-Server.JobManager" title="Permalink to this headline">¶</a></h2>
<p>Initializes the Job Manager utilities for job manager related operations</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Commvault Systems Inc. All Rights Reserved

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>