
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Automation.FileSystem.FSUtils package &#8212; Commvault Automation 11.14 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Automation.FileSystem.SNAPUtils package" href="Automation.FileSystem.SNAPUtils.html" />
    <link rel="prev" title="Automation.FileSystem package" href="Automation.FileSystem.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="automation-filesystem-fsutils-package">
<h1>Automation.FileSystem.FSUtils package<a class="headerlink" href="#automation-filesystem-fsutils-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-Automation.FileSystem.FSUtils.fshelper">
<span id="automation-filesystem-fsutils-fshelper-module"></span><h2>Automation.FileSystem.FSUtils.fshelper module<a class="headerlink" href="#module-Automation.FileSystem.FSUtils.fshelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing File System operations</p>
<p>ScanType , IndexEnabled, CommitCondition and FSHelper are 4 classes defined in this file.</p>
<p>ScanType: Enum constants for all the scan types currently supported for file system subclients</p>
<p>IndexEnabled: With Blocklevel we check Meta Data Collection on or not.</p>
<p>CommitCondition: Enum constants for all supported commit conditions.</p>
<p>FSHelper: Helper class to perform file system operations</p>
<dl class="docutils">
<dt>FSHelper:</dt>
<dd><p class="first">__init__()                        –  initializes file system helper object</p>
<p>create_backupset()                –  creates new backupset</p>
<p>create_instance()                 –  creates new instance for filesystem big data apps</p>
<p>create_subclient()                –  creates new subclient</p>
<p>update_subclient()                –  updates properties of existing subclient</p>
<p>run_backup()                      –  Run backup on the testcase subclient</p>
<p>find_items_subclient()            –  Find items by browse
on the testcase subclient</p>
<p>compare_lists()                   –  Compare source and destination
list and find differennces</p>
<p>restore_in_place()                –  Run in place restore</p>
<p>restore_out_of_place()            –  Run out of place restore</p>
<p>run_backup_verify()               –  Initiates backup and
performs the applicable verifications</p>
<p>run_restore_verify()              –  Initiates restore for data
backed up in the given job and performs the applicable verifications</p>
<p>run_find_verify()                 –  Finds items backed up in the given job
and compares it with items from machine</p>
<p>add_new_data_incr()               –  Adds new data for incremental
with provisions for modification after this function execution,
call mod_data_incr for modifications</p>
<p>mod_data_incr()                   –  Modifies the data added by add_new_data_incr
call add_new_data_incr before calling this.</p>
<p>check_pseudo_client()             –  Checks for the existence of pseudo-client on CS
for Usercentric laptop clients</p>
<p>check_scheduled_backup()          –  Checks for the status of the scheduled backup job of
pseudo-client for Usercentric laptop clients</p>
<p>pseudo_client_cleanup()           –  Removes pseudo-client from CS for Usercentric
laptop clients</p>
<p>get_subclient_content()           –  Generates the subclient content list</p>
<p>volume_level_restore()            –  To perform blocklevel volume level restore on client</p>
<p>backup_copy()                     –  Run backup copy from Subclient level</p>
<p>validate_trueup()                 –  Checks if trueup ran or not;
based on conditional variable it also checks
if trueup picked up files for backup.</p>
<p>run_systemstate_backup()          –  Checks for the system state property and runs a backup</p>
<p>commit_job()                      –  Commits the backup job if the threshold condition is met or exceeded.</p>
<p>parse_restart_string()            –  Parses a backup job restart string and
prepares a dictionary of collect file ID to offset value.</p>
<p>create_expected_commit_files()    –  Prepares the expected committed files for the committed backup job.</p>
<p>get_actual_commit_files()         –  Retrieves the actual commit files that were generated by scan.</p>
<p class="last">validate_commit_files()           –  Function checks whether the commit collect file and
commit dirchange file were created correctly.</p>
</dd>
</dl>
<dl class="class">
<dt id="Automation.FileSystem.FSUtils.fshelper.CommitCondition">
<em class="property">class </em><code class="descclassname">Automation.FileSystem.FSUtils.fshelper.</code><code class="descname">CommitCondition</code><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#CommitCondition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.CommitCondition" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>Constants for all supported commit conditions</p>
<dl class="attribute">
<dt id="Automation.FileSystem.FSUtils.fshelper.CommitCondition.FILES">
<code class="descname">FILES</code><em class="property"> = 1</em><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.CommitCondition.FILES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="Automation.FileSystem.FSUtils.fshelper.CommitCondition.SECONDS">
<code class="descname">SECONDS</code><em class="property"> = 2</em><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.CommitCondition.SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper">
<em class="property">class </em><code class="descclassname">Automation.FileSystem.FSUtils.fshelper.</code><code class="descname">FSHelper</code><span class="sig-paren">(</span><em>testcase</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper class to perform file system operations</p>
<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.add_new_data_incr">
<code class="descname">add_new_data_incr</code><span class="sig-paren">(</span><em>incr_path</em>, <em>slash_format</em>, <em>scan_type=&lt;ScanType.RECURSIVE: 1&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.add_new_data_incr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.add_new_data_incr" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds new data for incremental with provisions for modification
after this function execution call mod_data_incr for modifications</p>
<p>Args:</p>
<blockquote>
<div><p>incr_path       (str)              – path for adding data</p>
<p>slash_format    (str)              – OS path separator format</p>
<dl class="docutils">
<dt>scan_type       (ScanType(Enum))   – scan type(RECURSIVE/OPTIMIZED/CHANGEJOURNAL)</dt>
<dd>default: ScanType.RECURSIVE</dd>
</dl>
<p>kwargs (dict)                    – dictionary of optional arguments
Available kwargs Options:</p>
<blockquote>
<div><dl class="docutils">
<dt>dirs                (int)   –  number of directories in each level</dt>
<dd>default: 3</dd>
<dt>files               (int)   –  number of files in each directory</dt>
<dd>default: 5</dd>
<dt>file_size           (int)   –  Size of the files in KB</dt>
<dd>default: 20</dd>
<dt>levels              (int)   –  number of levels to be created</dt>
<dd>default: 1</dd>
<dt>hlinks              (bool)  –  whether to create hardlink files</dt>
<dd>default: True</dd>
<dt>slinks              (bool)  –  whether to create symbolic link files</dt>
<dd>default: True</dd>
<dt>sparse              (bool)  –  whether to create sparse files</dt>
<dd>default: True</dd>
<dt>sparse_hole_size    (int)   –  Size of the holes in sparse files in KB</dt>
<dd>default: 1024</dd>
<dt>options             (str)   –  to specify any other additional parameters</dt>
<dd>default: “”</dd>
</dl>
</div></blockquote>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception - Any error occurred while</dt>
<dd>populating the data.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.backup_copy">
<code class="descname">backup_copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.backup_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.backup_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs Offline backup copy for the given storage policy</p>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.check_pseudo_client">
<code class="descname">check_pseudo_client</code><span class="sig-paren">(</span><em>pseudo_client_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.check_pseudo_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.check_pseudo_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if pseudo-client is created on CS for a usercentric
laptop client and check if it belongs to
‘Usercentric clients’ client group.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>pseudo_client_name  (str) - Name of the pseudo-client</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception - If pseudo-client doesn’t exist</dt>
<dd>If pseudo-client does not belong to “Usercentric clients” client group</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.check_scheduled_backup">
<code class="descname">check_scheduled_backup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.check_scheduled_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.check_scheduled_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>To check if, for a user-centric laptop client, scheduled
backup was launched on the pseudo-client and
whether it was successful</p>
<dl class="docutils">
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception - If retreiving Job ID fails</dt>
<dd>If first backup job was not scheduled
If the scheduled job did not complete successfully</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.commit_job">
<code class="descname">commit_job</code><span class="sig-paren">(</span><em>job</em>, <em>threshold</em>, <em>commit_condition</em>, <em>timeout=300</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.commit_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.commit_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the backup job if the threshold condition is met or exceeded.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">job                 (object)                –  Instance of Job object, the job that has to be committed.</p>
<p>threshold           (int)                   –  Threshold value for the condition
based on which job will be committed.</p>
<dl class="docutils">
<dt>commit_condition    (CommitCondition(Enum)) –  Commit condition can take one of the following values.</dt>
<dd><ul class="first last simple">
<li>FILES</li>
<li>SECONDS</li>
</ul>
</dd>
</dl>
<p>timeout             (int)                   –  Specifies how long we must wait (in seconds)
for the job to be committed before we give up.</p>
<blockquote class="last">
<div>default:    300</div></blockquote>
</dd>
<dt>Example:</dt>
<dd>job_1 = self.helper.run_backup(backup_level=”Full”, wait_to_complete=False)
self.helper.commit_job(job_1[0], 3, CommitCondition.FILES)</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd>Exception:
Any error occurred while trying to commit the job.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.compare_lists">
<code class="descname">compare_lists</code><span class="sig-paren">(</span><em>source_list</em>, <em>destination_list</em>, <em>sort_list=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.compare_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.compare_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the source list with destination list
and checks if they are same.</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">source_list      (list)</p>
<p>destination_list (list)</p>
<p>sort_list        (bool)    – Indicates whether the list
should be sorted before comparison</p>
<blockquote class="last">
<div>default: False</div></blockquote>
</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>bool   -   Returns True if lists are same or returns False</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>if any error occurred while comparing the lists.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.create_backupset">
<code class="descname">create_backupset</code><span class="sig-paren">(</span><em>name</em>, <em>delete=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.create_backupset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.create_backupset" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Creates new backupset with specified parameters</dt>
<dd>under the current testcase Instance.</dd>
</dl>
<p>Checks if the backupset exists or not.
If the backupset exists, deletes the existing backupset
and creates new one with the testcase id.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">name   (str)  – name of the backupset</p>
<dl class="last docutils">
<dt>delete (bool) – indicates whether existing backupset should be deleted</dt>
<dd>default: False</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd>Exception - Any error occured during backupset creation</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.create_expected_commit_files">
<code class="descname">create_expected_commit_files</code><span class="sig-paren">(</span><em>committed_job</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.create_expected_commit_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.create_expected_commit_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the expected committed files for the committed backup job.
These files will be compared with the actual collect files that are prepared by scan.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>committed_job   (object)    –  Instance of Job, of the committed job.</dd>
<dt>Returns:</dt>
<dd>dict -   Returns a dictionary of lists containing entries in the commit collect and commit dirchange.</dd>
<dt>Raises:</dt>
<dd>None</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.create_instance">
<code class="descname">create_instance</code><span class="sig-paren">(</span><em>name</em>, <em>delete=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.create_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.create_instance" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Creates new Instance with specified parameters</dt>
<dd>under the current Client.</dd>
</dl>
<p>Checks if the Instance exists or not.
If the Instance exists, deletes the existing Instance
and creates new one with the testcase id.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">name   (str)  – name of the Instance</p>
<dl class="last docutils">
<dt>delete (bool) – indicates whether existing Instance should be deleted</dt>
<dd>default: False</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd>Exception - Any error occured during Instance creation</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.create_subclient">
<code class="descname">create_subclient</code><span class="sig-paren">(</span><em>name</em>, <em>storage_policy</em>, <em>content</em>, <em>filter_content=None</em>, <em>exception_content=None</em>, <em>trueup_option=True</em>, <em>trueup_days=30</em>, <em>scan_type=&lt;ScanType.RECURSIVE: 1&gt;</em>, <em>data_readers=2</em>, <em>allow_multiple_readers=False</em>, <em>read_buffer_size=512</em>, <em>block_level_backup=None</em>, <em>delete=False</em>, <em>data_access_nodes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.create_subclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.create_subclient" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates subclient under current testcase backupset
with specified parameters</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">name (str)                       – subclient name</p>
<p>storage_policy (str)             – storage policy to assign to subclient</p>
<p>content (list)                   – content list</p>
<dl class="last docutils">
<dt>filter_content (list)            – filter list</dt>
<dd>default: None</dd>
<dt>exception_conent (list)          – exception list</dt>
<dd>default: None</dd>
<dt>trueup_option (bool)             – enable / disable true up</dt>
<dd>default: True</dd>
<dt>trueup_days (int)                – trueup after n days value of the subclient</dt>
<dd>default: 30</dd>
<dt>data_readers (int)               – number of data readers</dt>
<dd>default: 2</dd>
<dt>allow_multiple_readers (bool)    – enable / disable allow multiple readers</dt>
<dd>default: False</dd>
<dt>read_buffer_size (int)           – read buffer size in KB</dt>
<dd>default: 512</dd>
<dt>delete (bool)                    – indicates whether existing subclient should be deleted</dt>
<dd>default: False</dd>
<dt>scan_type(ScanType(Enum))        –  scan type (RECURSIVE/OPTIMIZED/CHANGEJOURNAL)</dt>
<dd>default: ScanType.RECURSIVE</dd>
<dt>data_access_nodes(list)          – Data Access nodes for NFS share or big data apps</dt>
<dd>default : None</dd>
<dt>block_level_backup (str)         – blocklevel backup data switch</dt>
<dd>default: None</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd>Exception - Any error occurred during Subclient creation</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.find_items_subclient">
<code class="descname">find_items_subclient</code><span class="sig-paren">(</span><em>path='\\**\\*'</em>, <em>filters=None</em>, <em>from_time=None</em>, <em>to_time=None</em>, <em>copy_precedence=0</em>, <em>media_agent=''</em>, <em>page_size=100000</em>, <em>sorted_output=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.find_items_subclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.find_items_subclient" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches a file/folder in the subclient backup content,
and returns all the files matching the filters given.</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>path   (str)          –  directory path to get the items list</dt>
<dd>default: ‘***’</dd>
<dt>filters (list)        – list of filters</dt>
<dd>to exclude from the given path</dd>
<dt>from_time (int)       –  time to find the contents after</dt>
<dd>format: timestamp
default: None</dd>
<dt>to_time (int)         –  time to find the contents before</dt>
<dd>format: timestamp
default: None</dd>
<dt>copy_precedence (int) – copy precedence for the find operation</dt>
<dd>default: 0</dd>
<dt>media_agent (str)     – mediaagent to be used for the find operation</dt>
<dd>default: ‘’</dd>
<dt>page_size (int)       – page size for the find</dt>
<dd>default: 100000</dd>
<dt>sorted_output (bool)  – to specify whether the list should be sorted.</dt>
<dd>default : True</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>list    -   list of the items</dt>
<dd>from the find operation on the subclient</dd>
<dt>dict    -   Dictionary of all the paths</dt>
<dd>with additional metadata retrieved from browse</dd>
</dl>
</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>if any error occurred while doing the find operation.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.get_actual_commit_files">
<code class="descname">get_actual_commit_files</code><span class="sig-paren">(</span><em>committed_job</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.get_actual_commit_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.get_actual_commit_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the actual commit files generated by scan.
These files will be compared with the expected collect files that we created based on the restart string.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>committed_job   (object)    –  Instance of Job, of the committed job.</dd>
<dt>Returns:</dt>
<dd>dict -   Returns a dictionary of lists containing entries in the commit collect and commit dirchange.</dd>
<dt>Raises:</dt>
<dd>None</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.get_subclient_content">
<code class="descname">get_subclient_content</code><span class="sig-paren">(</span><em>test_path</em>, <em>slash_format</em>, <em>subclient_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.get_subclient_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.get_subclient_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the subclient content list.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">test_path (str) : The testpath provided for the test case</p>
<p>slash_format (str) : The slash format for the platform</p>
<p class="last">subclient_name (str) : The name of the subcllient for which data is generated.</p>
</dd>
<dt>Returns:</dt>
<dd>list : list of subclient contents for this test case</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.mod_data_incr">
<code class="descname">mod_data_incr</code><span class="sig-paren">(</span><em>scan_type=&lt;ScanType.RECURSIVE: 1&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.mod_data_incr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.mod_data_incr" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies the data added by add_new_data_incr
call add_new_data_incr before calling this.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>scan_type(ScanType(Enum))   – scan type(RECURSIVE/OPTIMIZED/CHANGEJOURNAL)</dt>
<dd>default: ScanType.RECURSIVE</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd>Exception - Any error occurred while modifying the data.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.parse_backup_restart_string">
<code class="descname">parse_backup_restart_string</code><span class="sig-paren">(</span><em>job</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.parse_backup_restart_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.parse_backup_restart_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the restart map file and fetches the restart string from JM
to prepare a dictionary of collect file ID to offset value.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>job  (object)   –  Instance of Job object, the job for which a restart string has to be parsed.</dd>
<dt>Returns:</dt>
<dd>dict -   Returns a dictionary of collect file ID to offset value.</dd>
<dt>Raises:</dt>
<dd>None</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.populate_tc_inputs">
<em class="property">static </em><code class="descname">populate_tc_inputs</code><span class="sig-paren">(</span><em>cv_testcase</em>, <em>mandatory=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.populate_tc_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.populate_tc_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes all the test case inputs after validation</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>cv_testcase    (obj)    –    Object of CVTestCase
mandatory      (bool)   –    whether to check for mandatory inputs
and raise exception if not found</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>if a valid CVTestCase object is not passed.
if CVTestCase object doesn’t have agent initialized</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.pseudo_client_cleanup">
<code class="descname">pseudo_client_cleanup</code><span class="sig-paren">(</span><em>pseudo_client_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.pseudo_client_cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.pseudo_client_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>To clean up pseudo-client from CS for
usercentric laptop client.</p>
<dl class="docutils">
<dt>Raises:</dt>
<dd>Exception - if pseudo-client could not be removed</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.restore_in_place">
<code class="descname">restore_in_place</code><span class="sig-paren">(</span><em>paths</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.restore_in_place"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.restore_in_place" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the files/folders specified
in the input paths list to the same location.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">paths     (list)  –  list of full paths of files/folders to restore</p>
<p>Kwargs:
Keyword argument of restore options:</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>Example:</dt>
<dd><p class="first">{</p>
<dl class="docutils">
<dt>overwrite                (bool)  – unconditional overwrite files</dt>
<dd>default: True</dd>
</dl>
<p>restore_data_and_acl     (bool)  – restore data and ACL files</p>
<blockquote>
<div>default: True</div></blockquote>
<dl class="docutils">
<dt>copy_precedence          (int)   – copy precedence value</dt>
<dd>default: None</dd>
<dt>from_time                (str)   – time from(restore the contents after)</dt>
<dd><p class="first">format: YYYY-MM-DD HH:MM:SS</p>
<p class="last">default: None</p>
</dd>
<dt>to_time                  (str)   – time to(restore the contents before)</dt>
<dd><p class="first">format: YYYY-MM-DD HH:MM:SS</p>
<p class="last">default: None</p>
</dd>
<dt>restoreDataInsteadOfStub (bool)  – to restore data instead of stub</dt>
<dd>default: True</dd>
<dt>restoreOnlyStubExists    (bool)  – to restore data only if stub exists</dt>
<dd>default: False</dd>
<dt>overwriteFiles           (bool)  – to overwrite if data on media is newer</dt>
<dd>default: True</dd>
<dt>doNotOverwriteFileOnDisk (bool)  – to not overwrite files on disk</dt>
<dd>default: False</dd>
</dl>
<p>disableStubRestore       (bool)  – will not allow stub restore
in case dangle stub existed</p>
<blockquote>
<div>default True</div></blockquote>
<p>_schedule_pattern        (dict)  – schedule create job option</p>
<blockquote>
<div>default :None</div></blockquote>
<p class="last">}</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd>object - instance of the Job class for this restore job</dd>
<dt>Raises:</dt>
<dd>Exception - Any error occurred while running restore
or restore didn’t complete successfully.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.restore_out_of_place">
<code class="descname">restore_out_of_place</code><span class="sig-paren">(</span><em>destination_path</em>, <em>paths</em>, <em>client=None</em>, <em>overwrite=True</em>, <em>restore_data_and_acl=True</em>, <em>restore_ACL=True</em>, <em>copy_precedence=None</em>, <em>from_time=None</em>, <em>to_time=None</em>, <em>preserve_level=1</em>, <em>proxy_client=None</em>, <em>impersonate_user=None</em>, <em>impersonate_password=None</em>, <em>is_vlr_restore=False</em>, <em>is_client_big_data_apps=None</em>, <em>destination_instance=None</em>, <em>no_of_streams=1</em>, <em>restore_nodes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.restore_out_of_place"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.restore_out_of_place" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the files/folders specified
in the input paths list to the input client,
at the specified destionation location.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first docutils">
<dt>client                (str/object) –  either the name or the instance of Client</dt>
<dd>default: None</dd>
</dl>
<p>destination_path      (str)        –  full path of the restore location on client</p>
<p>paths                 (list)       –  list of full paths of
files/folders to restore</p>
<dl class="docutils">
<dt>overwrite             (bool)       –  unconditional overwrite files during restore</dt>
<dd>default: True</dd>
<dt>restore_data_and_acl  (bool)       –  restore data and ACL of files</dt>
<dd>default: True</dd>
<dt>restore_ACL           (bool)       –  restore ACLs for Unix</dt>
<dd>default: True</dd>
<dt>copy_precedence       (int)        –  copy precedence value</dt>
<dd>default: None</dd>
<dt>from_time             (str)        –  time to restore the contents after</dt>
<dd><p class="first">format: YYYY-MM-DD HH:MM:SS</p>
<p class="last">default: None</p>
</dd>
<dt>to_time               (str)        –  time to retore the contents before</dt>
<dd><p class="first">format: YYYY-MM-DD HH:MM:SS</p>
<p class="last">default: None</p>
</dd>
<dt>preserve_level        (int)        –  preserve level option to set in restore</dt>
<dd>default: 0</dd>
<dt>proxy_client          (str)        –  proxy that needed to be used for restore</dt>
<dd>default: None</dd>
<dt>impersonate_user      (str)        –  Impersonate user options for restore</dt>
<dd>default: None</dd>
</dl>
<p>impersonate_password  (str)        –  Impersonate password option for restore
in base64 encoded form</p>
<blockquote>
<div>default: None</div></blockquote>
<dl class="docutils">
<dt>is_vlr_restore        (bool)       –  Blocklevel Switch to run restore of Volume</dt>
<dd>default: False</dd>
</dl>
<p>is_client_big_data_apps(bool)      –  to indicate if the destintation client
is of type DISTRIBUTED_IDA</p>
<blockquote>
<div>default : None</div></blockquote>
<p>destination_instance  (str)        –  destination instance if the destination
client is of type DISTRIBUTED_IDA</p>
<blockquote>
<div>default : None</div></blockquote>
<dl class="docutils">
<dt>no_of_streams         (int)        –  number of streams used for restore</dt>
<dd>default : 1</dd>
</dl>
<p>restore_nodes         (list)       –  the data access nodes used for restore
in case of multi-node restore.</p>
<blockquote class="last">
<div>default : None</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd>object - instance of the Job class for this restore job</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception - Any error occurred while running restore</dt>
<dd>or restore didn’t complete successfully.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.run_backup">
<code class="descname">run_backup</code><span class="sig-paren">(</span><em>backup_level='Incremental'</em>, <em>incremental_backup=False</em>, <em>incremental_level='BEFORE_SYNTH'</em>, <em>wait_to_complete=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.run_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.run_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiates backup job with specified options
on the current testcase subclient object
and waits for completion.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">backup_level            (str)   –  level of backup
(Full/Incremental/Differential/Synthetic_full)</p>
<blockquote>
<div>default: Incremental</div></blockquote>
<p>incremental_backup      (bool)  –  run incremental backup
only applicable in case of Synthetic_full backup</p>
<blockquote>
<div>default: False</div></blockquote>
<p>incremental_level       (str)   –  run incremental backup
before/after synthetic full (BEFORE_SYNTH / AFTER_SYNTH)
only applicable in case of Synthetic_full backup</p>
<blockquote>
<div>default: BEFORE_SYNTH</div></blockquote>
<p class="last">wait_to_complete        (bool)  –  Specifies whether to wait until job finishes.</p>
</dd>
<dt>Returns:</dt>
<dd>list    - list of instances of the Job class for the backup jobs ran</dd>
<dt>Raises:</dt>
<dd>Exception - Any error occurred while running backup or
backup didn’t complete successfully.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.run_backup_verify">
<code class="descname">run_backup_verify</code><span class="sig-paren">(</span><em>scan_type=&lt;ScanType.RECURSIVE: 1&gt;</em>, <em>backup_level='Incremental'</em>, <em>incremental_backup=False</em>, <em>incremental_level='BEFORE_SYNTH'</em>, <em>scan_marking=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.run_backup_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.run_backup_verify" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Initiates backup and performs the applicable verifications</dt>
<dd>on current test case subclient</dd>
<dt>Args:</dt>
<dd><dl class="first docutils">
<dt>scan_type         (ScanType(Enum)) – scan type(RECURSIVE/OPTIMIZED/CHANGEJOURNAL)</dt>
<dd>default: ScanType.RECURSIVE</dd>
</dl>
<p>backup_level      (str)            – level of backup
(Full/Incremental/Differential/Synthetic_full)</p>
<blockquote>
<div>default: Incremental</div></blockquote>
<p>incremental_backup(bool)           – run incremental backup
only applicable in case of Synthetic_full backup</p>
<blockquote>
<div>default: False</div></blockquote>
<p>incremental_level (str)            – run incremental backup
before/after synthetic full(BEFORE_SYNTH / AFTER_SYNTH)
only applicable in case of Synthetic_full backup</p>
<blockquote>
<div>default: BEFORE_SYNTH</div></blockquote>
<p>scan_marking      (bool)           –  to check whether
the job ran as Scan Marking Job</p>
<blockquote class="last">
<div>default: False</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd>list    - instances of the Job class for the backup job ran</dd>
<dt>Raises:</dt>
<dd>Exception - Any error occurred while
running backup or during verification.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.run_find_verify">
<code class="descname">run_find_verify</code><span class="sig-paren">(</span><em>machine_path</em>, <em>job=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.run_find_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.run_find_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds items backed up in the given job
and compares it with items from machine</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">machine_path (str)       – Source data path on the machine</p>
<dl class="last docutils">
<dt>job (obj)                – instance of the job class whose data needs to be found</dt>
<dd>default : None</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd>Exception - Any error occurred while finding items or during verification.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.run_restore_verify">
<code class="descname">run_restore_verify</code><span class="sig-paren">(</span><em>slash_format</em>, <em>data_path</em>, <em>tmp_path</em>, <em>data_path_leaf</em>, <em>job=None</em>, <em>cleanup=True</em>, <em>is_client_big_data_apps=None</em>, <em>destination_instance=None</em>, <em>no_of_streams=1</em>, <em>proxy_client=None</em>, <em>restore_nodes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.run_restore_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.run_restore_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiates restore for data backed up in the given job
and performs the applicable verifications</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">slash_format (str)       – OS path separator format</p>
<p>data_path (str)          – Source data path</p>
<p>tmp_path (str)           – temporary path for restoring the data</p>
<p>data_path_leaf(str)      – leaf level of the data_path</p>
<p>job (obj)                – instance of the job class
whose data needs to be restored</p>
<blockquote>
<div>default : None</div></blockquote>
<dl class="docutils">
<dt>cleanup (bool)           – to indicate if restored data should be cleaned up</dt>
<dd>default : True</dd>
</dl>
<p>is_client_big_data_apps(bool) – to indicate if the destintation client
is of type DISTRIBUTED_IDA</p>
<blockquote>
<div>default : None</div></blockquote>
<p>destination_instance (str) – destination instance if the destination
client is of type DISTRIBUTED_IDA</p>
<blockquote>
<div>default : None</div></blockquote>
<p>no_of_streams (int)      – number of streams used for restore</p>
<blockquote>
<div>default : 1</div></blockquote>
<p>proxy_client(str)        – Proxy for restore</p>
<blockquote>
<div>default : None</div></blockquote>
<p>restore_nodes (list)     – the data access nodes used for restore in case of
multi-node restore.</p>
<blockquote class="last">
<div>default : None</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception - Any error occurred while</dt>
<dd>running restore or during verification.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.run_systemstate_backup">
<code class="descname">run_systemstate_backup</code><span class="sig-paren">(</span><em>backup_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.run_systemstate_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.run_systemstate_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Checking if system state is enabled and running a backup</p>
</dd></dl>

<dl class="attribute">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.subclient_job_results_directory">
<code class="descname">subclient_job_results_directory</code><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.subclient_job_results_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the subclient job  results directory path.</p>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.update_subclient">
<code class="descname">update_subclient</code><span class="sig-paren">(</span><em>storage_policy=None</em>, <em>content=None</em>, <em>filter_content=None</em>, <em>exception_content=None</em>, <em>trueup_option=None</em>, <em>trueup_days=None</em>, <em>scan_type=None</em>, <em>data_readers=None</em>, <em>allow_multiple_readers=None</em>, <em>read_buffer_size=None</em>, <em>block_level_backup=None</em>, <em>createFileLevelIndex=False</em>, <em>data_access_nodes=None</em>, <em>backup_system_state=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.update_subclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.update_subclient" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates subclient property of current
testcase subclient with specified parameters</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first docutils">
<dt>storage_policy (str)            – storage policy to assign to subclient</dt>
<dd>default: None</dd>
<dt>content (list)                  – content list</dt>
<dd>default: None</dd>
<dt>filter_content (list)           – filter list</dt>
<dd>default: None</dd>
<dt>exception_conent (list)         – exception list</dt>
<dd>default: None</dd>
<dt>trueup_option (bool)            – enable / disable true up</dt>
<dd>default: None</dd>
<dt>trueup_days (int)               – trueup after n days value of the subclient</dt>
<dd>default: None</dd>
<dt>scan_type(ScanType(Enum))       – scan type(RECURSIVE/OPTIMIZED/CHANGEJOURNAL)</dt>
<dd>default: None</dd>
<dt>data_readers (int)              – number of data readers</dt>
<dd>default: None</dd>
<dt>allow_multiple_readers (bool)   – enable / disable allow multiple readers</dt>
<dd>default: None</dd>
<dt>read_buffer_size (int)          – read buffer size in KB</dt>
<dd>default: None</dd>
</dl>
<p>data_access_nodes (list)        – sets the list passed as data access nodes
or backup nodes for this subclient</p>
<dl class="last docutils">
<dt>blockLevelBackup                – enable/Disable Blocklevel Option</dt>
<dd>default:None</dd>
<dt>createFileLevelIndex            – Enable/Diable Metadata option</dt>
<dd>default:False</dd>
<dt>backup_system_state             –  Enable/Disable system state option</dt>
<dd>default:None</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd>Exception - Any error occurred during Subclient Property update</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.validate_commit_files">
<code class="descname">validate_commit_files</code><span class="sig-paren">(</span><em>expected_commit_files</em>, <em>actual_commit_files</em>, <em>only_cvf=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.validate_commit_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.validate_commit_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Function checks whether the commit collect file and commit dirchange file were created correctly.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">expected_commit_files   (dict)  –  Dictionary of commit files created by create_expected_commit_files.</p>
<p>actual_commit_files     (dict)  –  Dictionary of commit files created by get_actual_commit_files.</p>
<p class="last">only_cvf                (bool)  –  If true, skips validation of the commit dirchange.</p>
</dd>
<dt>Returns:</dt>
<dd>bool    -   Returns True if the lists are identical.
Returns False if the contents of the lists are different.</dd>
<dt>Raises:</dt>
<dd>None</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.validate_trueup">
<code class="descname">validate_trueup</code><span class="sig-paren">(</span><em>job</em>, <em>check_for_trueupfiles=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.validate_trueup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.validate_trueup" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given job object, it runs a query in JMMisc table and</dt>
<dd>checks if itemtype 38 and 44 are present in query result.
ItemType - 38 - Confirms if true up ran or not.
ItemType - 44 - Confirms if true up picked up files or not.</dd>
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>job (object)                – instance of the Job class</dt>
<dd>for the backup job to query.</dd>
<dt>check_for_trueupfiles (bool)  – conditional variable to check</dt>
<dd><dl class="first last docutils">
<dt>if trueup ran and picked up files.</dt>
<dd>default: False</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>bool     - If checkForTrueupFiles is False</dt>
<dd>Returns True if trueup Ran
If checkForTrueupFiles is True
Returns True if trueup Ran and picked up files.</dd>
</dl>
</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>if any error occurred during SQL query execution.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.verify_dc">
<code class="descname">verify_dc</code><span class="sig-paren">(</span><em>jobid</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.verify_dc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.verify_dc" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional method to be implemented in child class</p>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.verify_scan_marking">
<code class="descname">verify_scan_marking</code><span class="sig-paren">(</span><em>job_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.verify_scan_marking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.verify_scan_marking" title="Permalink to this definition">¶</a></dt>
<dd><p>“Verifies whether the job ran onle Scan phase i.e., Scan Marking Job
Args :</p>
<blockquote>
<div>jobId   – to verify the given job ran only Scan phase</div></blockquote>
<dl class="docutils">
<dt>Return:</dt>
<dd><p class="first">True        – if ran only Scan phases and the job is in Compeleted State</p>
<p class="last">False       – if didn’t ran Scan Marking Job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.fshelper.FSHelper.volume_level_restore">
<code class="descname">volume_level_restore</code><span class="sig-paren">(</span><em>source_path</em>, <em>destination_path</em>, <em>client_name</em>, <em>job=None</em>, <em>cleanup=True</em>, <em>from_time=None</em>, <em>to_time=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#FSHelper.volume_level_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper.volume_level_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to perform volume level restore</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">source_path(str)       – Source Path for the restore</p>
<p>destination_path(str)  – Destination Path you want to restore</p>
<p>client_name(str)       – On client which you want to perform Volume level Restore</p>
<p>from_time (str)        – From time for Restore</p>
<blockquote>
<div>default : None</div></blockquote>
<p>to_time (str)          – to time for Restore</p>
<blockquote class="last">
<div>default : None</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd>Exception - Any error occurred while doing volume level restore.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Automation.FileSystem.FSUtils.fshelper.IndexEnabled">
<em class="property">class </em><code class="descclassname">Automation.FileSystem.FSUtils.fshelper.</code><code class="descname">IndexEnabled</code><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#IndexEnabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.IndexEnabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>With Blocklevel we check Meta Data COllection on or not</p>
<dl class="attribute">
<dt id="Automation.FileSystem.FSUtils.fshelper.IndexEnabled.INDEX">
<code class="descname">INDEX</code><em class="property"> = 2</em><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.IndexEnabled.INDEX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="Automation.FileSystem.FSUtils.fshelper.IndexEnabled.NOINDEX">
<code class="descname">NOINDEX</code><em class="property"> = 1</em><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.IndexEnabled.NOINDEX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Automation.FileSystem.FSUtils.fshelper.ScanType">
<em class="property">class </em><code class="descclassname">Automation.FileSystem.FSUtils.fshelper.</code><code class="descname">ScanType</code><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/fshelper.html#ScanType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.ScanType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>Constants for all the scan types
currently supported for file system subclients</p>
<dl class="attribute">
<dt id="Automation.FileSystem.FSUtils.fshelper.ScanType.CHANGEJOURNAL">
<code class="descname">CHANGEJOURNAL</code><em class="property"> = 3</em><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.ScanType.CHANGEJOURNAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="Automation.FileSystem.FSUtils.fshelper.ScanType.OPTIMIZED">
<code class="descname">OPTIMIZED</code><em class="property"> = 2</em><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.ScanType.OPTIMIZED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="Automation.FileSystem.FSUtils.fshelper.ScanType.RECURSIVE">
<code class="descname">RECURSIVE</code><em class="property"> = 1</em><a class="headerlink" href="#Automation.FileSystem.FSUtils.fshelper.ScanType.RECURSIVE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Automation.FileSystem.FSUtils.ibmihelper">
<span id="automation-filesystem-fsutils-ibmihelper-module"></span><h2>Automation.FileSystem.FSUtils.ibmihelper module<a class="headerlink" href="#module-Automation.FileSystem.FSUtils.ibmihelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing IBMi File System operations
IBMiHelper: Helper class to perform file system operations which derives from the UnixFSHelper.</p>
<div class="section" id="ibmihelper">
<h3>IBMiHelper<a class="headerlink" href="#ibmihelper" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>__init__()                      –  initializes IBMi helper object</p>
<p>num_libraries()                 –  Returns the number of libraries that are generated.</p>
<p>get_subclient_content()         –  Generates the subclient content list.</p>
<p>add_new_data_incr()             –  Adds new data for incremental backups</p>
<p>mod_data_incr()                 –  Modifies the data added by add_new_data_incr</p>
<dl class="docutils">
<dt>run_restore_verify()            –  Initiates restore for data</dt>
<dd>backed up in the given job
and performs the applicable verifications</dd>
<dt>run_find_verify()               –  Finds items backed up in the given job</dt>
<dd>and compares it with items from machine</dd>
<dt>run_complete_restore_verify()   –  Initiates restore of complete /QSYS.LIB data backed up for</dt>
<dd>this subclient</dd>
</dl>
<p>set_client_side_deduplication() –  Set subclient property to perform client side deduplication</p>
<p>set_object_level_backup()       –  Set the subclient property to backup data as objects.</p>
<p>get_log_directory()             –  Returns the log directory of the IBMi client</p>
<p>verify_from_log()               –  Parse the log file to match a regular expression.</p>
<p>update_filter_and_exception()   –  Updates the subclient’s filter and exception content.</p>
<p>get_wildcard_content()          –  Returns a wildcard content for subclient.</p>
<p>enable_synclib()                –  Enables synclib for subclient.</p>
</div></blockquote>
<div class="section" id="attributes">
<h4>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><strong>num_libraries</strong>               –  The number of libraries created for this testcase</div></blockquote>
<dl class="class">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper">
<em class="property">class </em><code class="descclassname">Automation.FileSystem.FSUtils.ibmihelper.</code><code class="descname">IBMiHelper</code><span class="sig-paren">(</span><em>testcase</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystem.FSUtils.unixfshelper.UnixFSHelper</span></code></p>
<p>Helper class to perform file system operations</p>
<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.add_new_data_incr">
<code class="descname">add_new_data_incr</code><span class="sig-paren">(</span><em>incr_path</em>, <em>slash_format</em>, <em>scan_type=&lt;ScanType.RECURSIVE: 1&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.add_new_data_incr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.add_new_data_incr" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds new data for incremental. For IFS paths, this will call the UnixFsHelper
implementation with provisions for modification after this function execution call
mod_data_incr for modifications</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">incr_path           (str)   : path for adding data</p>
<p>slash_format        (str)   : OS path separator format</p>
<dl class="docutils">
<dt>scan_type           (str) <span class="classifier-delimiter">:</span> <span class="classifier">scan type as one of below</span></dt>
<dd><blockquote class="first">
<div>RECURSIVE
OPTIMIZED
CHANGEJOURNAL</div></blockquote>
<p class="last">default: ScanType.RECURSIVE</p>
</dd>
</dl>
<p><a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs            (dict)  : dictionary of optional arguments</p>
<blockquote class="last">
<div><p>options:</p>
<blockquote>
<div><dl class="docutils">
<dt>dirs        (int) <span class="classifier-delimiter">:</span> <span class="classifier">number of directories in each level.</span></dt>
<dd>default: 3</dd>
<dt>files       (int) <span class="classifier-delimiter">:</span> <span class="classifier">number of files in each directory</span></dt>
<dd>default: 5</dd>
<dt>file_size   (int) <span class="classifier-delimiter">:</span> <span class="classifier">Size of the files in KB</span></dt>
<dd>default: 20</dd>
<dt>levels      (int) <span class="classifier-delimiter">:</span> <span class="classifier">number of levels to be created</span></dt>
<dd>default: 1</dd>
<dt>hlinks      (bool) <span class="classifier-delimiter">:</span> <span class="classifier">whether to create hardlink files</span></dt>
<dd>default: True</dd>
<dt>slinks      (bool) <span class="classifier-delimiter">:</span> <span class="classifier">whether to create symbolic link files</span></dt>
<dd>default: True</dd>
<dt>sparse      (bool) <span class="classifier-delimiter">:</span> <span class="classifier">whether to create sparse files</span></dt>
<dd>default: True</dd>
<dt>sparse_hole_size (int) <span class="classifier-delimiter">:</span> <span class="classifier">Size of the holes in sparse files in KB</span></dt>
<dd>default: 1024</dd>
<dt>options     (str) <span class="classifier-delimiter">:</span> <span class="classifier">to specify any other additional parameters to the script.</span></dt>
<dd>default: “”</dd>
</dl>
</div></blockquote>
</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>Any error occurred while populating the data.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.enable_synclib">
<code class="descname">enable_synclib</code><span class="sig-paren">(</span><em>synclib_value='*SYNCLIB'</em>, <em>sync_queue=''</em>, <em>sync_all_lib=True</em>, <em>check_point=''</em>, <em>active_wait_time=600</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.enable_synclib"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.enable_synclib" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables the synclib backups for the subclient in testcase.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>synclib_value       (str) <span class="classifier-delimiter">:</span> <span class="classifier">Value to which save while active option is set.</span></dt>
<dd>default: ‘<a href="#id3"><span class="problematic" id="id4">*</span></a>SYNCLIB’</dd>
<dt>sync_queue          (str) <span class="classifier-delimiter">:</span> <span class="classifier">Path for the sync queue</span></dt>
<dd>default: ‘’</dd>
<dt>sync_all_lib        (bool) <span class="classifier-delimiter">:</span> <span class="classifier">Whether to synchronize all libraries before backup</span></dt>
<dd>default: True</dd>
<dt>check_point         (str) <span class="classifier-delimiter">:</span> <span class="classifier">Command to run on checkpoint</span></dt>
<dd>default: ‘’</dd>
<dt>active_wait_time    (int) <span class="classifier-delimiter">:</span> <span class="classifier">Amount of time to wait for check point in seconds.</span></dt>
<dd>default: 600</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.get_log_directory">
<code class="descname">get_log_directory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.get_log_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.get_log_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log directory of the IBMi client</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>str : The log directory path</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.get_subclient_content">
<code class="descname">get_subclient_content</code><span class="sig-paren">(</span><em>test_path</em>, <em>slash_format</em>, <em>subclient_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.get_subclient_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.get_subclient_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the subclient content list. For IFS, calls the unix implementation.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">test_path           (str)   : The test path provided for the test case</p>
<p>slash_format        (str)   : The slash format for the platform</p>
<p class="last">subclient_name      (str)   : The name of the subclient for which data is generated.</p>
</dd>
<dt>Returns:</dt>
<dd>list : list of subclient contents for this test case</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.get_wildcard_content">
<code class="descname">get_wildcard_content</code><span class="sig-paren">(</span><em>subclient_content</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.get_wildcard_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.get_wildcard_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a wildcard to substitute for the subclient content.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>subclient_content       (str) : subclient content path</dd>
<dt>Returns:</dt>
<dd>str : subclient content in wildcard format.</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>If the subclient content provided is not library file system.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.mod_data_incr">
<code class="descname">mod_data_incr</code><span class="sig-paren">(</span><em>scan_type=&lt;ScanType.RECURSIVE: 1&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.mod_data_incr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.mod_data_incr" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies the data added by add_new_data_incr call add_new_data_incr before calling this.
For LFS, it adds more incremental data. For IFS, it calls the UnixFsHelper implementation</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>scan_type       (ScanType(Enum)) <span class="classifier-delimiter">:</span> <span class="classifier">scan type</span></dt>
<dd>default : ScanType.RECURSIVE</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>Any error occurred while modifying the data.</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.num_libraries">
<code class="descname">num_libraries</code><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.num_libraries" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of libraries that are generated for this test</p>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.run_complete_restore_verify">
<code class="descname">run_complete_restore_verify</code><span class="sig-paren">(</span><em>content</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.run_complete_restore_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.run_complete_restore_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiates restore of complete /QSYS.LIB data backed up for this subclient.
This runs a find on source, then deletes all the source files and
attempts an in-place restore. The initial find is compared with find on restored data.</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd>content     (list)  : list of the content for this testcase</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>Any error occurred while running restore or during verification.</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.run_find_verify">
<code class="descname">run_find_verify</code><span class="sig-paren">(</span><em>machine_path</em>, <em>job=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.run_find_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.run_find_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds items backed up in the given job and compares it with items from machine</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">machine_path    (str)   : Source data path on the machine</p>
<dl class="last docutils">
<dt>job             (obj) <span class="classifier-delimiter">:</span> <span class="classifier">instance of the job class whose data needs to be restored</span></dt>
<dd>default : None</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>Any error occurred while finding items or during verification.</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.run_restore_verify">
<code class="descname">run_restore_verify</code><span class="sig-paren">(</span><em>slash_format</em>, <em>data_path</em>, <em>tmp_path</em>, <em>data_path_leaf</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.run_restore_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.run_restore_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiates restore for data backed up in the given job
and performs the applicable verifications</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">slash_format    (str)   : OS path separator format</p>
<p>data_path       (str)   : Source data path</p>
<p>tmp_path        (str)   : temporary path for restoring the data</p>
<p>data_path_leaf  (str)   : leaf level of the data_path</p>
<p><a href="#id5"><span class="problematic" id="id6">**</span></a>kwargs        (dict)  : Dictionary of optional arguments.</p>
<blockquote class="last">
<div><p>options             :</p>
<blockquote>
<div><dl class="docutils">
<dt>job     (obj) <span class="classifier-delimiter">:</span> <span class="classifier">instance of the job class whose data needs to be restored</span></dt>
<dd>default : None</dd>
<dt>cleanup (bool) <span class="classifier-delimiter">:</span> <span class="classifier">to indicate if restored data should be cleaned up</span></dt>
<dd>default : True</dd>
</dl>
</div></blockquote>
</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>Any error occurred while running restore or during verification.</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.set_client_side_deduplication">
<code class="descname">set_client_side_deduplication</code><span class="sig-paren">(</span><em>generate_signature_on_ibmi=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.set_client_side_deduplication"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.set_client_side_deduplication" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the subclient property to generate signature on ibmi client.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>generate_signature_on_ibmi  (bool) <span class="classifier-delimiter">:</span> <span class="classifier">Enable or disable the property</span></dt>
<dd>default: True</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>SDKException:</dt>
<dd>if failed to update number properties for subclient</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.set_object_level_backup">
<code class="descname">set_object_level_backup</code><span class="sig-paren">(</span><em>object_level_backup=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.set_object_level_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.set_object_level_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the subclient property to backup data as objects.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>object_level_backup     (bool) <span class="classifier-delimiter">:</span> <span class="classifier">Enable or disable the property</span></dt>
<dd>default: True</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>SDKException:</dt>
<dd>if failed to update number properties for subclient</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.update_filter_and_exception">
<code class="descname">update_filter_and_exception</code><span class="sig-paren">(</span><em>filter_content=None</em>, <em>exception_content=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.update_filter_and_exception"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.update_filter_and_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Update subclient with new filters and exceptions</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>filter_content          (list) <span class="classifier-delimiter">:</span> <span class="classifier">List of filters</span></dt>
<dd>default : None</dd>
<dt>exception_content       (list) <span class="classifier-delimiter">:</span> <span class="classifier">List of exceptions</span></dt>
<dd>default : None</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>If the filter and exception update fails.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.verify_dc">
<code class="descname">verify_dc</code><span class="sig-paren">(</span><em>jobid</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.verify_dc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.verify_dc" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies whether the job used Scan optimization</p>
<blockquote>
<div><blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">jobid       (int)   : jobid to be checked</p>
<dl class="last docutils">
<dt>log_dir     (str) <span class="classifier-delimiter">:</span> <span class="classifier">path of the log directory</span></dt>
<dd>default: None</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>bool    : Returns True if dc scan was successful or else false</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>if any error occurred while verifying the scan status</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.verify_from_log">
<code class="descname">verify_from_log</code><span class="sig-paren">(</span><em>logfile</em>, <em>regex</em>, <em>jobid=None</em>, <em>expectedvalue=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/ibmihelper.html#IBMiHelper.verify_from_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.ibmihelper.IBMiHelper.verify_from_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the log file for regex and check if the expected value matches.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">logfile         (str) : Log file to parse</p>
<p>regex           (str) : Regex to parse the log file with</p>
<dl class="last docutils">
<dt>jobid           (str) <span class="classifier-delimiter">:</span> <span class="classifier">Job id</span></dt>
<dd>default: None</dd>
<dt>expectedvalue   (str) <span class="classifier-delimiter">:</span> <span class="classifier">The expected value in regex match</span></dt>
<dd>default: None</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>bool : True if lines matching regex and expected value were found.</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>If no lines matching the regex and expected value is found.</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
</div>
<div class="section" id="module-Automation.FileSystem.FSUtils.migration_assistant_helper">
<span id="automation-filesystem-fsutils-migration-assistant-helper-module"></span><h2>Automation.FileSystem.FSUtils.migration_assistant_helper module<a class="headerlink" href="#module-Automation.FileSystem.FSUtils.migration_assistant_helper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing operations related to the Migration Assistance feature.
MigrationAssistantHelper: Helper class to perform operations
for the Migration Assistance feature which derives from the FSHelper.</p>
<div class="section" id="migrationassistanthelper">
<h3>MigrationAssistantHelper<a class="headerlink" href="#migrationassistanthelper" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>__init__()                              –  Initializes MA helper object.</p>
<p>populate_migration_assistant_inputs()   –  Initializes the MA specific attributes
in addition to calling FSHelper.populate_tc_inputs() to initialize all other inputs.</p>
<p>create_default_backupset()              –  Creates a new backup set with the provided name
if it doesn’t exist and sets it as the default backup set.</p>
<p>get_ma_entries_from_machine()           –  Prepares a list of entries
from the machine that should get backed up as part of Migration Assistant User Settings.</p>
<p>get_ma_entries_from_cvfs()              –  Prepares a list of MA entries
from the collect file.</p>
<p>collect_registry_entries()              –  Collects registry entries
from the specified machine under a specified sub key.</p>
<p>compare_lists()                         –  Compares the source list with destination list
and checks for equality or if the entries in the destination list can
form a subset of the entries in the source list.</p>
<p>get_sid_for_user_profile()              –  Retrieves the SID for the user profile.</p>
<p>run_sync_restore()                      –  Launches a Sync. Restore job
on the specified destination client.</p>
<p>get_moniker_paths()                     –  Fetches the path for each of the monikers
from the machine for the given user profile.</p>
<p>perform_ma_validation()                 –  Validates whether the collect file has all
the MA entries by comparing it against a list of expected MA entries from the machine.</p>
<p>generate_test_data_for_ma()             –  Generates test data under the well-known folders.</p>
<p>ma_restore_verify()                     –  Initiates restore for data backed up in the
given job and performs the applicable verifications.</p>
</div></blockquote>
<dl class="class">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper">
<em class="property">class </em><code class="descclassname">Automation.FileSystem.FSUtils.migration_assistant_helper.</code><code class="descname">MigrationAssistantHelper</code><span class="sig-paren">(</span><em>testcase</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Automation.FileSystem.FSUtils.fshelper.FSHelper" title="Automation.FileSystem.FSUtils.fshelper.FSHelper"><code class="xref py py-class docutils literal notranslate"><span class="pre">Automation.FileSystem.FSUtils.fshelper.FSHelper</span></code></a></p>
<p>Helper class to perform Migration Assistance operations</p>
<dl class="method">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.collect_registry_entries">
<code class="descname">collect_registry_entries</code><span class="sig-paren">(</span><em>machine_object</em>, <em>subkey_name</em>, <em>recurse=True</em>, <em>find_subkey=None</em>, <em>find_entry=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.collect_registry_entries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.collect_registry_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Collects registry entries from the specified machine under a specified sub key.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">machine_object  (object)    –  Instance of Machine class
connected to the remote machine to get registry entries from.</p>
<p>subkey_name     (str)       –  Name of the subkey
in the registry. An example of a subkey name is ‘HKLM:SOFTWARECommVault Systems’</p>
<p>recurse         (bool)      –  Whether to recurse through subkeys or not.</p>
<blockquote>
<div>default:    True</div></blockquote>
<p>find_subkey     (str)       –  Name of the key to search for in the given subkey.</p>
<blockquote>
<div>default:    None</div></blockquote>
<p>find_entry      (str)       –  Name of the entry to search for,
specifying a subkey is mandatory.</p>
<blockquote class="last">
<div>default:    None</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd>dict    -   A dictionary of dictionaries containing
the entry name as the key and the entry data as value.</dd>
<dt>Raises:</dt>
<dd>Exception:
If any error occurs when collecting registry entries.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.compare_lists">
<code class="descname">compare_lists</code><span class="sig-paren">(</span><em>source_list</em>, <em>destination_list</em>, <em>check_subset=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.compare_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.compare_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the source list with destination list and checks if they are same or if
the entries in the destination list can form a subset of the entries in the source list.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">source_list         (list)  –  1st list to compare the contents of.</p>
<p>destination_list    (list)  –  2nd list to compare the contents of.</p>
<p>check_subset        (bool)  –  Checks if the entries in the destination list
can form a subset of the entries in the source list.</p>
<blockquote class="last">
<div>default:    True</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd><p class="first">tuple   -   tuple consisting of a boolean and a string, where:</p>
<blockquote class="last">
<div><p>bool:</p>
<blockquote>
<div><p>returns True if the lists are identical</p>
<p>returns False if the contents of the lists are different</p>
</div></blockquote>
<p>str:</p>
<blockquote>
<div>empty string in case of True, otherwise string consisting of the
differences b/w the 2 lists separated by new-line</div></blockquote>
</div></blockquote>
</dd>
<dt>Raises:</dt>
<dd>None</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.create_default_backupset">
<code class="descname">create_default_backupset</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.create_default_backupset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.create_default_backupset" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new backup set with the given name and sets it as the default backup set.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>name    (str)   –  Name of the backupset.</dd>
<dt>Returns:</dt>
<dd>None    -   If the backupset was created successfully.</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>Any error occured during backupset creation or updation of backupset as default.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.generate_test_data_for_ma">
<code class="descname">generate_test_data_for_ma</code><span class="sig-paren">(</span><em>machine_object</em>, <em>suffix=''</em>, <em>add_incr=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.generate_test_data_for_ma"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.generate_test_data_for_ma" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates test data under the well-known folders.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">machine_object  (object)    –  Instance of the Machine class
connected to the remote machine on which the test data needs to be generated.</p>
<p>suffix          (str)       –  An optional suffix to help identify the dataset.</p>
<p>add_incr        (bool)      –  Specifies whether
data is being added for an incremental backup or not.</p>
<blockquote class="last">
<div>default:    True</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd>None</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_ma_entries_from_cvfs">
<code class="descname">get_ma_entries_from_cvfs</code><span class="sig-paren">(</span><em>machine_object</em>, <em>backup_level</em>, <em>profile=None</em>, <em>get_entries_as_list=True</em>, <em>flag='&lt;ma&gt;'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.get_ma_entries_from_cvfs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_ma_entries_from_cvfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a list of MA entries from the collect file.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">machine_object      (object)    –  Instance of Machine class
connected to the remote machine to get collect file entries from.</p>
<p>backup_level        (str)                           –  Level of backup.</p>
<blockquote>
<div><dl class="docutils">
<dt>Valid values are:</dt>
<dd><ul class="first last simple">
<li>Full</li>
<li>Incremental</li>
<li>Differential</li>
<li>Synthetic_full</li>
</ul>
</dd>
</dl>
</div></blockquote>
<p>profile             (str)                           –  The profile
whose MA entries need to be fetched.</p>
<p>get_entries_as_list (bool)                          –  Whether entries
need to be returned in the form of a list.</p>
<blockquote>
<div>default:    True</div></blockquote>
<p>flag                (str)                           –  The flag(s) to search for
as written in the collect file.</p>
<blockquote class="last">
<div>default:    &lt;ma&gt;</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd>list    -   list of MA items from the collect file.</dd>
<dt>Raises:</dt>
<dd>Exception:
If any error occurs when collecting MA entries from the collect files.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_ma_entries_from_machine">
<code class="descname">get_ma_entries_from_machine</code><span class="sig-paren">(</span><em>machine_object</em>, <em>appdata_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.get_ma_entries_from_machine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_ma_entries_from_machine" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a list of entries from the machine that should
get backed up as part of Migration Assistant User Settings.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">machine_object  (object)    –  Instance of Machine class
connected to the remote machine to get MA entries from.</p>
<p class="last">appdata_path    (str)       –  Profile path for the given user.
E.g. C:UsersAdministrator\AppData</p>
</dd>
<dt>Returns:</dt>
<dd>list    -   list of items that would be backed up
as part of MA for given user profile.</dd>
<dt>Raises:</dt>
<dd>Exception:
If any error occurs when collecting MA entries from the machine.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_moniker_paths">
<code class="descname">get_moniker_paths</code><span class="sig-paren">(</span><em>machine_object</em>, <em>user_profile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.get_moniker_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_moniker_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the path for each of the monikers from the machine for the given user profile.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">machine_object  (object)    –  Instance of Machine class
connected to the remote machine for which the paths corresponding
to the monikers need to be fetched from.</p>
<p class="last">user_profile    (str)       –  Name of the user profile
for which the paths corresponding to the monikers need to be fetched.</p>
</dd>
<dt>Returns:</dt>
<dd>dict    -   A dictionary of the monikers and their corresponding paths.</dd>
<dt>Raises:</dt>
<dd>None</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_sid_for_user_profile">
<code class="descname">get_sid_for_user_profile</code><span class="sig-paren">(</span><em>machine_object</em>, <em>user_profile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.get_sid_for_user_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.get_sid_for_user_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the SID for the user profile.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">machine_object  (object)    –  Instance of Machine class
connected to the remote machine from which we need to get
the SID of the provided user profile.</p>
<p class="last">user_profile    (str)       –  Name of the user profile.</p>
</dd>
<dt>Returns:</dt>
<dd>str -   SID of the user profile.</dd>
<dt>Raises:</dt>
<dd>None</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.ma_restore_verify">
<code class="descname">ma_restore_verify</code><span class="sig-paren">(</span><em>job</em>, <em>suffix</em>, <em>ma_validation_flag=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.ma_restore_verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.ma_restore_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiates restore for data backed up in the given job
and performs the applicable verifications.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">job                 (object)    –  Instance of Job class
of the backup job that backed up MA items.</p>
<p>suffix              (str)       –  The suffix used to identify the subset of
the dataset that needs to be restored.</p>
<p class="last">ma_validation_flag  (bool)      –  Whether MA validation is required.</p>
</dd>
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd>None</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.moniker_dict">
<code class="descname">moniker_dict</code><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.moniker_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.perform_ma_validation">
<code class="descname">perform_ma_validation</code><span class="sig-paren">(</span><em>backup_level</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.perform_ma_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.perform_ma_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates whether the collect file has all the MA entries by comparing it
against a list of expected MA entries from the machine.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">backup_level    (str)   –  Level of backup.</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>Valid values are:</dt>
<dd><ul class="first last simple">
<li>Full</li>
<li>Incremental</li>
<li>Differential</li>
<li>Synthetic_full</li>
</ul>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd><p class="first">tuple   -   tuple consisting of a boolean and a string, where:</p>
<blockquote class="last">
<div><p>bool:</p>
<blockquote>
<div><p>returns True if the lists are identical</p>
<p>returns False if the contents of the lists are different</p>
</div></blockquote>
<p>str:</p>
<blockquote>
<div>empty string in case of True, otherwise string consisting of the
differences b/w the 2 lists separated by new-line</div></blockquote>
</div></blockquote>
</dd>
<dt>Raises:</dt>
<dd>None</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.populate_migration_assistant_inputs">
<em class="property">static </em><code class="descname">populate_migration_assistant_inputs</code><span class="sig-paren">(</span><em>cv_testcase</em>, <em>mandatory=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.populate_migration_assistant_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.populate_migration_assistant_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes all the test case inputs after validation</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">cv_testcase     (object)    –  Object of CVTestCase.</p>
<p>mandatory       (bool)      –  Whether to check for mandatory inputs
and raise exception if not found.</p>
<blockquote class="last">
<div>default:    True</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd>None   -   If the inputs were populated successfully.</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd><p class="first">If a valid CVTestCase object is not passed.</p>
<p class="last">If CVTestCase object doesn’t have agent initialized.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.run_sync_restore">
<code class="descname">run_sync_restore</code><span class="sig-paren">(</span><em>dst_client</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/migration_assistant_helper.html#MigrationAssistantHelper.run_sync_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.migration_assistant_helper.MigrationAssistantHelper.run_sync_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Launches a Sync. Restore job on the specified destination client.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>dst_client      (object)    –  Instance of Client object destination client
for the Sync. Restore.</dd>
<dt>Returns:</dt>
<dd>object -   Returns an instance of Job class for the Sync. Restore.</dd>
<dt>Raises:</dt>
<dd>Exception:
Any error occurred while running
Sync. Restore or if it did not complete successfully.</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-Automation.FileSystem.FSUtils.onepasshelper">
<span id="automation-filesystem-fsutils-onepasshelper-module"></span><h2>Automation.FileSystem.FSUtils.onepasshelper module<a class="headerlink" href="#module-Automation.FileSystem.FSUtils.onepasshelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing onepass operations</p>
<p>cvonepas_helper: Helper class to perform file system onepass operations</p>
<dl class="docutils">
<dt>cvonepas_helper:</dt>
<dd><p class="first">__init__()              –  initializes cvonepas_helper helper object</p>
<dl class="docutils">
<dt>populate_inputs()       – use to pass all the input values</dt>
<dd>to related variables</dd>
</dl>
<p>get_client_machine()    – return client machine object</p>
<dl class="docutils">
<dt>set_client_machine()    –  create new client machine object</dt>
<dd>and assign to self.client_machine</dd>
</dl>
<p>create_backupset()      – create new backupset</p>
<p>create_subclient()      –  creates new subclient</p>
<p>run_archive()           –  run onpass subclient archive job</p>
<p>set_scan_type()         – change subclient scan type setting</p>
<p>verify_stub()           –  verify stub creation</p>
<p>recall()                –  do onepass recall process</p>
<dl class="docutils">
<dt>restore_in_place_restoreStub_unconditional()</dt>
<dd><dl class="first last docutils">
<dt>–  Run onepass in place restore with</dt>
<dd>restore stub option enabled</dd>
</dl>
</dd>
</dl>
<p class="last">verify_restore_result() –  verify onepass restore result</p>
</dd>
</dl>
<dl class="class">
<dt id="Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper">
<em class="property">class </em><code class="descclassname">Automation.FileSystem.FSUtils.onepasshelper.</code><code class="descname">cvonepas_helper</code><span class="sig-paren">(</span><em>testcase</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystem.FSUtils.fshelper.FSHelper</span></code></p>
<p>Helper class to perform file system operations</p>
<dl class="method">
<dt id="Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.create_backupset">
<code class="descname">create_backupset</code><span class="sig-paren">(</span><em>name=None</em>, <em>delete=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.create_backupset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.create_backupset" title="Permalink to this definition">¶</a></dt>
<dd><p>this is wrap function, it will just pass the request to
superclass create_backupset function</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd><blockquote class="first">
<div><p>name: (str)</p>
<blockquote>
<div><p>–need provide string value of testcase.id</p>
<dl class="docutils">
<dt>default: None, function will assign backupset</dt>
<dd>Name  as Backupset_testcase.Id</dd>
</dl>
</div></blockquote>
<p>delete:         (bool)</p>
<blockquote>
<div><dl class="docutils">
<dt>default: False - will not recreate backupset</dt>
<dd><blockquote class="first">
<div>if existed</div></blockquote>
<p class="last">True - will recreate backupset</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
<dl class="last docutils">
<dt>Return:</dt>
<dd>parent class create_backupset function</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.create_subclient">
<code class="descname">create_subclient</code><span class="sig-paren">(</span><em>name=None</em>, <em>storage_policy=None</em>, <em>content=None</em>, <em>filter_content=None</em>, <em>exception_content=None</em>, <em>trueup_option=True</em>, <em>trueup_days=30</em>, <em>scan_type=&lt;ScanType.OPTIMIZED: 2&gt;</em>, <em>data_readers=2</em>, <em>allow_multiple_readers=False</em>, <em>read_buffer_size=512</em>, <em>block_level_backup=None</em>, <em>delete=False</em>, <em>data_access_nodes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.create_subclient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.create_subclient" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is a wrap  function and will pass value to
parent class create_subclient function</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">storage_policy:  (str) – associated storage policy Name</p>
<dl class="last docutils">
<dt>name:     (str) – name of subclient, function will</dt>
<dd>set default name
dfault: None</dd>
<dt>content:  (list) – subclient content, function will</dt>
<dd>set default content if not
default: None</dd>
<dt>filter_content:   (list) – filter list</dt>
<dd>default: None</dd>
<dt>exception_content:(list) – exception list</dt>
<dd>default: None</dd>
<dt>trueup_option:     (bool) – enable / disable true up</dt>
<dd>default: True</dd>
<dt>trueup_days:        (int)  – trueup after n days</dt>
<dd>default: 30</dd>
<dt>scan_type:          (ScanType(Enum))</dt>
<dd><dl class="first last docutils">
<dt>–scan type as one of below</dt>
<dd><blockquote class="first">
<div>RECURSIVE
OPTIMIZED
CHANGEJOURNAL</div></blockquote>
<p class="last">default: ScanType.OPTIMIZED</p>
</dd>
</dl>
</dd>
<dt>data_readers:           (int) –number of data readers</dt>
<dd>default: 2</dd>
<dt>allow_multiple_readers: (bool)–enable / disable</dt>
<dd>allow multiple readers
default: False</dd>
<dt>read_buffer_size:   (int) –read buffer size in KB</dt>
<dd>default: 512</dd>
<dt>delete:             (bool) – indicates whether existing</dt>
<dd>subclient should be deleted
default: False</dd>
<dt>block_level_backup  (str) – blocklevel backup data switch</dt>
<dd>default: None</dd>
<dt>data_access_nodes   (list) –creates a subclient with</dt>
<dd>access nodes for NAS onepas
default : None</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>parent class create_subclient function will assigned value</dd>
<dt>Raises:</dt>
<dd>Exception - Any error occurred during Subclient creation</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.get_client_machine">
<code class="descname">get_client_machine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.get_client_machine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.get_client_machine" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the machine object.</p>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.populate_inputs">
<code class="descname">populate_inputs</code><span class="sig-paren">(</span><em>mandatory=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.populate_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.populate_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes all the test case inputs after validation
Args:</p>
<blockquote>
<div><dl class="docutils">
<dt>mandatory      (bool)   –  whether to check  mandatory inputs</dt>
<dd>and raise exception if not found</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>if a valid CVTestCase object is not passed.
if CVTestCase object doesn’t have agent initialized</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.prepare_turbo_testdata">
<code class="descname">prepare_turbo_testdata</code><span class="sig-paren">(</span><em>content_path</em>, <em>test_file_list</em>, <em>size1=0</em>, <em>size2=0</em>, <em>backup_type='Full'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.prepare_turbo_testdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.prepare_turbo_testdata" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>This function will generate test files mainly for onepass use</dt>
<dd><p class="first">Args:</p>
<blockquote>
<div><p>content_path (str): the folder path</p>
<dl class="docutils">
<dt>test_file_list (list):</dt>
<dd>e.g
[(‘shouldbearchive.txt ‘True’),
(‘shouldnotbearchive.txt ‘False’)]
each item in testFileList will be tuple type
include fileName and ‘True’/’False’
fileName- the name of the file it will create
‘True’ - means this file will meet migration rule
and will create file with size as Size1
‘False’- means this file will not meet migration rule
and will create file with size as Size2</dd>
</dl>
<p>size1   (int) -size of file using byte as unit, default is 0</p>
<p>size2   (int) -size of file using byte as unit, default is 0</p>
<p>backup_type  (str) backup job type, default is ‘Full’</p>
</div></blockquote>
<p>Return:</p>
<blockquote>
<div>self.client_machine.get_checksum_list(content_path)</div></blockquote>
<dl class="last docutils">
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>if error occurred</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.recall">
<code class="descname">recall</code><span class="sig-paren">(</span><em>org_hashcode=None</em>, <em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.recall"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.recall" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will do stub recall and verify recall result
should match original file</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>org_hashcode  (list)  with each item is a tuple object</dt>
<dd>e.g
{(‘file1.txt’ hashcode_valule),
(‘file2.txt’ hashcode_valule)}
default: None ,
function will use self.org_hashcode</dd>
<dt>path               (str)  parent folder path</dt>
<dd>default: None, function will use
subclient content path</dd>
</dl>
</dd>
<dt>Return:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>exception:</dt>
<dd>if recalled stub file hash code doesn’t match
original file hash value</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.restore_in_place_restore_stub">
<code class="descname">restore_in_place_restore_stub</code><span class="sig-paren">(</span><em>paths=None</em>, <em>from_time=None</em>, <em>to_time=None</em>, <em>delete_original_path=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.restore_in_place_restore_stub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.restore_in_place_restore_stub" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the files/folders specified
in the input paths list to the same location.
by default _restore_in_place function will set restore ACL = True,
unconditional overwrite = True
then do in palce restore, this is a wrap function to explicitly
set restoreDatainsteadofStub= True</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>paths                   (list)  –  list of full paths</dt>
<dd>of files/folders to restore</dd>
<dt>from_time           (str)       –  time to</dt>
<dd><blockquote class="first">
<div>retore the contents after</div></blockquote>
<p class="last">format: YYYY-MM-DD HH:MM:SS
default: None</p>
</dd>
<dt>to_time           (str)         –  time to</dt>
<dd><blockquote class="first">
<div>retore the contents before</div></blockquote>
<p class="last">format: YYYY-MM-DD HH:MM:SS
default: None</p>
</dd>
<dt>delete_original_path (bool)</dt>
<dd><dl class="first last docutils">
<dt>default - True, it will delete existing path</dt>
<dd><blockquote class="first">
<div>before restore</div></blockquote>
<p class="last">False, will not clean restore path</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>object - instance of the Job class for this restore job</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception - Any error occurred while running restore</dt>
<dd>or restore didn’t complete successfully.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.run_archive">
<code class="descname">run_archive</code><span class="sig-paren">(</span><em>backup_level='INCREMENTAL'</em>, <em>do_not_wait=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.run_archive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.run_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is a wrap function to run an archive job
for related subclient</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd><blockquote class="first">
<div><blockquote>
<div><dl class="docutils">
<dt>backup_level  (str)</dt>
<dd><p class="first">Full -&gt;FULL job,
INCREMENTAL-&gt;INCREMENTAL job,
DIFFERENTIAL-&gt;DIFFERENTIAL job,
SYNTHETIC_FULL-&gt;</p>
<blockquote>
<div>SYNTHETIC_FULL -runIncrementalBackup false,</div></blockquote>
<dl class="last docutils">
<dt>SynFullBackupWithIncBefore-&gt;</dt>
<dd>SYNTHETIC_FULL -runIncrementalBackup true,</dd>
<dt>SynFullBackupWithIncAfter-&gt;</dt>
<dd>SYNTHETIC_FULL -runIncrementalBackup true</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>do_not_wait    (bool) True  - will return job instance and</dt>
<dd><blockquote class="first">
<div>not wait job finish</div></blockquote>
<dl class="last docutils">
<dt>False - will wait job finish then</dt>
<dd>return the job instance</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="last docutils">
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>object - instance of the Job class for this archive job if</dt>
<dd>its an immediate return Job
instance of the Job class for the archive job if
its a finished Job</dd>
</dl>
</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>SDKException:</dt>
<dd>if backup level specified is not correct</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.set_client_machine">
<code class="descname">set_client_machine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.set_client_machine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.set_client_machine" title="Permalink to this definition">¶</a></dt>
<dd><p>set machine object</p>
<p>for traditional file system and onepass local Agent, we will
use actual client machine to create machine object
for pseudo client, we will create machine object point
to agent machine
for multi-nodes pseudo client, we will use the first node
as main node, and create machine object point to first node
since all the agent machine should be active machine on CS,
so we will create agent machine object based on cvd method
to minimize the input requirements (no extra agent machine
login account info needed)</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>None</dd>
<dt>Return:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>if fail to create machine object.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.set_scan_type">
<code class="descname">set_scan_type</code><span class="sig-paren">(</span><em>scan_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.set_scan_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.set_scan_type" title="Permalink to this definition">¶</a></dt>
<dd><p>set subclient scan type</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>scan_type  (ScanType(Enum))</dt>
<dd><dl class="first last docutils">
<dt>–scan type as one of below</dt>
<dd>RECURSIVE
OPTIMIZED
CHANGEJOURNAL
default: ScanType.OPTIMIZED</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Return:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd>Exception - Any error occurred during Subclient creation</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.verify_restore_result">
<code class="descname">verify_restore_result</code><span class="sig-paren">(</span><em>source_path=None</em>, <em>dest_path=None</em>, <em>verify_acl=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.verify_restore_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.verify_restore_result" title="Permalink to this definition">¶</a></dt>
<dd><p>this function will verify restore result</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">source_path  (str) original path of test data</p>
<p>dest_path    (str)  restored data path</p>
<dl class="last docutils">
<dt>verify_acl   (bool) True - will verify ACL</dt>
<dd><p class="first">False - will not verify ACL</p>
<p class="last">default: False</p>
</dd>
</dl>
</dd>
<dt>Return:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception - Any error occurred while running restore</dt>
<dd>or restore didn’t complete successfully.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.verify_stub">
<code class="descname">verify_stub</code><span class="sig-paren">(</span><em>path=None</em>, <em>test_data_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/onepasshelper.html#cvonepas_helper.verify_stub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.onepasshelper.cvonepas_helper.verify_stub" title="Permalink to this definition">¶</a></dt>
<dd><p>this function will verify whether stub rules get honor</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><blockquote class="first">
<div><dl class="docutils">
<dt>path     (str)  parent folder path</dt>
<dd><dl class="first last docutils">
<dt>default: None function will automatically assign</dt>
<dd>self.subclient_props[‘subclient_content’][0]</dd>
</dl>
</dd>
<dt>test_data_list (list) with each item as tuple type</dt>
<dd><dl class="first last docutils">
<dt>e.g</dt>
<dd><p class="first">[(‘shouldbearchive.txt ‘True’),
(‘shouldnotbearchive.txt ‘False’)]
fileName- the name of the file it will create
‘True’ - means this file will meet migration rule</p>
<blockquote>
<div>and will create file with size as Size1</div></blockquote>
<dl class="last docutils">
<dt>‘False’- means file will not meet migration rule</dt>
<dd>and will create file with size as Size2</dd>
<dt>default: None, function will automatically</dt>
<dd>assign self.test_file_list</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="last docutils">
<dt>Return:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>exception:</dt>
<dd>if should stub file didn’t stub or
should not stub file get stubbed</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Automation.FileSystem.FSUtils.unixfshelper">
<span id="automation-filesystem-fsutils-unixfshelper-module"></span><h2>Automation.FileSystem.FSUtils.unixfshelper module<a class="headerlink" href="#module-Automation.FileSystem.FSUtils.unixfshelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing Unix File System operations</p>
<p>UnixFSHelper is the only class defined in this file.</p>
<p>UnixFSHelper: Helper class to perform file system operations</p>
<dl class="docutils">
<dt>UnixFSHelper:</dt>
<dd><p class="first">__init__()                   –  initializes unix file system helper object</p>
<p>verify_dc()                  –  Verifies whether the job used Scan optimization</p>
<p>mount_openvms_testpath()     –  Mounts OpenVMS test path on the associated unix proxy</p>
<p>execute_openvms_command()    –  Executes a command on OpenVMS remotely using ssh</p>
<p class="last">unmount_openvms_testpath()   –  Unmounts the OpenVMS test path mounted on the proxy client.</p>
</dd>
</dl>
<dl class="class">
<dt id="Automation.FileSystem.FSUtils.unixfshelper.UnixFSHelper">
<em class="property">class </em><code class="descclassname">Automation.FileSystem.FSUtils.unixfshelper.</code><code class="descname">UnixFSHelper</code><span class="sig-paren">(</span><em>testcase</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/unixfshelper.html#UnixFSHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.unixfshelper.UnixFSHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystem.FSUtils.fshelper.FSHelper</span></code></p>
<p>Helper class to perform file system operations</p>
<dl class="method">
<dt id="Automation.FileSystem.FSUtils.unixfshelper.UnixFSHelper.execute_openvms_command">
<code class="descname">execute_openvms_command</code><span class="sig-paren">(</span><em>command_string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/unixfshelper.html#UnixFSHelper.execute_openvms_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.unixfshelper.UnixFSHelper.execute_openvms_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies whether the job used Scan optimization</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd>command_string  (str)   – command to be executed</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>if any error occurred while executing the command on OpenVMS</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.unixfshelper.UnixFSHelper.mount_openvms_testpath">
<code class="descname">mount_openvms_testpath</code><span class="sig-paren">(</span><em>test_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/unixfshelper.html#UnixFSHelper.mount_openvms_testpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.unixfshelper.UnixFSHelper.mount_openvms_testpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Mounts OpenVMS test path on the proxy associated with the OpenVMS client.</p>
<p>For OpenVMS,
since we cannot directly execute shell script on OpenVMS,
we first mount the OpenVMS test path onto the associated proxy client.
Finally, we execute the shell scripts or commands to generate data,
verify data or related tasks on the proxy client at the mount location.</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd>test_path   (str)   – OpenVMS test path to be mounted.</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>if any error occurred while mounting OpenVMS test path.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.unixfshelper.UnixFSHelper.unmount_openvms_testpath">
<code class="descname">unmount_openvms_testpath</code><span class="sig-paren">(</span><em>test_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/unixfshelper.html#UnixFSHelper.unmount_openvms_testpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.unixfshelper.UnixFSHelper.unmount_openvms_testpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmounts the OpenVMS test path mounted on the proxy client.
This function is only executed when the mounting was successful.
To check that we use the boolean variable is_openvms_testpath_mounted.</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd>test_path   (str)   – OpenVMS test path to be unmounted.</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="Automation.FileSystem.FSUtils.unixfshelper.UnixFSHelper.verify_dc">
<code class="descname">verify_dc</code><span class="sig-paren">(</span><em>jobid</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/unixfshelper.html#UnixFSHelper.verify_dc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.unixfshelper.UnixFSHelper.verify_dc" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies whether the job used Scan optimization</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">jobid    (int)  – jobid to be checked</p>
<dl class="last docutils">
<dt>log_dir  (str)  – path of the log directory</dt>
<dd>default:None</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>bool   -   Returns True if dc scan was successful or else false</dd>
<dt>Raises:</dt>
<dd><dl class="first last docutils">
<dt>Exception:</dt>
<dd>if any error occurred while verifying the scan status</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Automation.FileSystem.FSUtils.winfshelper">
<span id="automation-filesystem-fsutils-winfshelper-module"></span><h2>Automation.FileSystem.FSUtils.winfshelper module<a class="headerlink" href="#module-Automation.FileSystem.FSUtils.winfshelper" title="Permalink to this headline">¶</a></h2>
<p>Helper file for performing Windows File System operations</p>
<p>WinFSHelper is the only classe defined in this file.</p>
<p>WinFSHelper: Helper class to perform file system operations</p>
<p>WinFSHelper:</p>
<blockquote>
<div>remote_login()                  –  establishes remote desktop connection with the client</div></blockquote>
<dl class="class">
<dt id="Automation.FileSystem.FSUtils.winfshelper.WinFSHelper">
<em class="property">class </em><code class="descclassname">Automation.FileSystem.FSUtils.winfshelper.</code><code class="descname">WinFSHelper</code><span class="sig-paren">(</span><em>testcase</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/winfshelper.html#WinFSHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.winfshelper.WinFSHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystem.FSUtils.fshelper.FSHelper</span></code></p>
<p>Helper class to perform file system operations</p>
<dl class="method">
<dt id="Automation.FileSystem.FSUtils.winfshelper.WinFSHelper.remote_login">
<code class="descname">remote_login</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Automation/FileSystem/FSUtils/winfshelper.html#WinFSHelper.remote_login"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Automation.FileSystem.FSUtils.winfshelper.WinFSHelper.remote_login" title="Permalink to this definition">¶</a></dt>
<dd><p>Establishes remote desktop connection with the client.</p>
<dl class="docutils">
<dt>Raises:</dt>
<dd>Exception - If remote login is not successful</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Automation.FileSystem.FSUtils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-Automation.FileSystem.FSUtils" title="Permalink to this headline">¶</a></h2>
<p>Initialize the Utils for FileSystem agent.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Automation.FileSystem.FSUtils package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-Automation.FileSystem.FSUtils.fshelper">Automation.FileSystem.FSUtils.fshelper module</a></li>
<li><a class="reference internal" href="#module-Automation.FileSystem.FSUtils.ibmihelper">Automation.FileSystem.FSUtils.ibmihelper module</a><ul>
<li><a class="reference internal" href="#ibmihelper">IBMiHelper</a><ul>
<li><a class="reference internal" href="#attributes">Attributes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-Automation.FileSystem.FSUtils.migration_assistant_helper">Automation.FileSystem.FSUtils.migration_assistant_helper module</a><ul>
<li><a class="reference internal" href="#migrationassistanthelper">MigrationAssistantHelper</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Automation.FileSystem.FSUtils.onepasshelper">Automation.FileSystem.FSUtils.onepasshelper module</a></li>
<li><a class="reference internal" href="#module-Automation.FileSystem.FSUtils.unixfshelper">Automation.FileSystem.FSUtils.unixfshelper module</a></li>
<li><a class="reference internal" href="#module-Automation.FileSystem.FSUtils.winfshelper">Automation.FileSystem.FSUtils.winfshelper module</a></li>
<li><a class="reference internal" href="#module-Automation.FileSystem.FSUtils">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">Automation</a><ul>
  <li><a href="Automation.html">Automation namespace</a><ul>
  <li><a href="Automation.FileSystem.html">Automation.FileSystem package</a><ul>
      <li>Previous: <a href="Automation.FileSystem.html" title="previous chapter">Automation.FileSystem package</a></li>
      <li>Next: <a href="Automation.FileSystem.SNAPUtils.html" title="next chapter">Automation.FileSystem.SNAPUtils package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Automation.FileSystem.FSUtils.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Commvault Systems Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/Automation.FileSystem.FSUtils.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>